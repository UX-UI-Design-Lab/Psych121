(window.webpackJsonp=window.webpackJsonp||[]).push([[73,4,6],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATE_LOADED="STATE_LOADED",t.STATE_DETECTION_COMPLETED="STATE_DETECTION_COMPLETED",t.AUDIO_MODULE_MOUNTED="AUDIO_MODULE_MOUNTED",t.ACCESS_TOKEN_RECEIVED="ACCESS_TOKEN_RECEIVED",t.USER_LOGOUT_COMPLETED="USER_LOGOUT_COMPLETED",t.USER_LOGOUT_REQUESTED="USER_LOGOUT_REQUESTED",t.USER_VIEW_LOAD_REQUESTED="USER_VIEW_LOAD_REQUESTED",t.USER_VIEW_LOAD_COMPLETED="USER_VIEW_LOAD_COMPLETED",t.USER_VIEW_LOAD_FAILED="USER_VIEW_LOAD_FAILED",t.USER_PLUS_DATA_LOADED="USER_PLUS_DATA_LOADED",t.LOCALIZATION_RESPONSE_RECEIVED="LOCALIZATION_RESPONSE_RECEIVED",t.GET_LOCAL_STATIONS_REQUESTED="GET_LOCAL_STATIONS_REQUESTED",t.GET_LOCAL_STATIONS_SKIPPED="GET_LOCAL_STATIONS_SKIPPED",t.GET_LOCAL_STATIONS_SUCCEEDED="GET_LOCAL_STATIONS_SUCCEEDED",t.GET_LOCAL_STATIONS_FAILED="GET_LOCAL_STATIONS_FAILED",t.PRE_EXISTING_LOCAL_STATIONS_DETECTED="PRE_EXISTING_LOCAL_STATIONS_DETECTED",t.STATION_CHANGE_REQUESTED="STATION_CHANGE_REQUESTED",t.STATION_CHANGE_COMPLETED="STATION_CHANGE_COMPLETED",t.STATION_AUTOLOCALIZED="STATION_AUTOLOCALIZED",t.SET_STATE="SET_STATE",t.SET_SOURCE="SET_SOURCE",t.SET_OTHER_AMOUNT="SET_OTHER_AMOUNT",t.RESET_OTHER_AMOUNT="RESET_OTHER_AMOUNT",t.PARTICIPATING_STATION_DATA_LOADED="PARTICIPATING_STATION_DATA_LOADED",t.DEFAULT_ORG_RESOLVED="DEFAULT_ORG_RESOLVED",t.STATION_DATA_LOADED="STATION_DATA_LOADED",t.TOGGLE_EXPANDED="TOGGLE_EXPANDED",t.INITIAL_STATE_REVERTED="INITIAL_STATE_REVERTED",t.AUDIO_COMPLETE="AUDIO_COMPLETE",t.AUDIO_DURATION_CHANGE="AUDIO_DURATION_CHANGE",t.AUDIO_BUFFERING_STARTED="AUDIO_BUFFERING_STARTED",t.AUDIO_BUFFERING_FINISHED="AUDIO_BUFFERING_FINISHED",t.AUDIO_PLAYING_STATUS_DIRECT="AUDIO_PLAYING_STATUS_DIRECT",t.PLAY_PAUSE_BUTTON_PRESSED="PLAY_PAUSE_BUTTON_PRESSED",t.PLAY_PAUSE_REQUESTED="PLAY_PAUSE_REQUESTED",t.NEW_PLAY_REQUESTED="NEW_PLAY_REQUESTED",t.AUDIO_REQUESTED="AUDIO_REQUESTED",t.AUDIO_PLAYED="AUDIO_PLAYED",t.TOGGLE_PLAY="TOGGLE_PLAY",t.SET_AUDIO_PLAYER_VOLUME="SET_AUDIO_PLAYER_VOLUME",t.ADD_STREAM_TO_STAGE_REQUESTED="ADD_STREAM_TO_STAGE_REQUESTED",t.AUDIO_EXPIRED="AUDIO_EXPIRED",t.AUDIO_ERROR="AUDIO_ERROR",t.REWIND="REWIND",t.FAST_FORWARD="FAST_FORWARD",t.SKIP="SKIP",t.SCRUB_BEGIN="SCRUB_BEGIN",t.SCRUB_END="SCRUB_END",t.SEEK="SEEK",t.LINK_CLICKED="LINK_CLICKED",t.CLEAR_HISTORY_REQUESTED="CLEAR_HISTORY_REQUESTED",t.PREVIOUS_AUDIO_PLAY_REQUESTED="PREVIOUS_AUDIO_PLAY_REQUESTED",t.INCREMENT_AUDIO_HISTORY_HEAD="INCREMENT_AUDIO_HISTORY_HEAD",t.HISTORY_ITEMS_UNLOADED="HISTORY_ITEMS_UNLOADED",t.METADATA_LOADED="METADATA_LOADED",t.METADATAS_LOADED="METADATAS_LOADED",t.METADATA_UNLOADED="METADATA_UNLOADED",t.METADATAS_UNLOADED="METADATAS_UNLOADED",t.METADATA_INVALIDATED="METADATA_INVALIDATED",t.NOW_ON_STREAMS_REGISTRATION_REQUESTED="NOW_ON_STREAMS_REGISTRATION_REQUESTED",t.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED="NOW_ON_STREAMS_UNREGISTRATION_REQUESTED",t.INITIAL_WIDTH_DETECTED="INITIAL_WIDTH_DETECTED",t.WIDTH_DETECTED="WIDTH_DETECTED",t.TOUCH_DETECTED="TOUCH_DETECTED",t.ECOSYSTEM_DETECTED="ECOSYSTEM_DETECTED",t.RIGHTRAIL_DETECTED="RIGHTRAIL_DETECTED",t.PAGE_VISIBILITY_DETECTED="PAGE_VISIBILITY_DETECTED",t.CONTAINER_UNWRAPPED="CONTAINER_UNWRAPPED",t.NOW_PLAYING_LOADED="NOW_PLAYING_LOADED",t.COUNTRY_REQUESTED="COUNTRY_REQUESTED",t.COUNTRY_DETECTED="COUNTRY_DETECTED",t.TIMER="TIMER",t.STORY_PAGE_DETECTED="STORY_PAGE_DETECTED",t.END_OF_STORY_RECOMMENDATION_REQUESTED="END_OF_STORY_RECOMMENDATION_REQUESTED",t.END_OF_STORY_RECOMMENDATION_COMPLETED="END_OF_STORY_RECOMMENDATION_COMPLETED",t.END_OF_STORY_RECOMMENDATION_FAILED="END_OF_STORY_RECOMMENDATION_FAILED",t.CENTER_STAGE_AD_STATUS_DETERMINED="CENTER_STAGE_AD_STATUS_DETERMINED",t.PANE_CHANGE_REQUESTED="PANE_CHANGE_REQUESTED",t.PANE_CHANGE_DIRECT="PANE_CHANGE_DIRECT",t.PANE_CHANGE_WITH_EXPAND="PANE_CHANGE_WITH_EXPAND",t.ON_DEMAND_PANE_SELECTED_WITH_PLAY="ON_DEMAND_PANE_SELECTED_WITH_PLAY",t.STREAMING_PANE_SELECTED_WITH_PLAY="STREAMING_PANE_SELECTED_WITH_PLAY",t.NEWSCAST_PANE_SELECTED_WITH_PLAY="NEWSCAST_PANE_SELECTED_WITH_PLAY",t.COLLAPSE_PANE="COLLAPSE_PANE",t.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP="NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP",t.AGG_REQUESTED="AGG_REQUESTED",t.AGG_LOADED="AGG_LOADED",t.NEWSCAST_REQUESTED="NEWSCAST_REQUESTED",t.QUEUE_BUTTON_PRESSED="QUEUE_BUTTON_PRESSED",t.ADD_ONE_TO_QUEUE="ADD_ONE_TO_QUEUE",t.ADD_MANY_TO_QUEUE="ADD_MANY_TO_QUEUE",t.REMOVE_ONE_FROM_QUEUE="REMOVE_ONE_FROM_QUEUE",t.ADD_MANY_TO_TOP_OF_QUEUE="ADD_MANY_TO_TOP_OF_QUEUE",t.INITIALIZE_FEATURED_AUDIO_REQUESTED="INITIALIZE_FEATURED_AUDIO_REQUESTED",t.INITIALIZE_FEATURED_AUDIO_SUCCEEDED="INITIALIZE_FEATURED_AUDIO_SUCCEEDED",t.SPONSORSHIP_REQUESTED="SPONSORSHIP_REQUESTED",t.SPONSORSHIP_STARTED="SPONSORSHIP_STARTED",t.POSTROLL_SPONSORSHIP_STARTED="POSTROLL_SPONSORSHIP_STARTED",t.SPONSORSHIP_LOADED="SPONSORSHIP_LOADED",t.SPONSORSHIP_SLOT_AVAILABLE="SPONSORSHIP_SLOT_AVAILABLE",t.MOBILE_SPONSORSHIP_SLOT_AVAILABLE="MOBILE_SPONSORSHIP_SLOT_AVAILABLE",t.SOUNDSCAPES_LOADED="SOUNDSCAPES_LOADED",t.SPONSORED_CHANNEL_SET="SPONSORED_CHANNEL_SET",t.PLAY_POSTROLL_BEFORE_UID_SET="PLAY_POSTROLL_BEFORE_UID_SET",t.PLAY_POSTROLL_BEFORE_UID_RESET="PLAY_POSTROLL_BEFORE_UID_RESET",t.SPONSORSHIP_DIVS_RESET="SPONSORSHIP_DIVS_RESET",t.SPONSORSHIP_INTERRUPTED="SPONSORSHIP_INTERRUPTED",t.PREEMPTED_UID_QUEUED="PREEMPTED_UID_QUEUED",t.PREEMPTED_UID_REPLACED="PREEMPTED_UID_REPLACED",t.LEAVE_BEHIND_INITIALIZED="LEAVE_BEHIND_INITIALIZED",t.SOUNDSCAPES_BANNER_CLICKED="SOUNDSCAPES_BANNER_CLICKED",t.RESET_LAST_PLAYED_TIMESTAMP="RESET_LAST_PLAYED_TIMESTAMP",t.PREROLL_ENDED="PREROLL_ENDED",t.POSTROLL_ENDED="POSTROLL_ENDED",t.VIDEO_PREROLL_ENDED="VIDEO_PREROLL_ENDED",t.STATION_SEARCH_REQUESTED="STATION_SEARCH_REQUESTED",t.STATION_SEARCH_RESULTS_LOADED="STATION_SEARCH_LOADED",t.STATION_SEARCH_FAILED="STATION_SEARCH_FAILED",t.USER_SELECTS_STATION="USER_SELECTS_STATION",t.STATION_NETWORK_LOOKUP_REQUESTED="STATION_NETWORK_LOOKUP_REQUESTED",t.STATION_NETWORK_RESULTS_LOADED="STATION_NETWORK_RESULTS_LOADED",t.STATION_NETWORK_LOOKUP_FAILED="STATION_NETWORK_LOOKUP_FAILED",t.NEWSLETTER_ACQUISITION_REQUESTED="NEWSLETTER_ACQUISITION_REQUESTED",t.NEWSLETTER_ACQUISITION_COMPLETED="NEWSLETTER_ACQUISITION_COMPLETED",t.NEWSLETTER_ACQUISITION_FAILED="NEWSLETTER_ACQUISITION_FAILED",t.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED="NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED",t.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED="NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED",t.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED="NEWSLETTER_EXTERNAL_ACQUISITION_FAILED",t.STATION_DROPDOWN_TOGGLED="STATION_DROPDOWN_TOGGLED",t.CLOSE_SUBNAVS="CLOSE_SUBNAVS",t.PAGE_DETECTED="PAGE_DETECTED",t.SESSION_LOADED="SESSION_LOADED",t.SPIKING_STORIES_REQUESTED="SPIKING_STORIES_REQUESTED",t.SPIKING_STORIES_SUCCEEDED="SPIKING_STORIES_SUCCEEDED",t.SPIKING_STORIES_FAILED="SPIKING_STORIES_FAILED",t.SPIKING_STORY_DETECTED="SPIKING_STORY_DETECTED",t.SPIKING_STORY_NOT_DETECTED="SPIKING_STORY_NOT_DETECTED",t.INITIAL_STATE_CORRECTION="INITIAL_STATE_CORRECTION",t.PROGRAM_SCHEDULE_REQUESTED="PROGRAM_SCHEDULE_REQUESTED",t.PROGRAM_SCHEDULE_LOADED="PROGRAM_SCHEDULE_LOADED",t.HP_LOCAL_STORIES_REQUESTED="HP_LOCAL_STORIES_REQUESTED",t.HP_LOCAL_STORIES_SUCCEEDED="HP_LOCAL_STORIES_SUCCEEDED",t.HP_LOCAL_STORIES_FAILED="HP_LOCAL_STORIES_FAILED",t.EMPTY_ACTION_TYPE="EMPTY_ACTION_TYPE",t.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED="LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED",t.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED="LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED",t.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE="ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE",t.ENABLE_CONTINUOUS_LISTENING="ENABLE_CONTINUOUS_LISTENING",t.DISABLE_CONTINUOUS_LISTENING="DISABLE_CONTINUOUS_LISTENING",t.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING="AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING",t.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED="MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED",t.MOBILE_NATIVE_DETECTED="MOBILE_NATIVE_DETECTED",t.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED="MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_START_LOADING="MOBILE_NATIVE_DID_START_LOADING",t.MOBILE_NATIVE_DID_START_PLAYING="MOBILE_NATIVE_DID_START_PLAYING",t.MOBILE_NATIVE_DID_STOP_PLAYING="MOBILE_NATIVE_DID_STOP_PLAYING",t.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED="MOBILE_NATIVE_QUEUE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST="MOBILE_NATIVE_DID_ADD_TO_PLAYLIST",t.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST="MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST",t.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST="MOBILE_NATIVE_DID_START_LOADING_PLAYLIST",t.CHECK_GLOBAL_ALERTS="CHECK_GLOBAL_ALERTS",t.SHOW_GLOBAL_STICKYBAR="SHOW_GLOBAL_STICKYBAR",t.SHOW_GLOBAL_MODAL="SHOW_GLOBAL_MODAL",t.HIDE_GLOBAL_ALERTS="HIDE_GLOBAL_ALERTS",t.GLOBAL_ALERT_VARIATION_DETERMINED="GLOBAL_ALERT_VARIATION_DETERMINED",t.RESET_NUM_TIMES_MODAL_TRIGGERED="RESET_NUM_TIMES_MODAL_TRIGGERED",t.RESET_NUM_TIMES_STICKYBAR_TRIGGERED="RESET_NUM_TIMES_STICKYBAR_TRIGGERED",t.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED="ON_PAGE_CALLOUT_DETERMINATION_REQUESTED",t.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED="ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED",t.END_OF_STORY_CALLOUT_SEEN="END_OF_STORY_CALLOUT_SEEN",t.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED="END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED",t.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED="END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED",t.HP_HIDE_STATION_CARD_MESSAGE="HP_HIDE_STATION_CARD_MESSAGE",t.MUSIC_STREAMS_REQUESTED="MUSIC_STREAMS_REQUESTED",t.MUSIC_STREAMS_REQUEST_SUCCEEDED="MUSIC_STREAMS_REQUEST_SUCCEEDED",t.MUSIC_STREAMS_STATUS_RESET="MUSIC_STREAMS_STATUS_RESET",t.MUSIC_STREAMS_REQUEST_FAILED="MUSIC_STREAMS_REQUEST_FAILED",t.DATA_CONSENT_UPDATED="DATA_CONSENT_UPDATED",t.PIANO_INIT_SUCCEEDED="PIANO_INIT_SUCCEEDED"},,function(e,t,n){"use strict";n.p=NPR.serverVars.webpackPublicPath,n(184),n(488),n(182),n(489),n(490),n(492),n(498),n(54),n(470),n(499),n(501),n(155),n(502),n(225),n(224),n(503),n(55),n(506),n(507),n(540),n(545),n(131),n(546),n(557),n(558),n(183)},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6),o=(a=r)&&a.__esModule?a:{default:a};t.default={info:function(e,t){(0,o.default)(this).trigger("npr:log:info",{message:e,data:t})},warning:function(e,t,n){(0,o.default)(this).trigger("npr:log:warning",{message:e,data:t,exception:n})},error:function(e,t){(0,o.default)(this).trigger("npr:log:error",{exception:e,data:t})}}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEGMENT="segment",t.STREAM="stream",t.SPONSORSHIP="sponsorship",t.SEGMENT_PROGRAM="program",t.SEGMENT_NEWSCAST="newscast",t.SEGMENT_OTHER="other",t.STREAM_STATION="station",t.STREAM_OTHER="other",t.SPONSORSHIP_PLAYER="sponsorship player",t.SPONSORSHIP_SOUNDSCAPE="sponsorship soundscape",t.ADD_SUPPORTED_SELECTION_TO_QUEUE="add supported selection to queue",t.ON_DEMAND="ondemand",t.STANDARD="standard",t.SOUNDSCAPES="soundscapes",t.CLICK_TO_PLAY_SOUNDSCAPES="click-to-play soundscapes",t.PLAYER_PODCAST="player podcast",t.CUSTOM_CHANNEL="player custom channel",t.CTP_CUSTOM_CHANNEL_OR_PODCAST="click-to-play custom channel or podcast",t.TYPE_MP3=10},,,function(e,t,n){"use strict";var a,r,o=s(n(9)),i=s(n(334));function s(e){return e&&e.__esModule?e:{default:e}}a=[n(6)],void 0===(r=function(e){return{create:function(){var t={_initComplete:!1,_appliesToCurrentPage:!1,name:null,init:void 0,onReady:void 0,onUnload:void 0,debug:!1},n=function(){o.default.info("onReady: "+t.name);try{t.onReady()}catch(e){o.default.error(e)}},a=function(){var n=e("body").data("pjax-modules");return!!n&&-1!==n.split(" ").indexOf(t.name)},r=function n(){if(!t._initComplete)if(t._appliesToCurrentPage=a(),t._appliesToCurrentPage){o.default.info("init: "+t.name);try{t.init()}catch(e){o.default.error(e)}t._initComplete=!0}else e(document).one("npr:pageLoad",n)},s=function(){t._appliesToCurrentPage=a(),t._appliesToCurrentPage&&i.default.getPromise().then(n)},u=function(){if(t._appliesToCurrentPage){o.default.info("onUnload: "+t.name);try{t.onUnload()}catch(e){o.default.error(e)}}};return t.register=function(){o.default.info("register: "+t.name),"function"==typeof t.init&&("resolved"===i.default.getPromise().state()?r():e(document).one("npr:pageLoad",r)),"function"==typeof t.onReady&&(e(document).on("npr:pageLoad",s),"resolved"===i.default.getPromise().state()&&s()),"function"==typeof t.onUnload&&e(document).on("npr:pageUnload",u)},t}}}.apply(t,a))||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NOT_STARTED="NOT_STARTED",t.PENDING="PENDING",t.FAILED="FAILED",t.RESOLVED="RESOLVED",t.SKIPPED="SKIPPED"},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SMALL="SMALL",t.MEDIUM="MEDIUM",t.LARGE="LARGE"},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.togglePlay=l,t.audioPlayed=function(e,t){return{type:a.AUDIO_PLAYED,payload:e,meta:t}},t.audioExpired=c,t.audioError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a.AUDIO_ERROR,payload:e,meta:t}},t.audioRequested=d,t.getSegmentPlayRequestAction=f,t.segmentPlayRequest=p,t.newPlayRequestedOwnAction=h,t.newPlayRequested=m,t.playPauseRequestedOwnAction=g,t.playPauseButtonPressed=function(e,t){return{type:a.PLAY_PAUSE_BUTTON_PRESSED,payload:e,meta:t}},t.playPauseRequested=function(e,t){return function(n,a){var s=a().player.userEverInvokedPlay;if(s||(0,i.engageAutoplayHack)(),n(g(e,t)),a().player.currentUid!==e.uid||s)a().player.currentUid===e.uid||e.uid===a().sponsorship.preemptedUid?n(l(e,t)):a().sponsorship.isPlayingSponsorship?e.type===r.STREAM||e.type===r.SEGMENT?n(o.preemptedUidReplaced(e)):n(l(e,t)):m(e,t)(n,a);else{var u=a().player.position,c=v(e,a().time,a().sponsorship,u);e.hasAdsWizz&&(n(o.resetLastPlayedTimestamp()),n(o.sponsorshipDivsReset(!1,!0))),n(c(e,t))}}},t.toggleExpanded=function(){return{type:a.TOGGLE_EXPANDED}},t.audioPlayingStatusDirect=function(e,t){return{type:a.AUDIO_PLAYING_STATUS_DIRECT,payload:{isAudioPlaying:e,metadata:t}}},t.audioBufferingStarted=function(e){return{type:a.AUDIO_BUFFERING_STARTED,payload:{metadata:e}}},t.audioBufferingFinished=function(e){return{type:a.AUDIO_BUFFERING_FINISHED,payload:{metadata:e}}},t.rewind=function(e){return{type:a.REWIND,payload:e}},t.fastForward=function(e){return{type:a.FAST_FORWARD,payload:e}},t.audioComplete=function(e,t){return function(n){e.hasAdsWizz&&n(o.resetLastPlayedTimestamp()),n(y(e,t))}},t.audioCompleteOwnAction=y,t.scrubBegin=function(e){return{type:a.SCRUB_BEGIN,payload:e}},t.scrubEnd=function(e){return{type:a.SCRUB_END,payload:e}},t.seek=function(e,t){return{type:a.SEEK,payload:{position:e,metadata:t}}},t.skip=function(){return{type:a.SKIP}},t.initialWidthDetected=function(e,t){return{type:a.INITIAL_WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.widthDetected=function(e,t){return{type:a.WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.pageVisibilityDetected=function(e){return{type:a.PAGE_VISIBILITY_DETECTED,payload:e}},t.touchDetected=function(){return{type:a.TOUCH_DETECTED}},t.countryRequested=function(){return{type:a.COUNTRY_REQUESTED}},t.countryDetected=function(e){return{type:a.COUNTRY_DETECTED,payload:e}},t.rightRailDetected=function(e){return{type:a.RIGHTRAIL_DETECTED,payload:e}},t.initialStateReverted=function(){return{type:a.INITIAL_STATE_REVERTED}},t.resumePlayFromPreviousSession=v,t.audioModuleMounted=function(){return{type:a.AUDIO_MODULE_MOUNTED}},t.addStreamToStageRequested=function(e){return{type:a.ADD_STREAM_TO_STAGE_REQUESTED,payload:e}},t.setAudioPlayerVolume=function(e){return{type:a.SET_AUDIO_PLAYER_VOLUME,payload:e}},t.mobileNativePlayPausePressed=function(e){return{type:a.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidStartLoading=function(e){return{type:a.MOBILE_NATIVE_DID_START_LOADING,payload:e}},t.mobileNativeDidStartPlaying=function(e){return{type:a.MOBILE_NATIVE_DID_START_PLAYING,payload:e}},t.mobileNativeDidStopPlaying=function(e){return{type:a.MOBILE_NATIVE_DID_STOP_PLAYING,payload:e}};var a=s(n(1)),r=s(n(15)),o=s(n(152)),i=n(103);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(e,t){return e.expires&&e.expires<=t.now/1e3};function l(e,t){return{type:a.TOGGLE_PLAY,payload:e,meta:t}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a.AUDIO_EXPIRED,payload:e,meta:t}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:a.AUDIO_REQUESTED,payload:{metadata:e,startPosition:n},meta:t}}function f(e,t,n){return u(e,t)?function(e){return c(e,{reason:"Audio rights expired"})}:(0,i.shouldPlaySponsorshipBefore)(e,n.lastPlayedTimestamp,n.playPostrollBeforeUid)?o.sponsorshipRequested:d}function p(e,t){return function(n,a){var r=f(e,a().time,a().sponsorship);e.hasAdsWizz&&(n(o.resetLastPlayedTimestamp()),n(o.sponsorshipDivsReset(!1,!0))),n(r(e,t))}}function h(e,t){return{type:a.NEW_PLAY_REQUESTED,payload:e,meta:t}}function m(e,t){return function(n,a){switch(n(h(e,t)),e.type){case r.STREAM:case r.SPONSORSHIP:n(d(e,t));break;case r.SEGMENT:p(e,t)(n,a)}}}function g(e,t){return{type:a.PLAY_PAUSE_REQUESTED,payload:e,meta:t}}function y(e,t){return{type:a.AUDIO_COMPLETE,payload:e,meta:t}}function v(e,t,n,a){return u(e,t)?function(e){return c(e,{reason:"Audio rights expired"})}:a>0?l:(0,i.shouldPlaySponsorshipBefore)(e,n.lastPlayedTimestamp,n.playPostrollBeforeUid)?o.sponsorshipRequested:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserQueue=M,t.getContinuousQueue=L,t.shouldEnableContinuousListening=function(e){return s.default.shouldEnableContinuousListening(e.queue)},t.getContinuousTriggerTimestamp=function(e){return s.default.getContinuousTriggerTimestamp(e.queue)},t.getConstructedQueue=function(e){return M(e).concat(L(e))},t.isAudioRecommendation=function(e,t){return L(e).includes(t)},t.getPlayerHistory=function(e){return h.default.getPlayerHistory(e.history)},t.getCurrentPlayerHistoryHeadPosition=function(e){return h.default.getCurrentPlayerHistoryHeadPosition(e.history)},t.getCurrentPane=function(e){return i.default.getCurrentPane(e.panes)},t.getAlertVariant=function(e){return P.default.getAlertVariant(e)},t.getNumTimesModalTriggered=function(e,t){return P.default.getNumTimesModalTriggered(e)},t.getNumTimesStickybarTriggered=function(e,t){return P.default.getNumTimesStickybarTriggered(e,t)},t.getAlertIsDismissed=function(e){return P.default.getAlertIsDismissed(e)},t.getGlobalAlertAlreadyVisibleThisPage=function(e){return P.default.getGlobalAlertAlreadyVisibleThisPage(e)},t.getGlobalAlertLastDisplayed=function(e){return P.default.getGlobalAlertLastDisplayed(e)},t.getVariantIDToShowOnThisPage=function(e){return P.default.getVariantIDToShowOnThisPage(e)},t.getVariantTypeToShowOnThisPage=function(e){return P.default.getVariantTypeToShowOnThisPage(e)},t.getCenterStageVariant=function(e){return A.default.getCenterStageVariant(e)},t.getEndOfStoryVariant=function(e){return A.default.getEndOfStoryVariant(e)},t.getIsGlobalAlertsComplete=function(e){return A.default.getIsGlobalAlertsComplete(e)},t.getIsDFPComplete=function(e){return A.default.getIsDFPComplete(e)},t.getWasOnPageCalloutDeterminationRequested=function(e){return A.default.getWasOnPageCalloutDeterminationRequested(e)},t.getCardMessageIsHidden=function(e){return w.default.getCardMessageIsHidden(e)},t.getCurrentPage=function(e){return l.default.getCurrentPage(e)},t.getIsCurrentPageSpiking=function(e){return c.default.getIsCurrentPageSpiking(e)},t.getLocalMusicStreams=function(e){return I.default.getLocalMusicStreams(e)},t.getRockMusicStreams=function(e){return I.default.getRockMusicStreams(e)},t.getFolkMusicStreams=function(e){return I.default.getFolkMusicStreams(e)},t.getClassicalMusicStreams=function(e){return I.default.getClassicalMusicStreams(e)},t.getRbMusicStreams=function(e){return I.default.getRbMusicStreams(e)},t.getHiphopMusicStreams=function(e){return I.default.getHiphopMusicStreams(e)},t.getRbHiphopMusicStreams=function(e){return I.default.getRbHiphopMusicStreams(e)},t.getJazzMusicStreams=function(e){return I.default.getJazzMusicStreams(e)},t.getMixedMusicStreams=function(e){return I.default.getMixedMusicStreams(e)},t.getMusicStreamsStatus=function(e){return I.default.getMusicStreamsStatus(e)},t.getLastPaymentDate=function(e){return D.default.getLastPaymentDate(e)};var a=n(188),r=R(n(574)),o=R(n(575)),i=R(n(576)),s=R(n(577)),u=R(n(578)),l=R(n(579)),c=R(n(580)),d=R(n(581)),f=R(n(582)),p=R(n(583)),h=R(n(584)),m=R(n(585)),g=R(n(586)),y=R(n(587)),v=R(n(588)),_=R(n(589)),E=R(n(590)),S=R(n(592)),b=R(n(593)),O=R(n(594)),T=R(n(595)),P=R(n(596)),A=R(n(597)),w=R(n(598)),I=R(n(599)),D=R(n(600)),N=R(n(601)),C=R(n(602));function R(e){return e&&e.__esModule?e:{default:e}}function M(e){return s.default.getUserQueue(e.queue)}function L(e){return s.default.getContinuousQueue(e.queue)}var j=(0,a.combineReducers)({aggs:o.default,donations:D.default.reducer,player:r.default,panes:i.default.reducer,queue:s.default.reducer,org:u.default,user:g.default,site:l.default.reducer,spikingStories:c.default.reducer,metadata:d.default,nowOnStreams:f.default,time:p.default,history:h.default.reducer,sponsorship:m.default,navigation:y.default,stationSearch:v.default,storyRecommendations:_.default,storyHistory:E.default.reducer,session:S.default,network:b.default,localStations:O.default,localStories:T.default,globalAlerts:P.default.reducer,userInteractions:C.default,onPageCallouts:A.default.reducer,cardMessage:w.default.reducer,streams:I.default.reducer,plusLocalization:N.default});t.default=j},,,,function(e,t,n){"use strict";(function(e){var a,r;a=[n(18),n(331),n(6)],void 0===(r=function(e,t,n){var a=e.create();a.name="player/more-options",a.onReady=function(){n("#wrapper").on("click",".bucketwrap.resaudio .audio-module-tools-toggle",(function(e){n(this).parent(".audio-module-tools").toggleClass("is-active"),n(this).parent(".audio-module-tools").find(".audio-module-more-tools").removeClass("has-secondary-overlay"),n(this).parent(".audio-module-tools").find(".audio-embed-overlay").removeClass("is-active"),n(this).parent(".audio-module-tools").find(".ecommercepop").removeClass("is-active");var t=n(this).parents(".bucketwrap.internallink");t.length&&t.toggleClass("has-active-audio-tools")})),function(){t.touch||n(".audio-embed-overlay .embed-url").on("click",(function(e){n(this).select()}));var e=n("#wrapper");e.on("click",".bucketwrap.resaudio .audio-tool-embed > button",(function(e){e.preventDefault();var t=n(this).parents(".bucketwrap.resaudio");t.find(".audio-module-more-tools").toggleClass("has-secondary-overlay"),t.find(".audio-embed-overlay").toggleClass("is-active")})),e.on("click",".bucketwrap.resaudio .audio-embed-overlay .btn-close",(function(e){n(this).parent(".audio-embed-overlay").removeClass("is-active"),n(this).parents(".audio-module-more-tools").removeClass("has-secondary-overlay")}))}()},a.onUnload=function(){var e=n("#wrapper");n(".audio-embed-overlay .embed-url").off("click"),e.off("click",".bucketwrap.resaudio .audio-tool-embed")},a.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(7),o=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45));function s(e){if(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""}function u(e,t){var n=/([^.]*\.[^.]*)$/,a=n.exec(e),r=n.exec(t);if(!a||!r)return!1;var o=/^([^.]*)/.exec(t);if(!o)return!1;var i=o[1],s=a[1],u=r[1];return e===t||s===u&&(u===t||"www"===i)}t.default={getUrlParameter:function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=window.location.href,a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);if(!a)return t||null;if(!a[2])return t||"";try{return decodeURIComponent(a[2].replace(/\+/g," "))}catch(e){return t||""}},addUrlParameter:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=-1===e.indexOf("?")?"?":"&",r=n?t+"="+encodeURIComponent(n):t;return e+a+r},extractDomain:s,extractDomainAndPath:function(e){if(e){var t=e.match(/^https?\:\/\/([^?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""},shouldDomainBeMirrored:u,isNavigationBetweenSecureAndInsecure:function(e,t){return e!==t&&(e===i.WEB_HOST_SECURE&&t===i.WEB_HOST||e===i.WEB_HOST&&t===i.WEB_HOST_SECURE)},mirrorProtocolAndSubDomain:function(e,t){if(!u(e.hostname,t.hostname))return t.href;var n=function(e,t){var n=/^(https?:\/\/)/;return n.exec(t)?t.replace(n,e+"//"):e+"//"+t}(e.protocol,t.href);return n=function(e,t){var n=/^([^.]*)/,a=/([^.]*\.[^.]*)$/,r=s(e),o=s(t),i=n.exec(r),u=n.exec(o);if(!i||!u)return t;var l=i[1],c=u[1],d=a.exec(r);if(d&&d[1]===r)return t;var f=a.exec(o);return f&&f[1]===o&&(l=r,c=o),t.replace(c,l)}(e.href,n)},isHttps:function(e){return e.startsWith("https://")},isLocalStoryPath:function(e){var t=e.pathname.split("/");return!(t.length<2)&&"local"===t[1]},getUrlPieces:function(e,t){var n="",a=(e=(e=e.replace("https://","")).replace("http://","")).indexOf("/");if(-1==a)n=e;else{var r=e.split("/"),o=r[0];if(0==r[1].length)return o;-1!=(a=(e=e.slice(a)).lastIndexOf("."))?(a=e.lastIndexOf("/"),e=e.slice(0,a)):(a=e.lastIndexOf("/"))==e.length-1&&(e=e.slice(0,a)),n=t?o+e:e}return n},getQueryParams:function(){var e=(0,o.default)(document,"location.search"),t={};if(e)for(var n=e.split("+").join(" "),a=/[?&]?([^=]+)=([^&]*)/g,r=a.exec(n);r;)t[decodeURIComponent(r[1])]=decodeURIComponent(r[2]),r=a.exec(n);return t}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GLOBAL_NAVIGATION="global navigation",t.STATION_DRAWER="station drawer",t.STATION_FINDER_PAGE="station finder",t.USER_PROFILE_PAGE="profile",t.STATION_SEARCH_RESULTS="station search results",t.STATION_CONTENT_BOX="station support box",t.HOMEPAGE_STATION_CARD="station card",t.DONATION_FORM="donation form",t.DONATION_EMBED="donation embed",t.LOCALIZATION_EMBED="localization embed"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadataLoaded=function(e){return{type:a.METADATA_LOADED,payload:e}},t.metadatasLoaded=function(e){return{type:a.METADATAS_LOADED,payload:e}},t.metadataUnloaded=function(e){return{type:a.METADATA_UNLOADED,payload:{uid:e}}},t.metadatasUnloaded=function(e){return{type:a.METADATAS_UNLOADED,payload:e}},t.nowPlayingLoaded=function(e,t){return{type:a.NOW_PLAYING_LOADED,payload:{uid:e,nowPlayingText:t}}},t.containerUnwrapped=function(e,t){return{type:a.CONTAINER_UNWRAPPED,payload:{uid:e,contentUrl:t}}},t.changeDuration=function(e,t){return{type:a.AUDIO_DURATION_CHANGE,payload:{uid:e,duration:t}}},t.metadataInvalidated=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reason:""};return{type:a.METADATA_INVALIDATED,payload:e,meta:t}},t.nowOnStreamsRegistrationRequested=function(e){return{type:a.NOW_ON_STREAMS_REGISTRATION_REQUESTED,payload:e}},t.nowOnStreamsUnregistrationRequested=function(e){return{type:a.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(573);var o=(0,((a=r)&&a.__esModule?a:{default:a}).default)();t.default=function(){return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NPR=1,t.WBEZ=309,t.WBEZ_STATION=308,t.WAMU=305,t.WAMU_OC=1162,t.WETA=372},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasConsentedTo=function(e){if(window&&void 0!==window.OnetrustActiveGroups)return window.OnetrustActiveGroups.split(",").includes(e);return!0},t.strictHasConsentedTo=function(e){if(window)return void 0!==window.OnetrustActiveGroups&&window.OnetrustActiveGroups.split(",").includes(e);return!0};t.STRICTLY_NECESSARY="C0001",t.PERFORMANCE_AND_ANALYTICS="C0002",t.FUNCTIONAL="C0003",t.TARGETING_AND_SPONSOR="C0004",t.SOCIAL_MEDIA="C0005"},,,,,function(e,t,n){"use strict";(function(e){var a,r,o,i=n(126),s=(o=i)&&o.__esModule?o:{default:o};a=[n(6),n(18)],void 0===(r=function(e,t){var n=t.create();function a(t,n){var a=e("main"),r=n.offset(),o=a.find("#ecommercePopupContainer");0===o.length?o=e('<div id="ecommercePopupContainer"></div>').appendTo("main"):o.empty(),o.append(t.clone().addClass("is-active"));var i=r.left-(o.outerWidth()-n.outerWidth());r.left<=o.outerWidth()&&(i="30px");var u=void 0;u=s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)?{top:r.top,left:"auto",right:"50%","margin-right":-o.outerWidth()/2}:{top:r.top,left:i,right:"auto","margin-right":0},o.css(u)}function r(t){t.preventDefault();var n=e(this);a(n.parents(".bookedition").find(".ecommercepop"),n)}function o(t){t.preventDefault();var n=e(this);a(n.parents(".ecommerce").children(".ecommercepop"),n)}function i(t){t.preventDefault();var n=e(this);a(n.parents(".bucketwrap.resaudio").find(".ecommercepop"),n),n.parents(".audio-module-tools").removeClass("is-active")}function u(t){e(this).parents(".ecommercepop").removeClass("is-active")}n.name="ecommerce",n.onReady=function(){e(".bookedition a.purchase").on("click",r),e(".ecommerce__button").on("click",o),e(".bucketwrap.resaudio .audio-tool-buy").on("click",i),e(document).on("click",".ecommercepop .btn-close",u)},n.onUnload=function(){e(".bookedition a.purchase").off("click",r),e(".ecommerce__button").off("click",o),e(".bucketwrap.resaudio .audio-tool-buy").off("click",i),e(".ecommercepop .btn-close").off("click",u),e(document).off("click",".ecommercepop .btn-close",u)},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebHost=t.STRIPE_SERVICE_HOST=t.WEBSITE_CONTEXT=t.IDENTITY_HOST=t.PROXY_API_HOST=t.LEGACY_WEB_HOST=t.PROXY_CDN_HOST=t.WEB_HOST_SECURE=t.WEB_HOST=t.API_HOST=void 0;var a,r=n(7),o=(a=r)&&a.__esModule?a:{default:a};t.API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.apiHost"),t.WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.WEB_HOST_SECURE="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHostSecure"),t.PROXY_CDN_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.LEGACY_WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.legacyWebHost"),t.PROXY_API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.IDENTITY_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.identityHost"),t.WEBSITE_CONTEXT="profile",t.STRIPE_SERVICE_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.stripeServiceHost"),t.getWebHost=function(){return"undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(336)),o=n(30),i=(a=o)&&a.__esModule?a:{default:a};t.default={getSessionInfo:function(){return{source:i.default.getUrlParameter("utm_source",""),medium:i.default.getUrlParameter("utm_medium",""),content:i.default.getUrlParameter("utm_content",""),campaign:i.default.getUrlParameter("utm_campaign",""),term:i.default.getUrlParameter("utm_term",""),userId:Number.parseInt(i.default.getUrlParameter("utm_id","0"),10)||0,orgId:Number.parseInt(i.default.getUrlParameter("utm_org_id","0"),10)||0,renderPlatform:i.default.getUrlParameter("renderPlatform",""),preventAutoLocalization:i.default.getUrlParameter("preventAutoLocalization","")}},isMobileNativeApp:function(e){return[r.NPR_ONE_IOS,r.NPR_ONE_ANDROID,r.NPR_NEWS_IOS].includes(e)}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var i=n.method||"GET";setTimeout((function(){return o("TIMEOUT: "+i+" "+t+" "+e+"ms")}),e),a(t,n).then((function(e){return r(e)})).catch((function(e){return o(e)}))}))};var a="object"===("undefined"==typeof window?"undefined":n(window))&&e?e:null}).call(this,n(658))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=v(n(6)),i=v(n(345)),s=v(n(9)),u=v(n(18)),l=v(n(621)),c=v(n(347)),d=v(n(36)),f=n(232),p=y(n(353)),h=y(n(135)),m=y(n(153)),g=y(n(38));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var _={EVENT_TYPE_DEFAULT:"defaultEvent",EVENT_TYPE_SOCIAL:"socialEvent",EVENT_TYPE_CUSTOM:"customEvent",Scopes:{Visitor:1,Session:2,Page:3},AUDIO_ACTIONS:["play audio","play full episode","play station stream"]},E={hasSetup:!1},S=u.default.create();function b(e,t){return{type:_.EVENT_TYPE_SOCIAL,network:e,action:t}}function O(e,t){return{category:e,action:t}}function T(e){var t=(0,o.default)(e),n=t.data("metrics");if("object"!==(void 0===n?"undefined":r(n))&&(n={}),!n.category){var a=t.data("metrics-category");if(a)n.category=a;else{var i=t.parents("[data-metrics-category]");i.length>0&&(n.category=i.data("metrics-category"))}}if(!n.action){var s=t.data("metrics-action");if(s)n.action=s.toLowerCase();else{var u=t.parents("[data-metrics-action]");u.length>0&&(n.action=u.data("metrics-action").toLowerCase())}}if(!n.label){var l=t.data("metrics-label");l?n.label=l:(n.label=t.attr("href"),n.label||(n.label=t.attr("src")))}return n}function P(e){if(g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)){if(void 0!==e.action&&(n=e.action,-1!==_.AUDIO_ACTIONS.indexOf(n.toLowerCase()))){var t=p.processFirstAudioListen();o.default.isEmptyObject(t)||c.default.setCustomDimensions(t)}var n,a=e.type||_.EVENT_TYPE_DEFAULT;a===_.EVENT_TYPE_SOCIAL?void 0!==e.network&&void 0!==e.action&&c.default.eventSocial(e.network,e.action,e.target,e.pagePath):a===_.EVENT_TYPE_DEFAULT?void 0!==e.category&&void 0!==e.action&&c.default.eventDefault(e.category,e.action,e.label,e.value,e.noninteraction):a===_.EVENT_TYPE_CUSTOM?void 0!==e.category&&void 0!==e.action&&"undefined"!==e.customDimensions&&c.default.eventWithCustomMetric(e.category,e.action,e.label,e.value,e.noninteraction,e.customDimensions):s.default.warning("Unexpected event type received: "+a)}}S.name="metrics",_.REGISTER=b("NPR Site","Register"),_.NEWSLETTER_UPSELL=b("NPR Site","Subscribe to Newsletter (Upsell)"),_.REGISTER_CONFIRMATION=b("NPR Site","Register (Confirmation)"),_.PROGRAM_DRAWER=O("Drawer Open","Program"),_.LISTEN_DRAWER=O("Drawer Open","Listen"),S.init=function(){(0,o.default)(document).on("npr:DataConsentChanged",k),g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)&&c.default.injectAnalytics()};var A=!1,w=void 0,I=[];function D(){var e=window.location.pathname;document.location.href.indexOf("refresh=true")>0?P({category:e,action:"refresh"}):c.default.trackPageview(e)}function N(){P(T(this))}function C(){var e=function(e){var t=(0,o.default)(e),n=JSON.parse(t.attr("data-metrics-ga4"));if(!n.category){var a=t.data("metrics-category-ga4");if(a)n.category=a;else{var r=t.parents("[data-metrics-category-ga4]");r.length>0&&(n.category=r.data("metrics-category-ga4"))}}var i="";return n.action&&(i=n.action),[i,n]}(this),t=a(e,2),n=t[0],r=t[1];if("audio"===r.category){var i=m.getAudioCustomDimensions(r.type,{},r),s=h.createAudioVars(i);h.sendGTMEvent(n,s)}else if("newsletter"===r.category){var u=m.getNewsletterCustomDimensions(r),l=h.createNewsletterVars(u);h.sendGTMEvent(n,l)}else if("donation"===r.category){var c=m.getDonationCustomDimensions(r),d=h.createDonationVars(c);h.sendGTMEvent(n,d)}else if("recirculation"===r.category||"podcast"===r.category||"share"===r.category){var f=m.getRecirculationCustomDimensions(r),p=h.createRecirculationVars(f);h.sendGTMEvent(n,p)}else if("search"===r.category||"affiliate"===r.category||"stations"===r.category){var g=m.getMiscCustomDimensions(r),y=h.createMiscVars(g);h.sendGTMEvent(n,y)}}function R(){var e=T(this);e.action="Play Video",P(e)}function M(){var e=T(this);e.action="Pause Video",P(e)}function L(){var e=Math.round(this.currentTime),t=void 0;e%60==0&&(this.metrics_index||0)<e/60&&(this.metrics_index=e/60,(t=T(this)).action="Heartbeat",t.value=e,P(t)),!this.metrics_complete&&Math.round(this.currentTime/this.duration*100)>=95&&(this.metrics_complete=!0,(t=T(this)).action="Video Completed",P(t))}function j(e){var t="portrait";90!==window.orientation&&-90!==window.orientation||(t="landscape"),P(O("Orientation Check",t))}function k(){!E.hasSetup&&g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)?(c.default.injectAnalytics(),S.onReady(),E.hasSetup=!0):g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)||(S.onUnload(),E.hasSetup=!1)}S.onReady=function(){if(g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)){(new l.default).loadPageviewData().then((function(e){var t=p.buildPageviewCustomDimensions(e);c.default.setCustomDimensions(t),D()})).catch((function(e){D(),s.default.error("Error loading page view data: "+e)})),(0,o.default)(document).on("mousedown.metrics","[data-metrics-ga4]",C),(0,o.default)(document).on("mousedown.metrics","[data-metrics]:not(video), [data-metrics-all] a, [data-metrics-all] button, [data-metrics-all] input",N),(0,o.default)(document).on("npr:refreshMetrics",(function(){(0,o.default)(document).off("mousedown.metrics","[data-metrics-ga4]",C),(0,o.default)(document).on("mousedown.metrics","[data-metrics-ga4]",C)})),(0,o.default)("video").on({"play.metrics":R,"pause.metrics":M,"timeupdate.metrics":L});try{document.querySelector("#callout-end-of-story-mount")&&(w=new i.default({element:document.getElementById("callout-end-of-story-mount"),handler:function(e){"down"!==e||A||(A=!0,(0,d.default)().dispatch((0,f.endOfStoryCalloutSeen)()))},offset:"bottom-in-view"}))}catch(e){}try{if((0,o.default)("body").hasClass("liveBlog")){var e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.getElementsByClassName("item")));e.length>0&&e.forEach((function(e,t){var n=e.id.substring(2),a=new i.default({element:e,handler:function(e){"down"===e&&(a.destroy(),P({category:"liveblog actions",action:"view story "+(t+1),label:n,noninteraction:!0}))},offset:function(){return i.default.viewportHeight()/1.5}});I.push(a)}))}}catch(e){}(0,o.default)("body").on("orientationchange",j)}},S.onUnload=function(){(0,o.default)(document).off("mousedown.metrics","[data-metrics-ga4]",C),(0,o.default)(document).off("mousedown.metrics","[data-metrics]:not(video), [data-metrics-all] a, [data-metrics-all] button, [data-metrics-all] input",N);var e=(0,o.default)("video");e.off("play.metrics",R),e.off("pause.metrics",M),e.off("timeupdate.metrics",L),w&&w.enabled&&(w.destroy(),w=null),I.length&&(I.forEach((function(e){e.destroy()})),I=[]),!1,A=!1,(0,o.default)("body").off("orientationchange",j)},S.register(),t.default={trackEvent:P,defaultEvent:O,defaultEventWithLabel:function(e,t,n){return{category:e,action:t,label:n}},defaultEventWithLabelAndValue:function(e,t,n,a){return{category:e,action:t,label:n,value:a}}}},function(e,t,n){"use strict";var a=i(n(6)),r=i(n(7)),o=i(n(334));function i(e){return e&&e.__esModule?e:{default:e}}var s=i(n(18)).default.create();s.name="auto-refresh";var u=void 0;function l(){return(0,r.default)(window,"NPR.serverVars.refresh",void 0)}function c(){var e=window.location.href;if(e.indexOf("refresh=true")<=0){var t=[];if(e.indexOf("?")>-1)t=e.substr(e.indexOf("?")+1).split("&");if(t.length>0){for(var n=!1,a=[],r=0;r<t.length;r+=1)t[r].indexOf("refresh")>-1&&(t[r]="refresh=true",n=!0),t[r].indexOf("=")>-1&&a.push(t[r]);n||a.push("refresh=true");var i=window.location.href.split("?")[0],s=a.join("&");o.default.navigateTo(i+"?"+s)}else o.default.navigateTo(e+"?refresh=true")}else o.default.navigateTo(window.location)}function d(){window.clearTimeout(u),u=window.setTimeout(c,1e3*l())}function f(){(0,a.default)(document).trigger("resetRefreshTimeout","window.focus")}function p(){(0,a.default)(document).trigger("resetRefreshTimeout","document.click")}s.onReady=function(){if(l()&&(u=window.setTimeout(c,1e3*l()),(0,a.default)(document).on("resetRefreshTimeout",d),(0,a.default)(window).on("focus",f),(0,a.default)(document).on("click",p),"function"==typeof window.jwplayer)){var e=window.jwplayer();e&&"function"==typeof e.onTime&&e.onTime((function(){Math.round(e.getPosition())%30==0&&(0,a.default)(document).trigger("resetRefreshTimeout","video timeupdate: "+e.getPosition())}))}},s.onUnload=function(){window.clearTimeout(u),(0,a.default)(document).off("resetRefreshTimeout",d),(0,a.default)(window).off("focus",f),(0,a.default)(document).off("click",p)},s.register()},,,,,,,,function(e,t,n){"use strict";(function(e){var a,r;a=[n(18),n(6)],void 0===(r=function(e,t){var n=e.create();n.name="images/enlargement";var a=void 0;function r(e){e.preventDefault();var n=t(this),r=0!==n.parents(".bucketwrap.image").length?n.parents(".bucketwrap.image"):n.parents(".bucketwrap"),i=t("div.enlarge_measure img",r),s=t("div.enlarge_measure source",r);a=document.activeElement,void 0===i.attr("src")?(i.bind("load",(function(){void 0===i.attr("src")&&(i.attr("src",i.data("original")),s.each((function(){t(this).attr("srcset",t(this).data("original"))}))),o(n)})),i.attr("src",i.data("original")),s.each((function(){t(this).attr("srcset",t(this).data("original"))}))):o(n)}function o(e){var n,a=t("body"),r=0!==e.parents(".bucketwrap.image").length?e.parents(".bucketwrap.image"):e.parents(".bucketwrap"),o=r.children(".enlarge_html"),u=r.children(".enlarge_measure");0===t("#mediaEnlargeOverlay").length&&(a.append('<div id="mediaEnlargeOverlay"><div id="mediaEnlargeFrame" role="dialog" aria-label="Image enlargement"><button class="close">Close Enlargement</button></div></div>'),t("#mediaEnlargeFrame").prepend(u.html()+o.html())),t("html").addClass("mediaEnlarged"),i(),t(window).on("resize",i),t("#mediaEnlargeOverlay, #mediaEnlargeFrame img, #mediaEnlargeFrame .close").on("click",s),(n=t("#mediaEnlargeFrame a, #mediaEnlargeFrame button"))[n.length-1].focus(),t(document).on("keydown.mediaEnlargement",(function(e){switch(e.keyCode){case 27:s(e);break;case 9:1===n.length?e.preventDefault():e.shiftKey?document.activeElement===n[0]&&(e.preventDefault(),n[n.length-1].focus()):document.activeElement===n[n.length-1]&&(e.preventDefault(),n[0].focus())}}))}function i(){var e=t("#mediaEnlargeFrame"),n=t(window).width(),a=t(window).height(),r=.95*n,o=.95*a;o<350&&(o=350);var i=(n-r)/2,s=(a-o)/2+t(window).scrollTop();n>=1300&&(i=(1300-(r=1235))/2),e.css({width:r,height:o,top:s,left:i});var u=t(".image_data",e).outerHeight()+parseInt(t(".image_data",e).css("bottom")),l=e.height()-u;t(".img_wrap",e).css({height:l,lineHeight:l+"px"})}function s(e){e&&e.preventDefault(),t("html").removeClass("mediaEnlarged"),t("#mediaEnlargeOverlay").remove(),u(),a&&a.focus()}function u(){t(document).off("keydown.mediaEnlargement")}n.onReady=function(){t(".enlarge-options").append('<button class="enlargebtn">Enlarge this image</button>'),t(".enlarge-options > .enlargelink").remove(),t(".enlargebtn").on("click",r)},n.onUnload=function(){s(),u(),t(".enlargebtn").off("click",r),t("div.enlarge_measure img").off("load"),t("#mediaEnlargeOverlay, #mediaEnlargeFrame img, #mediaEnlargeFrame .close").off("click",s),t(window).off("resize",i)},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},,function(e,t,n){"use strict";(function(e){var a,r,o,i=n(126),s=(o=i)&&o.__esModule?o:{default:o};a=[n(18),n(6),n(1209)],void 0===(r=function(e,t){var n=e.create();function a(e){if(e.preventDefault(),s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)||t("body").hasClass("agg")){var n=t(this);n.parent().next("div").slideDown(),n.addClass("active")}}function r(e){if(e.preventDefault(),s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)||t("body").hasClass("agg")){var n=t(this);n.parent().next("div").slideUp(),n.removeClass("active")}}n.name="contentfooter",n.onReady=function(){t(".module > h3 a","#contentfooter").clicktoggle(a,r)},n.onUnload=function(){t(".module > h3 a","#contentfooter").off("click",a).off("click",r)},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userViewLoadRequested=function(){return{type:a.USER_VIEW_LOAD_REQUESTED}},t.userViewLoadCompleted=function(e){return{type:a.USER_VIEW_LOAD_COMPLETED,payload:e}},t.userViewLoadFailed=function(){return{type:a.USER_VIEW_LOAD_FAILED}},t.accessTokenReceived=function(e,t){return{type:a.ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t}}},t.mobileNativeAccessTokenReceived=function(e,t){return{type:a.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t}}},t.userLogoutRequested=function(){return{type:a.USER_LOGOUT_REQUESTED}},t.userLogoutCompleted=function(){return{type:a.USER_LOGOUT_COMPLETED}},t.stationChangeRequested=function(e){return{type:a.STATION_CHANGE_REQUESTED,payload:{id:e}}},t.stationChangeCompleted=function(e){return{type:a.STATION_CHANGE_COMPLETED,payload:{id:e}}},t.stationAutolocalized=function(e){return{type:a.STATION_AUTOLOCALIZED,payload:{id:e}}},t.defaultOrgResolved=function(){return{type:a.DEFAULT_ORG_RESOLVED}},t.newsletterAcquisitionRequested=function(e,t){return{type:a.NEWSLETTER_ACQUISITION_REQUESTED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionRequested=function(e,t,n,r,o){return{type:a.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED,payload:{email:e,newsletterId:t,orgId:n,url:r,formData:o}}},t.newsletterAcquisitionCompleted=function(e,t){return{type:a.NEWSLETTER_ACQUISITION_COMPLETED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionCompleted=function(e,t,n){return{type:a.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED,payload:{email:e,newsletterId:t,campaign:n}}},t.newsletterAcquisitionFailed=function(e,t){return{type:a.NEWSLETTER_ACQUISITION_FAILED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionFailed=function(e,t,n){return{type:a.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED,payload:{email:e,newsletterId:t,campaign:n}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(2)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(e){"#"===this.props.href&&e.preventDefault(),function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e)}},{key:"render",value:function(){var e=this._getMetricsObject(),t=this._getMetricsObjectGA4(),n=this._getAccessibilityAttributes();return o.default.createElement("a",a({className:this.props.className,href:this.props.href,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress,"data-metrics":e,"data-metrics-ga4":t},n),this.props.children)}}]),t}(s(n(211)).default);t.default=u,u.defaultProps={href:"#"},u.propTypes={href:i.default.string}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE="none",t.MODAL="modal",t.END_OF_STORY="endofstory",t.STICKYBAR="stickybar",t.CENTER_STAGE="centerstage"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoryUrl=t.getNewscastUidForOrg=t.getOrgIdFromNewscastUid=t.isNewscastUid=void 0,t.getNewscastForOrg=function(e){var t=(0,r.bindParams)(f,(new Map).set("orgId",e));return(0,s.default)(2e4,t).then((function(e){return e.json()})).then((function(t){var n=(0,a.default)(t,"items[0].links.audio");if(!n)return Promise.reject("Newscast returned no valid audio links");var r,i,s,l,c=g(n,"audio/aac"),d=g(n,"audio/mp3"),f=(r=t.items[0],i=(0,a.default)(r,"attributes.provider"),s=new Date((0,a.default)(r,"attributes.date")),(l=isNaN(s.getHours())?"":(0,u.formatAMPM)(s))?i+" Newscast : "+l:i+" Newscast"),p=parseInt((0,a.default)(t.items[0],"attributes.duration"),10);return c||d?Promise.resolve({title:f,duration:isNaN(p)?300:p,audioUrl:c||d,uid:h(e),type:o.SEGMENT,subtype:o.SEGMENT_NEWSCAST,storyUrl:m(e),orgId:e}):Promise.reject("Newscast does not have available MP3 or MP4 URLs")}))},t.isValidStationOrg=function(e){return e&&e!==i.NPR};var a=d(n(7)),r=n(349),o=c(n(15)),i=c(n(37)),s=d(n(47)),u=n(88),l=n(45);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.getWebHost)()+"/proxy/listening/v2/newscast/{orgId}/recommendations",p=t.isNewscastUid=function(e){var t=e.split("-");return 0===e.indexOf("newscast-")&&2===t.length&&parseInt(t[1],10)==t[1]},h=(t.getOrgIdFromNewscastUid=function(e){return p(e)?parseInt(e.split("-")[1],10):-1},t.getNewscastUidForOrg=function(e){return"newscast-"+e}),m=t.getStoryUrl=function(e){return e===i.NPR?(0,l.getWebHost)()+"/podcasts/500005/hourly-news-summary/":""},g=function(e,t){var n=e.find((function(e){return e["content-type"]===t}));return n?n.href:""}},function(e,t,n){"use strict";(function(e){var a,r;a=[n(18)],void 0===(r=function(e){var t=e.create();return t.name="social/recaptcha",t.init=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://www.google.com/recaptcha/api.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},t.register(),{loadCaptcha:function(){void 0!==window.grecaptcha&&window.grecaptcha.reset()},isCaptchaEnabled:function(){return void 0!==window.grecaptcha&&(e=window.location.href,!((t=new RegExp("[?&]disableCaptcha(=([^&#]*)|&|#|$)").exec(e))&&t[2]&&"1"===decodeURIComponent(t[2]))||"www.npr.org"===window.location.hostname);var e,t},triggerRecaptchaManually:function(){void 0!==window.grecaptcha&&window.grecaptcha.execute()}}}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},,,,,,,,,function(e,t,n){"use strict";(function(e){var a,r,o,i=n(126),s=(o=i)&&o.__esModule?o:{default:o};a=[n(6),n(18),n(224)],void 0===(r=function(e,t,n){var a=t.create();a.name="social/sharepop";function r(t){var n=e(this);n.toggleClass("active");var a=n.parents(".bucketwrap.internallink");a.length&&a.toggleClass("has-active-subscribe-tools"),n.parents(".podcast-tools").find(".sharepop-four").fadeToggle(),t.preventDefault()}function o(t){s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)?(n.deinitSocialShare(),e("article .social .share").hasClass("expanded")||e("ul.aux.social .share").hasClass("expanded")?(e(".shareModal li.share a.sharemaintab").off("click",o),e(".social.shareModal").remove()):(e("body").prepend('<ul class="social shareModal"></ul>'),e(".share").clone().prependTo(".social.shareModal"),e(".shareModal li.share a.sharemaintab").on("click",o)),n.initSocialShare()):e(".social .share").toggleClass("expanded"),t.preventDefault()}return a.onReady=function(){var t=e("body");e("[data-sharepop]").sharePop(),(t.hasClass("tmplEventMusicStory")||t.hasClass("tmplEventMusicAggEmbed")||t.hasClass("tmplEventMusicStoryEmbed"))&&e("li.share a").on("click",o),e(".podcast-tools .subscribe > button").on("click",r)},a.onUnload=function(){e(window).off("SharePopThree.OPEN"),e("#sharepop-wrap").remove(),e("li.share a").off("click",o),e(".podcast-tools .subscribe > button").off("click",r)},e.fn.sharePop=function(t){var n=e.extend({openBehavior:"grow-left-and-down",mobileSize:768,click:function(){}},t);return this.each((function(){var t=e(this),a=function(t){var n=".sharepop";return void 0!==t.data("selector")&&(n=t.data("selector")),e(n)}(t),r=(a.height(),a.width()),o=void 0,i=void 0,s=function(){a.css({position:"absolute",left:(e(window).width()-r)/2,top:(e(window).height()-r)/2,"z-index":1e4}),i="slideDown",o=u("slideUp")},u=function(t){return function(n){n.preventDefault(),e("#sharepop-wrap").removeClass("active"),a[t](),e(window).off("resize",o)}};t.on("click",(function(l){l.preventDefault();var c=e("#sharepop-wrap");0===c.length&&(c=e('<div id="sharepop-wrap"></div>'),e("body").append(c)),c.addClass("active"),c.append(a),function(){var l=void 0,c=t.offset(),d=c.left,f=c.top;switch(n.openBehavior){case"grow-left-and-down":l=[d+t.outerWidth()-r,f],i="slideDown",o=u("slideUp");break;case"grow-right-and-down":l=[d,f],i="slideDown",o=u("slideUp");break;case"grow-up":l=[d,f+t.outerHeight()],i="slideUp",o=u("slideDown")}e(window).width()<n.mobileSize?s():a.css({display:"none",position:"absolute",top:l[1],left:l[0],"z-index":1e4})}(),a.children(".sharemaintab").click(o),e(window).on("resize",o),a[i](),n.click(),e(window).trigger("SharePopThree.OPEN",[t])})),e(window).on("SharePopThree.OPEN",(function(e,n){n!==t&&void 0!==o&&o(e)}))}))},a.register(),e}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondsAsHMMSS=function(e){var t=parseInt(e,10);if(0===t)return"0:00";if(!t||t<0)return"";var n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t-3600*n-60*a;a<10&&n>0&&(a="0"+a);r<10&&(r="0"+r);if(0===n)return a+":"+r;return n+":"+a+":"+r},t.secondsAsFormattedText=function(e){var t=e,n=Math.floor(t/3600);t%=3600;var a=Math.floor(t/60),r=Math.floor(t%60);if(n<1)return a>=1?a+"-Minute Listen":r+"-Second Listen";if(0===a)return n+"-Hour Listen";return n+"-Hour, "+a+"-Minute Listen"},t.secondsAsShorthandTime=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t-3600*n-60*a,o="";n&&(o+=n+" hr",n>1&&(o+="s"));a&&(o&&(o+=" "),o+=a+" min");r&&!n&&(o&&(o+=" "),o+=r+" sec");return o},t.secondsAsHtmlDuration=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t-3600*n-60*a,o=[];n&&o.push(n+"H");a&&o.push(a+"M");r&&o.push(r+"S");if(o.length)return"P"+o.join(",");return""},t.getCurrentYYYYMMDD=function(){var e=new Date;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString().slice(0,10).replace(/-/g,"")},t.convertTimeStringTo24Hours=function(e){var t=e.match(/([0-9]+):([0-9]+)\s[ap]m/i),n="";n=e.match(/pm$/i)?"12"===t[1]?"12":parseInt(t[1])+12:"12"===t[1]?"00":t[1];var a=t[2];return n+":"+a},t.formatAMPM=function(e){var t=e.getHours(),n=e.getMinutes(),a=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+a},t.isWeekend=function(){var e=new Date;if(6===e.getUTCDay()&&e.getUTCHours()>5||0===e.getUTCDay()||1===e.getUTCDay()&&e.getUTCHours()<11)return!0;return!1},t.getTimezone=function(){return(new Date).toString().match(/\(([^)]+)\)/)[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSmallBreakpoint=t.isMobileDevice=void 0;var a=n(181),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22));var o=function(e){return e.player};t.isMobileDevice=(0,a.createSelector)([o],(function(e){return e.env.hasTouchSupport&&e.env.breakpoint===r.SMALL})),t.isSmallBreakpoint=(0,a.createSelector)([o],(function(e){return e.env.breakpoint===r.SMALL}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=y(n(662)),o=y(n(189)),i=y(n(137)),s=y(n(187)),u=y(n(359)),l=y(n(7)),c=y(n(47)),d=y(n(30)),f=y(n(9)),p=g(n(45)),h=g(n(37)),m=g(n(15));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}n(627);var v=p.API_HOST+"/stationfinder/v3/stations/recommendations",_=p.WEB_HOST+"/syndicated-stories",E=p.PROXY_API_HOST+"/proxy/stationasset/v3/musicHomepageStreams/";function S(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,c.default)(1e4,t).then((function(e){return Promise.resolve(e.json())}))}function b(e){return S(e).then((function(t){return n=t,(0,l.default)(n,"attributes.orgId")?Promise.resolve(parseInt((0,l.default)(t,"attributes.orgId"),10)):Promise.reject('Invalid results from Stations API search for call letters "'+e+'"');var n})).catch((function(e){return Promise.reject(e)}))}function O(e,t){var n=(0,o.default)((0,l.default)(e.links,"streams"),(function(e){return parseInt(e.typeId,10)===m.TYPE_MP3&&e.guid})),a=(0,o.default)(n,(function(e){return!!d.default.isHttps(e.href)||(f.default.warning("Rejecting insecure station stream",e.href),!1)})).map((function(e){return{orgId:t,title:e.title,primary:e.isPrimaryStream,audioUrl:e.href,uid:e.guid,type:m.STREAM,subtype:m.STREAM_STATION}}));return(0,u.default)(a,(function(e){return e.primary?0:1}))}function T(e){if(!e)return null;var t=[d.default.getUrlParameter("utm_source"),d.default.getUrlParameter("utm_campaign")].join("-").replace(/^-/g,"").replace(/-$/g,""),n=e;return[{key:"utm_source",value:"npr.org"},{key:"utm_medium",value:"referral"},{key:"utm_content",value:t}].map((function(e){e.value&&(n=d.default.addUrlParameter(n,e.key,e.value))})),n}function P(e){var t=(0,l.default)(e,"status");return t&&"10"===t}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"tier1"===n?e.id!=t&&!P(e):e.id!=t&&!0===e.usesInheritance}function w(e,t){var n=(0,l.default)(e.attributes,"network.tier1");return n?function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];A(t,n,a)&&o.push(parseInt(t.id,10));var i="tier1"===a?"tier2":"tier2"===a?"tier3":null;if(i){var u=(0,l.default)(t,i);if(u){var c=(0,r.default)((0,s.default)(u,(function(t){return e(t,n,i)})),!0);return o.concat(c)}}return o}(n,t,"tier1"):[]}function I(e){var t=parseInt(e.attributes.orgId,10),n=(0,l.default)(e.links,"donation"),a=n?(0,i.default)(n,(function(e){return"4"===e.typeId})):null,r=a?a.href:null,s=(0,i.default)(e.links.brand,(function(e){return"homepage"===e.rel})),c=s?s.href:null,p=(0,i.default)(e.links.brand,(function(e){return"small-logo"===e.rel})),h=(0,i.default)(e.links.brand,(function(e){return"logo"===e.rel})),g=h?h.href:"",y=p?p.href:"",v=parseInt(e.attributes.network.inheritingFrom,10),_=e.attributes.streamsV2?function(e,t){var n=e.attributes.streamsV2.map((function(e){return{orgId:t,title:e.title,uid:e.guid,primary:e.primary,audioUrl:(n=e.urls,a=n.filter((function(e){return parseInt(e.typeId,10)===m.TYPE_MP3&&e.href&&e.guid})),a.length?a[0].href:""),type:m.STREAM,subtype:m.STREAM_STATION};var n,a})),a=(0,o.default)(n,(function(e){return!!d.default.isHttps(e.audioUrl)||(f.default.warning("Rejecting insecure station stream",e.audioUrl),!1)}));return(0,u.default)(a,(function(e){return e.primary?0:1}))}(e,t):O(e,t);return{id:t,name:e.attributes.brand.name,logoUrl:g,smallLogoUrl:y,orgUrl:T(c),donateUrl:T(r),callLetters:e.attributes.brand.call,band:e.attributes.brand.band,frequency:e.attributes.brand.frequency,marketCity:e.attributes.brand.marketCity,parentOrgId:v,marketState:e.attributes.brand.marketState,tagline:e.attributes.brand.tagline,streams:_,otherStationsInNetwork:w(e,t),lastUpdated:(new Date).toISOString(),nprOne:e.attributes.eligibility.nprOne,localizationEligibility:e.attributes.eligibility.localization}}function D(e){var t={};return t.stationData=e.items.map((function(e){return I(e)})),t.locationData=e.attributes,t}function N(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,c.default)(1e4,t).then((function(e){return e.json()})).then((function(e){if("object"===(void 0===e?"undefined":a(e)))return e;throw new Error("Invalid "+e)}))}function C(e){var t="";return t=e&&0!==e.length?"/proxy/stationfinder/v3/stations?q="+e:"/proxy/stationfinder/v3/stations",(0,c.default)(1e4,t).then((function(e){return e.json()}))}var R=function(){return parseInt(d.default.getUrlParameter("streamStationId"),10)},M=function(){return d.default.getUrlParameter("station")};t.default={getProgramScheduleHTML:function(e,t){var n=p.LEGACY_WEB_HOST+"/proxy/stations/"+e+"/programs/"+t+"/schedule";return(0,c.default)(1e4,n).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("invalid program data."))}))},getStreams:O,makeTrackableUrl:T,mapStationData:I,getStationDataByOrgId:N,getNonLocalStationData:function(e){return N(e).then((function(e){return Promise.resolve(I(e))})).catch((function(e){return Promise.reject(e)}))},getLocalStationData:function(){var e=v,t={lat:d.default.getUrlParameter("lat"),lon:d.default.getUrlParameter("lon")},n=t.lat,a=t.lon;return n&&a&&(e=v+"?lat="+n+"&lon="+a),(0,c.default)(1e4,e).then((function(e){return e.json()})).then((function(e){return Promise.resolve(D(e))})).catch((function(e){return Promise.reject(e)}))},getStationSearchResultsData:C,getStationSearchResults:function(e){return C(e).then((function(e){return 0===e.items.length?[]:Promise.resolve(e.items.map(I))}))},getForcedLocalizationStationId:function(){var e=R(),t=M();return e&&e!==h.NPR?N(e).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):t?N(t).then((function(){return b(t)})).catch((function(e){return Promise.reject(e)})):Promise.reject()},getStreamStationId:R,getStreamStationCall:M,getCallFrequencyBand:function(e){return(((0,l.default)(e,"callLetters")||"")+" "+((0,l.default)(e,"frequency")||"")+" "+((0,l.default)(e,"band")||"")).replace(/ +/," ").trim()},isOtherStationInThisNetwork:function(e,t){return((0,l.default)(e,"otherStationsInNetwork")||[]).some((function(e){return e===t}))},stationProxyTimeout:1e4,getHPLocalStoriesForStation:function(e){var t=_+"?orgId="+e+"&storyCount=4";return(0,c.default)(15e3,t).then((function(e){return e.json()}))},getStation:S,looksLikeCallLetters:function(e){return!!e.match(/^((w|k)[a-z]{2,3})((-| )(fm|am))?$/i)},looksLikeZipCode:function(e){return!!e.match(/^(?!0{3})[0-9]{3,5}$/gm)},mapStationDataList:D,getMusicHomepageStreams:function(){return(0,c.default)(2e4,E).then((function(e){return e.json()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShouldPreventAutoLocalization=t.getRenderPlatform=void 0;var a=n(181),r=function(e){return e.session};t.getRenderPlatform=(0,a.createSelector)([r],(function(e){return e.renderPlatform})),t.getShouldPreventAutoLocalization=(0,a.createSelector)([r],(function(e){return e.preventAutoLocalization}))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDerivedMetadata=void 0;var a=n(181),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(102));t.getDerivedMetadata=(0,a.createSelector)([function(e){return e.metadata},function(e){return e.player},function(e){return e.sponsorship},function(e){return e.queue},function(e){return e.userInteractions}],(function(e,t,n,a,o){var i=Object.create(null);for(var s in e)e.hasOwnProperty(s)&&(i[s]=r.getMetadataWithDerivedProps(e[s],t,n,a,o));return i}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueButtonPressed=function(e,t){return{type:a.QUEUE_BUTTON_PRESSED,payload:e,meta:t}},t.addManyToQueue=function(e,t){return{type:a.ADD_MANY_TO_QUEUE,payload:e,meta:t}},t.removeOneFromQueue=function(e){return{type:a.REMOVE_ONE_FROM_QUEUE,payload:e}},t.addManyToTopOfQueue=function(e,t){return{type:a.ADD_MANY_TO_TOP_OF_QUEUE,payload:e,meta:t}},t.preemptedUidQueued=function(e){return{type:a.PREEMPTED_UID_QUEUED,payload:e}},t.addOneToQueue=function(e,t){return{type:a.ADD_ONE_TO_QUEUE,payload:e,meta:t}},t.mobileNativeDidAddToPlaylist=function(e){return{type:a.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST,payload:e}},t.mobileNativeQueueButtonPressed=function(e){return{type:a.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidRemoveFromPlaylist=function(e){return{type:a.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";var a;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=t.STANDARD="standard",i=t.MAINSTAGE="mainstage",s=t.CENTERSTAGE="centerstage",u=t.BACKSTAGE="backstage",l=(t.MLE_BANNER="mlebanner",t.PLAYER_PRIMARY="player",t.PLAYER_LEAVEBEHIND="leavebehind",t.PLAYER_POSTROLL="playerpostroll",t.PLAYER_MOBILE_PRIMARY="playermobileprimary",t.SPICE_RACK="spicerack"),c=(t.SECONDARY="secondary",t.THIRD="third",t.OVERFLOW="overflow",t.PODCASTS_SHOWS_DIRECTORY_ONE="podcasts-shows-directory-one"),d=t.PODCASTS_SHOWS_DIRECTORY_TWO="podcasts-shows-directory-two";t.CANONICAL_LOCATION_NAMES_MAP=(r(a={},o,"right_rail"),r(a,i,"music_homepage_centerstage"),r(a,u,"story_centerstage"),r(a,s,"homepage_centerstage"),r(a,l,"spice_rack"),r(a,c,"podcasts_and_shows_directory_one"),r(a,d,"podcasts_and_shows_directory_two"),a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_QUEUED_STATUS=void 0,t.getAudioUrlToPlay=u,t.getMetadataWithDerivedProps=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments[4],i=d(e,t,n),s=l(e),u=f(e,n,a),c=p(e,n,a,r),g=h(e,n,a),y=m(e);return Object.assign({},e,{title:y,isAudioReady:s,isPlaylistAudio:!!e.audioUrl&&(0,o.isPlaylistUrl)(e.audioUrl),isCurrentAudio:i,isQueued:u,userQueuedStatus:c,isContinuousQueued:g,isLoading:i&&t.isLoading,isPlaying:i&&t.isPlaying,isAudioPlaying:t.isAudioPlaying})},t.getNewMetadataOfType=function(e,t){return{uid:e,type:t}},t.getMetadataTypeForUid=function(e,t){return(0,r.default)(e,t+".type")||""},t.getMetadataSubtypeForUid=function(e,t){return(0,r.default)(e,t+".subtype")||""};var a=i(n(93)),r=i(n(7)),o=n(176);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.USER_QUEUED_STATUS={ADDED:"ADDED",NOT_ADDED:"NOT_ADDED",LOADING:"LOADING"};function u(e){if(e&&e.audioUrl)return(0,o.isPlaylistUrl)(e.audioUrl)?e.contentUrl:e.audioUrl}function l(e){return void 0!==u(e)}function c(e,t){return t.isPlayingSponsorship&&t.preemptedUid===e.uid}function d(e,t,n){return e.uid===t.currentUid||c(e,n)}function f(e,t,n){return!c(e,t)&&(!!n&&((0,a.default)(n.userQueue,e.uid)||(0,a.default)(n.continuousQueue,e.uid)))}function p(e,t,n,r){return r&&(0,a.default)(r.uidsInUserQueueLoadingStatus,e.uid)?s.LOADING:c(e,t)?s.NOT_ADDED:n&&(0,a.default)(n.userQueue,e.uid)?s.ADDED:s.NOT_ADDED}function h(e,t,n){return!c(e,t)&&(!!n&&(0,a.default)(n.continuousQueue,e.uid))}function m(e){return e.song&&e.song===e.title?e.artist+', "'+e.song+'"':e.title}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.fetchSponsorshipFromDfp=w,t.getTargetingForStory=R,t.getDfpZone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,a){Object.prototype.hasOwnProperty.call(O,e)?n(O[e].zone):R(e,t).then((function(e){return n(e.zone)})).catch((function(e){return a(e)}))}))},t.shouldPlaySponsorshipBefore=function(e,t,n){if(e.hasAdsWizz)return!1;if(e.skipSponsorship)return!1;var a=(0,v.getStoryIdFromUid)(e.uid),r=!Number.isInteger(parseInt(a))&&"newscast-1"!==e.uid;if(e.skipSponsorship||e.type!==p.SEGMENT||r)return!1;var o=Date.now();return e.uid===n||o/1e3-t>=f.SPONSORSHIP_INTERVAL},t.shouldFetchSponsorship=function(e,t,n){var a=1===e.sponsorship.numSlotsAvailable&&2===t.sponsorship.numSlotsAvailable,r=n.type===d.MOBILE_SPONSORSHIP_SLOT_AVAILABLE;return a||r},t.shouldFetchLeaveBehindOnly=function(e,t){if(e.metadata&&e.metadata.skipSponsorship)return!1;if(!e.sponsorship.isFetchingSponsorship&&""!==e.sponsorship.leaveBehindDiv&&t.type===d.SPONSORSHIP_SLOT_AVAILABLE){if(e.metadata[e.player.currentUid].fetchLeaveBehindOnly)return!0}return!1},t.shouldUnloadSponsorshipMetadata=function(e){return e.type===d.AUDIO_COMPLETE&&e.payload.type===p.SPONSORSHIP},t.shouldRevertInitialState=function(e,t){if(""==t.sponsorship.preemptedUid){var n=(0,l.default)(t,"player.currentUid"),a=(0,_.getMetadataTypeForUid)(t.metadata,n);return e.type===d.AUDIO_COMPLETE&&e.payload.subtype===p.CLICK_TO_PLAY_SOUNDSCAPES||e.type===d.SKIP&&a===p.SPONSORSHIP}return!1},t.shouldReplacePreemptedUid=function(e,t,n){var a=(0,l.default)(t,"player.currentUid");return e===d.SOUNDSCAPES_LOADED&&""!==a&&(0,_.getMetadataTypeForUid)(n,a)!==p.SPONSORSHIP},t.canHaveEventListener=function(){return"object"===("undefined"==typeof window?"undefined":a(window))&&"function"==typeof window.addEventListener},t.getAdLocationsForAction=function(e,t){if(t)return[h.PLAYER_POSTROLL,h.PLAYER_LEAVEBEHIND];switch(e){case d.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return[h.PLAYER_MOBILE_PRIMARY];default:return[h.PLAYER_PRIMARY,h.PLAYER_LEAVEBEHIND]}},t.shouldSendMessageToCreative=function(e,t){var n=[d.TIMER,d.AUDIO_PLAYED,d.TOGGLE_PLAY],a=[p.SOUNDSCAPES,p.CLICK_TO_PLAY_SOUNDSCAPES];if((0,s.default)(n,t)){var r=e.metadata[e.player.currentUid],o=(0,l.default)(r,"subtype");return(0,s.default)(a,o)}return!1},t.sendMessageToCreative=function(e,t,n){var a=(0,r.default)(".ad-player iframe").get(0);if(a&&a.contentWindow){var o={type:"playback time update"},i=e.player.position>t.player.position;n.type===d.AUDIO_PLAYED&&n.payload.type===p.SPONSORSHIP?(o.value=0,a.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===d.TIMER&&i?(o.value=(0,u.default)(e.player.position),a.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===d.TOGGLE_PLAY&&(o.type="toggle play",o.value=e.player.isPlaying?"play":"pause",a.contentWindow.postMessage(JSON.stringify(o),"*"))}},t.fetchLeaveBehind=function(e){var t=(0,v.getStoryIdFromUid)(e.uid);R(t,e.sponsorshipSiteOverride).then((function(n){n.targets.channel=e.channel,w(n,[h.PLAYER_LEAVEBEHIND]).catch((function(e){c.default.info(e,{storyId:t})}))})).catch((function(e){c.default.info(e,{storyId:t})}))},t.isSoundscapes=function(e){return e===p.CLICK_TO_PLAY_SOUNDSCAPES||e===p.SOUNDSCAPES},t.makeAdScrollable=M,t.isValidPlayerMessageEvent=function(e){return(e.origin.endsWith("npr.org")||e.origin.endsWith("nprinfra.org"))&&(e.data===m.LISTEN||e.data===m.QUEUE||e.data===m.LEAVE_BEHIND_LISTEN||e.data===m.LEAVE_BEHIND_QUEUE)},t.isUid=function(e){return/[0-9]+:[0-9]+$/.test(e)},t.getMetadataUidsByChannelName=function(e,t){var n=[];(0,o.default)(e)||Object.keys(t).forEach((function(a){t[a].channel===e&&n.push(a)}));return n},t.engageAutoplayHack=function(){var e=void 0,t=(0,r.default)("#audio-player").data().jPlayer;(0,o.default)(t.status.media)||(e=(0,i.default)(t.status.media));var n=NPR.ServerConstants.serverMediaCache+"/templates/audio/mobile-play-start.mp3";(0,r.default)("#audio-player").jPlayer("setMedia",{mp3:n}).jPlayer("play").jPlayer("stop"),e&&(0,r.default)("#audio-player").jPlayer("setMedia",e)};var r=S(n(6)),o=S(n(90)),i=S(n(656)),s=S(n(93)),u=S(n(657)),l=S(n(7)),c=S(n(9)),d=E(n(1)),f=E(n(227)),p=E(n(15)),h=E(n(101)),m=E(n(348)),g=S(n(130)),y=S(n(47)),v=n(156),_=n(102);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var b={},O={},T=[],P={},A=!1;function w(e,t){return T=[],A=1===t.length&&t[0]===h.PLAYER_LEAVEBEHIND,new Promise((function(n,a){if(setTimeout((function(){return a("DFP call blocked or timed out")}),1e3),(0,o.default)(t))a("At least one ad location must be provided");else{var r=!0,i=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value,d=new g.default(D(e,c));N(d),T.push(d),C(d),googletag.display(d.getAdSlotName())}}catch(e){i=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}googletag.cmd.push((function(){var e=[];T.forEach((function(t){e.push(t.slot),P[t.location]=t.slot.getSlotElementId();var n=t.getAdSlotName();b[n]=t.slot})),googletag.pubads().addEventListener("slotRenderEnded",I.bind(null,n,a)),T=[],googletag.pubads().refresh(e)}))}}))}function I(e,t,n){if(n.isEmpty)t("Sponsorship Util: googletag did not return any player ad");else{var a=n.slot.getSlotElementId();if(a===P[h.PLAYER_LEAVEBEHIND]&&A)e({});else if(function(e){var t=[P[h.PLAYER_PRIMARY],P[h.PLAYER_POSTROLL],P[h.PLAYER_MOBILE_PRIMARY]];return(0,s.default)(t,e)}(a)){var o=void 0;a===P[h.PLAYER_MOBILE_PRIMARY]?(o="ad-player-mobile",(0,r.default)("."+o+" iframe").get(0).setAttribute("width","100%")):o="ad-player";var i=(0,r.default)("."+o+" iframe:first"),u=(0,r.default)(i).get(0).contentDocument,l=u.getElementById("sponsorship-data");if(!l){var d=u.querySelector("template");if(d){var f=d.content.firstChild.innerText,m=(new DOMParser).parseFromString(f,"text/html");l||(c.default.info("Sponsorship: Util: Looking for sponsorship data in document fragment"),l=m.querySelector("#sponsorship-data"))}else c.default.info("Sponsorship Util: Location: "+a+" no document fragment")}if(null===l)t("Sponsorship Util: Could not find valid player sponsorship data. order: "+n.campaignId+" lineItem: "+n.lineItemId);else{c.default.info("Sponsorship Util: Location: "+a+". Found valid sponsorship data.");var g=l.getAttribute("data-sponsorshipType")||p.STANDARD;e(function(e,t){var n={audioUrl:e.getAttribute("data-sponsorAudioFileUrl"),type:p.SPONSORSHIP,subtype:t};switch(t){case p.SOUNDSCAPES:return Object.assign({},n,{sponsorClickthrough:e.getAttribute("data-sponsorClickthrough"),supportedCustomAudioFileUrl:e.getAttribute("data-supportedCustomAudioFileUrl"),primaryThemeColor:e.getAttribute("data-primaryThemeColor"),secondaryThemeColor:e.getAttribute("data-secondaryThemeColor"),secondaryBackground:e.getAttribute("data-secondaryImage"),uid:e.getAttribute("data-trackingChannel"),animationIframeUrl:e.getAttribute("data-animationIframeUrl")});case p.CUSTOM_CHANNEL:return Object.assign({},n,{channel:e.getAttribute("data-trackingChannel"),recommendationsChannelOrUid:e.getAttribute("data-recommendationsChannelOrUid")});case p.PLAYER_PODCAST:return Object.assign({},n,{podcastUid:e.getAttribute("data-podcastUid"),channel:e.getAttribute("data-trackingChannel")});default:return n}}(l,g)),M(h.PLAYER_PRIMARY)}}}}function D(e,t){return Object.assign({},e,{location:t})}function N(e){var t=e.getAdSlotName();if(Object.prototype.hasOwnProperty.call(b,t)){var n=e.zone?"/"+e.zone:"",a="/"+e.network+"/"+e.site+n;b[t].getAdUnitPath()===a?(Object.assign(e,{slot:b[t]}),e.slot.clearTargeting()):(googletag.destroySlots([b[t]]),e.createAdSlot())}else e.createAdSlot()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e.targets,t);Object.getOwnPropertyNames(n).forEach((function(t){return e.slot.setTargeting(t,n[t])}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,a){if(Object.prototype.hasOwnProperty.call(O,e))n(O[e]);else{var r=NPR.ServerConstants.webHost+"/sponsorship/targeting/"+e;(0,y.default)(2e4,r).then((function(r){404===r.status?a("Error fetching targeting from targeting endpoint"):r.json().then((function(r){(0,o.default)(r)?a("The targeting endpoint did not return any data"):(r.site=(0,o.default)(t)?r.site:t,O[e]=r,n(r))}))})).catch((function(){a("Error fetching targeting from targeting endpoint")}))}}))}function M(e){var t=window.innerHeight,n=170,a=735,o=(0,r.default)("#ad-standard-wrap"),i="is-below-threshold-height-standard";e===h.PLAYER_PRIMARY&&(n=123,a=675,o=(0,r.default)(".ad-player"),i="is-below-threshold-height-player"),t<a?((0,r.default)("body").addClass(i),o.css("height",t-n)):(0,r.default)("body").removeClass(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_FOR_METRICS="panes",t.STREAMING="STREAMING",t.ON_DEMAND="ON_DEMAND",t.NEWSCAST="NEWSCAST",t.IGNORE_METRIC="IGNORE_METRIC"},function(e,t,n){(function(e){(function(){
/*!
   JW Player version 8.20.10
   Copyright (c) 2021, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.20.10/notice.txt
*/
window.jwplayer=function(e){function t(t){for(var n,r,o=t[0],i=t[1],s=0,l=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(t);l.length;)l.shift()()}var n={},a={0:0};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=55,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({1:"jwplayer.amp",2:"jwplayer.controls",3:"jwplayer.controls.tizen",4:"jwplayer.core",5:"jwplayer.core.controls",6:"jwplayer.core.controls.html5",7:"jwplayer.core.controls.polyfills",8:"jwplayer.core.controls.polyfills.html5",9:"polyfills.intersection-observer",10:"polyfills.webvtt",11:"provider.airplay",12:"provider.cast",13:"provider.hlsjs",14:"provider.hlsjs-alt",15:"provider.html5",16:"provider.shaka",17:"related",18:"vttparser"}[e]||e)+".js"}(e);var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),55e3);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=i;return r(r.s=51)}([function(e,t,n){"use strict";n.d(t,"i",(function(){return O})),n.d(t,"A",(function(){return P})),n.d(t,"E",(function(){return I})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return M})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return U})),n.d(t,"F",(function(){return F})),n.d(t,"n",(function(){return V})),n.d(t,"G",(function(){return q})),n.d(t,"e",(function(){return Y})),n.d(t,"I",(function(){return Q})),n.d(t,"m",(function(){return K})),n.d(t,"h",(function(){return X})),n.d(t,"p",(function(){return J})),n.d(t,"c",(function(){return $})),n.d(t,"H",(function(){return re})),n.d(t,"q",(function(){return se})),n.d(t,"g",(function(){return ue})),n.d(t,"j",(function(){return le})),n.d(t,"C",(function(){return ce})),n.d(t,"w",(function(){return fe})),n.d(t,"t",(function(){return ge})),n.d(t,"v",(function(){return ye})),n.d(t,"x",(function(){return ve})),n.d(t,"s",(function(){return _e})),n.d(t,"u",(function(){return Ee})),n.d(t,"r",(function(){return Se})),n.d(t,"y",(function(){return be})),n.d(t,"o",(function(){return Te})),n.d(t,"d",(function(){return Pe})),n.d(t,"D",(function(){return Ae})),n.d(t,"B",(function(){return we})),n.d(t,"z",(function(){return De}));var a=n(18),r={},o=Array.prototype,i=Object.prototype,s=Function.prototype,u=o.slice,l=o.concat,c=i.toString,d=i.hasOwnProperty,f=o.map,p=o.reduce,h=o.forEach,m=o.filter,g=o.every,y=o.some,v=o.indexOf,_=Array.isArray,E=Object.keys,S=s.bind,b=window.isFinite,O=function(e,t,n){var a,o;if(null==e)return e;if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(a=0,o=e.length;a<o;a++)if(t.call(n,e[a],a,e)===r)return}else{var i=oe(e);for(a=0,o=i.length;a<o;a++)if(t.call(n,e[i[a]],i[a],e)===r)return}return e},T=O,P=function(e,t,n){var a=[];return null==e?a:f&&e.map===f?e.map(t,n):(O(e,(function(e,r,o){a.push(t.call(n,e,r,o))})),a)},A=P,w="Reduce of empty array with no initial value",I=function(e,t,n,a){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return a&&(t=$(t,a)),r?e.reduce(t,n):e.reduce(t);if(O(e,(function(e,o,i){r?n=t.call(a,n,e,o,i):(n=e,r=!0)})),!r)throw new TypeError(w);return n},D=I,N=I,C=function(e,t,n){var a;return U(e,(function(e,r,o){if(t.call(n,e,r,o))return a=e,!0})),a},R=C,M=function(e,t,n){var a=[];return null==e?a:m&&e.filter===m?e.filter(t,n):(O(e,(function(e,r,o){t.call(n,e,r,o)&&a.push(e)})),a)},L=M,j=function(e,t,n){t||(t=Te);var a=!0;return null==e?a:g&&e.every===g?e.every(t,n):(O(e,(function(e,o,i){if(!(a=a&&t.call(n,e,o,i)))return r})),!!a)},k=j,U=function(e,t,n){t||(t=Te);var a=!1;return null==e?a:y&&e.some===y?e.some(t,n):(O(e,(function(e,o,i){if(a||(a=t.call(n,e,o,i)))return r})),!!a)},x=U,F=function(e){return null==e?0:e.length===+e.length?e.length:oe(e).length},B=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},G=function(e){return null==e?Te:ge(e)?e:Ae(e)},H=function(e){return function(t,n,a){var r={};return n=G(n),O(t,(function(o,i){var s=n.call(a,o,i,t);e(r,s,o)})),r}},V=H((function(e,t,n){Oe(e,t)?e[t].push(n):e[t]=[n]})),W=H((function(e,t,n){e[t]=n})),q=function(e,t,n,a){for(var r=(n=G(n)).call(a,t),o=0,i=e.length;o<i;){var s=o+i>>>1;n.call(a,e[s])<r?o=s+1:i=s}return o},Y=function(e,t){return null!=e&&(e.length!==+e.length&&(e=ie(e)),J(e,t)>=0)},z=Y,Q=function(e,t){return M(e,we(t))},K=function(e,t){return C(e,we(t))},X=function(e){var t=l.apply(o,u.call(arguments,1));return M(e,(function(e){return!Y(t,e)}))},J=function(e,t,n){if(null==e)return-1;var a=0,r=e.length;if(n){if("number"!=typeof n)return e[a=q(e,t)]===t?a:-1;a=n<0?Math.max(0,r+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;a<r;a++)if(e[a]===t)return a;return-1},Z=function(){},$=function(e,t){var n,a;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!ge(e))throw new TypeError;return n=u.call(arguments,2),a=function(){if(!(this instanceof a))return e.apply(t,n.concat(u.call(arguments)));Z.prototype=e.prototype;var r=new Z;Z.prototype=null;var o=e.apply(r,n.concat(u.call(arguments)));return Object(o)===o?o:r}},ee=function(e){var t=u.call(arguments,1);return function(){for(var n=0,a=t.slice(),r=0,o=a.length;r<o;r++)Oe(a[r],"partial")&&(a[r]=arguments[n++]);for(;n<arguments.length;)a.push(arguments[n++]);return e.apply(this,a)}},te=ee(B,2),ne=function(e,t){var n=u.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},ae=ee(ne,{partial:ee},1),re=function(e,t,n){var a,r,o,i=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Ie(),i=null,o=e.apply(a,r),a=r=null};return function(){s||!1!==n.leading||(s=Ie);var l=t-(Ie-s);return a=this,r=arguments,l<=0?(clearTimeout(i),i=null,s=Ie,o=e.apply(a,r),a=r=null):i||!1===n.trailing||(i=setTimeout(u,l)),o}},oe=function(e){if(!fe(e))return[];if(E)return E(e);var t=[];for(var n in e)Oe(e,n)&&t.push(n);return t},ie=function(e){for(var t=oe(e),n=oe.length,a=Array(n),r=0;r<n;r++)a[r]=e[t[r]];return a},se=function(e){for(var t={},n=oe(e),a=0,r=n.length;a<r;a++)t[e[n[a]]]=n[a];return t},ue=function(e){return O(u.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},le=Object.assign||function(e){return O(u.call(arguments,1),(function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e},ce=function(e){var t={},n=l.apply(o,u.call(arguments,1));return O(n,(function(n){n in e&&(t[n]=e[n])})),t},de=_||function(e){return"[object Array]"==c.call(e)},fe=function(e){return e===Object(e)},pe=[];O(["Function","String","Number","Date","RegExp"],(function(e){pe[e]=function(t){return c.call(t)=="[object "+e+"]"}})),pe.Function=function(e){return"function"==typeof e};var he=pe.Date,me=pe.RegExp,ge=pe.Function,ye=pe.Number,ve=pe.String,_e=function(e){return b(e)&&!Ee(parseFloat(e))},Ee=function(e){return ye(e)&&e!=+e},Se=function(e){return!0===e||!1===e||"[object Boolean]"==c.call(e)},be=function(e){return void 0===e},Oe=function(e,t){return d.call(e,t)},Te=function(e){return e},Pe=function(e){return function(){return e}},Ae=function(e){return function(t){return t[e]}},we=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},Ie=a.a,De=function(e){return ye(e)&&!Ee(e)};t.f={after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},all:j,any:U,before:B,bind:$,clone:function(e){return fe(e)?de(e)?e.slice():le({},e):e},collect:A,compact:function(e){return M(e,Te)},constant:Pe,contains:Y,debounce:function(e,t){var n;return void 0===t&&(t=100),function(){for(var a=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(a,o)}),t)}},defaults:ue,defer:ae,delay:ne,detect:R,difference:X,each:O,every:k,extend:le,filter:M,find:C,findWhere:K,foldl:D,forEach:T,groupBy:V,has:Oe,identity:Te,include:z,indexBy:W,indexOf:J,inject:N,invert:se,isArray:de,isBoolean:Se,isDate:he,isFinite:_e,isFunction:ge,isNaN:Ee,isNull:function(e){return null===e},isNumber:ye,isObject:fe,isRegExp:me,isString:ve,isUndefined:be,isValidNumber:De,keys:oe,last:function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},map:P,matches:we,max:function(e,t,n){if(!t&&de(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var a=-1/0,r=-1/0;return O(e,(function(e,o,i){var s=t?t.call(n,e,o,i):e;s>r&&(a=e,r=s)})),a},memoize:function(e,t){var n={};return t||(t=Te),function(){var a=t.apply(this,arguments);return Oe(n,a)?n[a]:n[a]=e.apply(this,arguments)}},now:Ie,omit:function(e){var t={},n=l.apply(o,u.call(arguments,1));for(var a in e)Y(n,a)||(t[a]=e[a]);return t},once:te,partial:ee,pick:ce,pluck:function(e,t){return P(e,Ae(t))},property:Ae,propertyOf:function(e){return null==e?function(){}:function(t){return e[t]}},reduce:I,reject:function(e,t,n){return M(e,(function(e,a,r){return!t.call(n,e,a,r)}),n)},result:function(e,t){if(null!=e){var n=e[t];return ge(n)?n.call(e):n}},select:L,size:F,some:x,sortedIndex:q,throttle:re,where:Q,without:function(e){return X(e,u.call(arguments,1))}}},function(e,t,n){"use strict";n.d(t,"x",(function(){return r})),n.d(t,"w",(function(){return o})),n.d(t,"v",(function(){return i})),n.d(t,"s",(function(){return s})),n.d(t,"t",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return _})),n.d(t,"m",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return T})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return w})),n.d(t,"z",(function(){return I})),n.d(t,"y",(function(){return D})),n.d(t,"A",(function(){return N}));var a=n(0),r=1e5,o=100001,i=100002,s=101e3,u=102e3,l=102700,c=200001,d=202e3,f=104e3,p=203e3,h=203640,m=203700,g=204e3,y=306e3,v=308e3,_=308640,E="cantPlayVideo",S="badConnection",b="cantLoadPlayer",O="cantPlayInBrowser",T="liveStreamDown",P="protectedContent",A="technicalError",w=function(){function e(e,t,n){this.code=Object(a.z)(t)?t:0,this.sourceError=n||null,e&&(this.key=e)}return e.logMessage=function(e){var t=e%1e3,n=Math.floor((e-t)/1e3),a=e.toString();return t>=400&&t<600&&(a=n+"400-"+n+"599"),"JW Player "+(e>299999&&e<4e5?"Warning":"Error")+" "+e+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+a},e}();function I(e,t,n){return n instanceof w&&n.code?n:new w(e,t,n)}function D(e,t){var n=I(A,t,e);return n.code=(e&&e instanceof w&&e.code||0)+t,n}function N(e){var t=e.name,n=e.message;switch(t){case"AbortError":return/pause/.test(n)?303213:/load/.test(n)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}},function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return h}));var a=n(0),r=window.parseFloat;function o(e){return e.replace(/^\s+|\s+$/g,"")}function i(e,t,n){for(e=""+e,n=n||"0";e.length<t;)e=n+e;return e}function s(e,t){for(var n=e.attributes,a=0;a<n.length;a++)if(n[a].name&&n[a].name.toLowerCase()===t.toLowerCase())return n[a].value.toString();return""}function u(e){if(!e||"rtmp"===e.substr(0,4))return"";var t=/[(,]format=(m3u8|mpd)-/i.exec(e);if(t)return t[1];var n=e.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return n!==e?n.toLowerCase():(e=e.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function l(e){var t=(e/60|0)%60,n=e%60;return i((e/3600|0).toString(),2)+":"+i(t.toString(),2)+":"+i(n.toFixed(3),6)}function c(e,t){if(!e)return 0;if(Object(a.z)(e))return e;var n=e.replace(",","."),o=n.slice(-1),i=n.split(":"),s=i.length,u=0;if("s"===o)u=r(n);else if("m"===o)u=60*r(n);else if("h"===o)u=3600*r(n);else if(s>1){var l=s-1;4===s&&(t&&(u=r(i[l])/t),l-=1),u+=r(i[l]),u+=60*r(i[l-1]),s>=3&&(u+=3600*r(i[l-2]))}else u=r(n);return Object(a.z)(u)?u:0}function d(e,t,n){if(Object(a.x)(e)&&"%"===e.slice(-1)){var o=r(e);return t&&Object(a.z)(t)&&Object(a.z)(o)?t*o/100:null}return c(e,n)}function f(e,t){return e.map((function(e){return t+e}))}function p(e,t){return e.map((function(e){return e+t}))}function h(e){return!!e&&Object(a.x)(e)&&"%"===e.slice(-1)}},function(e,t,n){"use strict";n.d(t,"jb",(function(){return a})),n.d(t,"mb",(function(){return r})),n.d(t,"kb",(function(){return o})),n.d(t,"ob",(function(){return i})),n.d(t,"pb",(function(){return s})),n.d(t,"lb",(function(){return u})),n.d(t,"nb",(function(){return l})),n.d(t,"qb",(function(){return c})),n.d(t,"s",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"t",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"r",(function(){return m})),n.d(t,"Z",(function(){return g})),n.d(t,"W",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"Y",(function(){return _})),n.d(t,"w",(function(){return E})),n.d(t,"ub",(function(){return S})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return w})),n.d(t,"i",(function(){return I})),n.d(t,"F",(function(){return D})),n.d(t,"gb",(function(){return N})),n.d(t,"Q",(function(){return C})),n.d(t,"C",(function(){return R})),n.d(t,"B",(function(){return M})),n.d(t,"E",(function(){return L})),n.d(t,"q",(function(){return j})),n.d(t,"cb",(function(){return k})),n.d(t,"n",(function(){return U})),n.d(t,"G",(function(){return x})),n.d(t,"H",(function(){return F})),n.d(t,"N",(function(){return B})),n.d(t,"O",(function(){return G})),n.d(t,"R",(function(){return H})),n.d(t,"ib",(function(){return V})),n.d(t,"bb",(function(){return W})),n.d(t,"D",(function(){return q})),n.d(t,"S",(function(){return Y})),n.d(t,"P",(function(){return z})),n.d(t,"T",(function(){return Q})),n.d(t,"V",(function(){return K})),n.d(t,"M",(function(){return X})),n.d(t,"L",(function(){return J})),n.d(t,"K",(function(){return Z})),n.d(t,"I",(function(){return $})),n.d(t,"J",(function(){return ee})),n.d(t,"U",(function(){return te})),n.d(t,"p",(function(){return ne})),n.d(t,"y",(function(){return ae})),n.d(t,"hb",(function(){return re})),n.d(t,"db",(function(){return oe})),n.d(t,"eb",(function(){return ie})),n.d(t,"g",(function(){return se})),n.d(t,"h",(function(){return ue})),n.d(t,"rb",(function(){return le})),n.d(t,"sb",(function(){return ce})),n.d(t,"ab",(function(){return de})),n.d(t,"A",(function(){return fe})),n.d(t,"m",(function(){return pe})),n.d(t,"l",(function(){return he})),n.d(t,"fb",(function(){return me})),n.d(t,"tb",(function(){return ge})),n.d(t,"z",(function(){return ye})),n.d(t,"k",(function(){return ve})),n.d(t,"X",(function(){return _e})),n.d(t,"j",(function(){return Ee})),n.d(t,"x",(function(){return Se}));var a="buffering",r="idle",o="complete",i="paused",s="playing",u="error",l="loading",c="stalled",d="drag",f="dragStart",p="dragEnd",h="click",m="doubleClick",g="over",y="move",v="enter",_="out",E=u,S="warning",b="adClick",O="mediaLoaded",T="adPause",P="adPlay",A="adSkipped",w="adTime",I="autostartNotAllowed",D=o,N="ready",C="seek",R="beforePlay",M="beforeComplete",L="bufferFull",j="displayClick",k="playlistComplete",U="cast",x="mediaError",F="firstFrame",B="playAttempt",G="playAttemptFailed",H="seeked",V="setupError",W="state",q="bufferChange",Y="time",z="ratechange",Q="mediaType",K="volume",X="mute",J="metadataCueParsed",Z="meta",$="levels",ee="levelsChanged",te="visualQuality",ne="controls",ae="fullscreen",re="resize",oe="playlistItem",ie="playlist",se="audioTracks",ue="audioTrackChanged",le="subtitlesTracks",ce="subtitlesTrackChanged",de="playbackRateChanged",fe="logoClick",pe="captionsList",he="captionsChanged",me="providerFirstFrame",ge="userAction",ye="instreamClick",ve="breakpoint",_e="fullscreenchange",Ee="bandwidthEstimate",Se="float"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(2);function r(e){var t="";return e&&(e.localName?t=e.localName:e.baseName&&(t=e.baseName)),t}function o(e){var t="";return e&&(e.textContent?t=Object(a.i)(e.textContent):e.text&&(t=Object(a.i)(e.text))),t}function i(e,t){return e.childNodes[t]}function s(e){return e.childNodes?e.childNodes.length:0}},function(e,t,n){"use strict";n.r(t);var a=n(6);function r(e,t){var n=e.exec(t);if(n&&n.length>1)return n[1]}n.d(t,"Browser",(function(){return s})),n.d(t,"OS",(function(){return u})),n.d(t,"Features",(function(){return l}));var o=navigator.userAgent,i=function(){},s={get androidNative(){return Object(a.c)()},get chrome(){return Object(a.d)()},get edge(){return Object(a.e)()},get facebook(){return Object(a.g)()},get firefox(){return Object(a.f)()},get ie(){return Object(a.i)()},get msie(){return Object(a.n)()},get safari(){return Object(a.q)()},get version(){return function(e,t){var n,a,r,o;if(e.chrome)n=-1!==t.indexOf("Chrome")?t.substring(t.indexOf("Chrome")+7):t.substring(t.indexOf("CriOS")+6);else if(e.safari)n=t.substring(t.indexOf("Version")+8);else if(e.firefox)n=t.substring(t.indexOf("Firefox")+8);else if(e.edge){var i=t.indexOf("Edge");-1===i?i=t.indexOf("Edg")+4:i+=5,n=t.substring(i)}else e.ie&&(-1!==t.indexOf("rv:")?n=t.substring(t.indexOf("rv:")+3):-1!==t.indexOf("MSIE")&&(n=t.substring(t.indexOf("MSIE")+5)));return n&&(-1!==(o=n.indexOf(";"))&&(n=n.substring(0,o)),-1!==(o=n.indexOf(" "))&&(n=n.substring(0,o)),-1!==(o=n.indexOf(")"))&&(n=n.substring(0,o)),a=parseInt(n,10),r=parseInt(n.split(".")[1],10)),{version:n,major:a,minor:r}}(this,o)}},u={get android(){return Object(a.b)()},get iOS(){return Object(a.j)()},get mobile(){return Object(a.o)()},get mac(){return Object(a.p)()},get iPad(){return Object(a.k)()},get iPhone(){return Object(a.l)()},get windows(){return o.indexOf("Windows")>-1},get tizen(){return Object(a.r)()},get tizenApp(){return Object(a.s)()},get version(){return function(e,t){var n,a,o;if(e.windows)switch(n=r(/Windows(?: NT|)? ([._\d]+)/,t)){case"6.1":n="7.0";break;case"6.2":n="8.0";break;case"6.3":n="8.1"}else e.android?n=r(/Android ([._\d]+)/,t):e.iOS?n=r(/OS ([._\d]+)/,t):e.mac?n=r(/Mac OS X ([._\d]+)/,t):e.tizen&&(n=r(/Tizen ([._\d]+)/,t));if(n){a=parseInt(n,10);var i=n.split(/[._]/);i&&(o=parseInt(i[1],10))}return{version:n,major:a,minor:o}}(this,o)}},l={get flash(){return Object(a.h)()},get flashVersion(){return Object(a.a)()},get iframe(){return Object(a.m)()},get passiveEvents(){return function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0}});window.addEventListener("testPassive",i,t),window.removeEventListener("testPassive",i,t)}catch(e){}return e}()},get backgroundLoading(){return!(u.iOS||s.safari||u.tizen)}}},function(e,t,n){"use strict";function a(e){return null!==navigator.userAgent.match(e)}n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"p",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"o",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return O}));var r=function(){return"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},o=function(){return a(/gecko\//i)},i=function(){return a(/iP(hone|od)/i)},s=function(){return a(/iPad/i)||r()},u=function(){return a(/Macintosh/i)&&!r()},l=function(){return a(/FBAV/i)},c=function(){return a(/\sEdge?\/\d+/i)},d=function(){return a(/msie/i)},f=function(){return a(/SMART-TV/)},p=function(){return f()&&!a(/SamsungBrowser/)},h=function(){return a(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!c()&&!a(/UCBrowser/i)&&!f()},m=function(){return!a(/\sEdg\/\d+/i)&&(c()||a(/trident\/.+rv:\s*11/i)||d())},g=function(){return a(/safari/i)&&!a(/(?:Chrome|CriOS|chromium|android|phantom)/i)||f()},y=function(){return a(/iP(hone|ad|od)/i)||r()};function v(){return!(a(/chrome\/[123456789]/i)&&!a(/chrome\/18/i)&&!o())&&_()}var _=function(){return a(/Android/i)&&!a(/Windows Phone/i)},E=function(){return y()||_()||a(/Windows Phone/i)};function S(){try{return window.self!==window.top}catch(e){return!0}}var b=function(){return!1},O=function(){return 0}},function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"r",(function(){return m})),n.d(t,"u",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return b})),n.d(t,"v",(function(){return O})),n.d(t,"t",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"b",(function(){return A})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return I})),n.d(t,"m",(function(){return D})),n.d(t,"k",(function(){return N})),n.d(t,"n",(function(){return C})),n.d(t,"l",(function(){return R})),n.d(t,"f",(function(){return M}));var a,r=n(0),o=n(2),i=n(5),s=window.DOMParser,u=!0;function l(e,t){return e.classList.contains(t)}function c(e){return f(e).firstChild}function d(e,t){P(e),function(e,t){if(t){for(var n=document.createDocumentFragment(),a=f(t).childNodes,r=0;r<a.length;r++)n.appendChild(a[r].cloneNode(!0));e.appendChild(n)}}(e,t)}function f(e){var t=function(e){if(a||(a=new s,u=function(){try{if(a.parseFromString("","text/html"))return!0}catch(e){}return!1}()),u)return a.parseFromString(e,"text/html").body;var t=document.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?t.documentElement.innerHTML=e:t.body.innerHTML=e,t.body}(e);p(t);for(var n=t.querySelectorAll("*"),r=n.length;r--;)m(n[r]);return t}function p(e){for(var t=e.querySelectorAll("script,object,iframe,meta"),n=t.length;n--;){var a=t[n];a.parentNode.removeChild(a)}return e}var h=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/);function m(e){for(var t=e.attributes,n=t.length;n--;){var a=t[n].name;if(/^on/.test(a)&&e.removeAttribute(a),/href/.test(a)){var r=t[n].value;/javascript:|javascript&colon;/.test(r)||!h.test(r)?e.removeAttribute(a):console.warn("Invalid or unsafe URL")}}return e}function g(e){return e+(e.toString().indexOf("%")>0?"":"px")}function y(e){return Object(r.x)(e.className)?e.className.split(" "):[]}function v(e,t){t=Object(o.i)(t),e.className!==t&&(e.className=t)}function _(e){return e.classList?e.classList:y(e)}function E(e,t){var n=y(e);(Array.isArray(t)?t:t.split(" ")).forEach((function(e){Object(r.e)(n,e)||n.push(e)})),v(e,n.join(" "))}function S(e,t){var n=y(e),a=Array.isArray(t)?t:t.split(" ");v(e,Object(r.h)(n,a).join(" "))}function b(e,t,n){var a=e.className||"";t.test(a)?a=a.replace(t,n):n&&(a+=" "+n),v(e,a)}function O(e,t,n){var a=l(e,t);(n=Object(r.r)(n)?n:!a)!==a&&(n?E(e,t):S(e,t))}function T(e,t,n){e.setAttribute(t,n)}function P(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function A(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function w(e){e&&P(e)}function I(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;var n=e.getBoundingClientRect(),a=window.pageYOffset,r=window.pageXOffset;return n.width||n.height||n.left||n.top?(t.left=n.left+r,t.right=n.right+r,t.top=n.top+a,t.bottom=n.bottom+a,t.width=n.right-n.left,t.height=n.bottom-n.top,t):t}function D(e,t){e.insertBefore(t,e.firstChild)}function N(e){return e.nextElementSibling}function C(e){return e.previousElementSibling}function R(e,t,n){if(void 0===n&&(n={}),h.test(e)){var a=document.createElement("a");a.href=e,a.target=t,a=m(Object(r.j)(a,n)),i.Browser.firefox?a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):a.click()}}function M(){var e=window.screen.orientation;return!!e&&("landscape-primary"===e.type||"landscape-secondary"===e.type)||90===window.orientation||-90===window.orientation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var a=n(1),r={};function o(e,t){return function(){throw new a.q(a.k,e,t)}}function i(e,t){return function(){throw new a.q(null,e,t)}}function s(){return n.e(4).then(function(e){return n(71).default}.bind(null,n)).catch(o(a.s+101))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u}));var a=function(){function e(){}var t=e.prototype;return t.on=function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;var a=this._events||(this._events={});return(a[e]||(a[e]=[])).push({callback:t,context:n}),this},t.once=function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var a=0,r=this,o=function n(){a++||(r.off(e,n),t.apply(this,arguments))};return o._callback=t,this.on(e,o,n)},t.off=function(e,t,n){if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return delete this._events,this;for(var a=e?[e]:Object.keys(this._events),r=0,o=a.length;r<o;r++){e=a[r];var i=this._events[e];if(i){var s=this._events[e]=[];if(t||n)for(var u=0,l=i.length;u<l;u++){var d=i[u];(t&&t!==d.callback&&t!==d.callback._callback||n&&n!==d.context)&&s.push(d)}s.length||delete this._events[e]}}return this},t.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!this._events)return this;if(!c(this,"trigger",e,n))return this;var r=this._events[e],o=this._events.all;return r&&d(r,n,this),o&&d(o,arguments,this),this},t.triggerSafe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!this._events)return this;if(!c(this,"trigger",e,n))return this;var r=this._events[e],o=this._events.all;return r&&d(r,n,this,e),o&&d(o,arguments,this,e),this},e}(),r=a.prototype.on,o=a.prototype.once,i=a.prototype.off,s=a.prototype.trigger,u=a.prototype.triggerSafe;a.on=r,a.once=o,a.off=i,a.trigger=s;var l=/\s+/;function c(e,t,n,a){if(!n)return!0;if("object"==typeof n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e[t].apply(e,[r,n[r]].concat(a));return!1}if(l.test(n)){for(var o=n.split(l),i=0,s=o.length;i<s;i++)e[t].apply(e,[o[i]].concat(a));return!1}return!0}function d(e,t,n,a){for(var r=-1,o=e.length;++r<o;){var i=e[r];if(a)try{i.callback.apply(i.context||n,t)}catch(e){console.log('Error in "'+a+'" event handler:',e)}else i.callback.apply(i.context||n,t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"exists",(function(){return r})),n.d(t,"isHTTPS",(function(){return o})),n.d(t,"isFileProtocol",(function(){return i})),n.d(t,"isRtmp",(function(){return s})),n.d(t,"isYouTube",(function(){return u})),n.d(t,"typeOf",(function(){return l})),n.d(t,"isDeepKeyCompliant",(function(){return c}));var a=window.location.protocol;function r(e){switch(typeof e){case"string":return e.length>0;case"object":return null!==e;case"undefined":return!1;default:return!0}}function o(){return"https:"===a}function i(){return"file:"===a}function s(e,t){return 0===e.indexOf("rtmp:")||"rtmp"===t}function u(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)}function l(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.isArray(e)?"array":t}function c(e,t,n){var a=Object.keys(e);return Object.keys(t).length>=a.length&&a.every((function(a){var r=e[a],o=t[a];return r&&"object"==typeof r?!(!o||"object"!=typeof o)&&c(r,o,n):n(a,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p}));var a,r=n(2),o=n(41),i=n.n(o),s=i.a.clear;function u(e,t,n,a){n=n||"all-players";var r="";if("object"==typeof t){var o=document.createElement("div");l(o,t);var s=o.style.cssText;Object.prototype.hasOwnProperty.call(t,"content")&&s&&(s=s+' content: "'+t.content+'";'),a&&s&&(s=s.replace(/;/g," !important;")),r="{"+s+"}"}else"string"==typeof t&&(r=t);""!==r&&"{}"!==r?i.a.style([[e,e+r]],n):i.a.clear(n,e)}function l(e,t){if(null!=e){var n;void 0===e.length&&(e=[e]);var a={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=d(n,t[n]));for(var r=0;r<e.length;r++){var o=e[r],i=void 0;if(null!=o)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=c(n),o.style[i]!==a[n]&&(o.style[i]=a[n]))}}}function c(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}function d(e,t){return""===t||null==t?"":"string"==typeof t&&isNaN(t)?/png|gif|jpe?g/i.test(t)&&t.indexOf("url")<0?"url("+t+")":t:0===t||"z-index"===e||"opacity"===e?""+t:/color/i.test(e)?"#"+Object(r.e)(t.toString(16).replace(/^0x/i,""),6):Math.ceil(t)+"px"}function f(e,t){l(e,{transform:t})}function p(e,t){var n="rgb",r=void 0!==t&&100!==t;if(r&&(n+="a"),!a){var o=document.createElement("canvas");o.height=1,o.width=1,a=o.getContext("2d")}e?isNaN(parseInt(e,16))||(e="#"+e):e="#000000",a.clearRect(0,0,1,1),a.fillStyle=e,a.fillRect(0,0,1,1);var i=a.getImageData(0,0,1,1).data;return n+="("+i[0]+", "+i[1]+", "+i[2],r&&(n+=", "+t/100),n+")"}},function(e,t,n){"use strict";n.r(t),n.d(t,"getAbsolutePath",(function(){return o})),n.d(t,"isAbsolutePath",(function(){return i})),n.d(t,"parseXML",(function(){return s})),n.d(t,"serialize",(function(){return u})),n.d(t,"parseDimension",(function(){return l})),n.d(t,"timeFormat",(function(){return c}));var a=n(10),r=n(0);function o(e,t){if(t&&Object(a.exists)(t)||(t=document.location.href),!Object(a.exists)(e))return"";if(i(e))return e;var n,r=t.substring(0,t.indexOf("://")+3),o=t.substring(r.length,t.indexOf("/",r.length+1));if(0===e.indexOf("/"))n=e.split("/");else{var s=t.split("?")[0];n=(s=s.substring(r.length+o.length+1,s.lastIndexOf("/"))).split("/").concat(e.split("/"))}for(var u=[],l=0;l<n.length;l++)n[l]&&Object(a.exists)(n[l])&&"."!==n[l]&&(".."===n[l]?u.pop():u.push(n[l]));return r+o+"/"+u.join("/")}function i(e){return/^(?:(?:https?|file):)?\/\//.test(e)}function s(e){var t=null;try{(t=(new window.DOMParser).parseFromString(e,"text/xml")).querySelector("parsererror")&&(t=null)}catch(e){}return t}function u(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!Object(r.u)(Number(e))&&!Object(r.u)(parseFloat(e)))return Number(e)}return e}function l(e){return Object(r.z)(e)?e:""===e?0:e.lastIndexOf("%")>-1?e:parseInt(e.replace("px",""),10)}function c(e,t){if(Object(r.u)(e)&&(e=parseInt(e.toString())),Object(r.u)(e)||!isFinite(e)||e<=0&&!t)return"00:00";var n=e<0?"-":"";e=Math.abs(e);var a=Math.floor(e/3600),o=Math.floor((e-3600*a)/60),i=Math.floor(e%60);return n+(a?a+":":"")+(o<10?"0":"")+o+":"+(i<10?"0":"")+i}},function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return O})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return P}));var a=n(0),r=n(6),o=n(27),i=n(10),s=n(40),u={},l={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"},c=Object(a.q)(l);function d(e){var t=f(e),n=t.indexOf("_");return-1===n?t:t.substring(0,n)}function f(e){return e.toLowerCase().replace("-","_")}function p(e){return e?Object.keys(e).reduce((function(t,n){return t[f(n)]=e[n],t}),{}):{}}function h(e){if(e)return 3===e.length?e:l[d(e)]||e}function m(e){return c[e]||""}function g(e){var t=e.querySelector("html");return t?t.getAttribute("lang"):null}function y(){var e=g(document);if(!e&&Object(r.m)())try{e=g(window.top.document)}catch(e){}return e||navigator.language||"en"}var v=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"];function _(e){return 8207===e.charCodeAt(0)||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e)}function E(e){return v.indexOf(d(e))>=0}function S(e,t,n){return Object(a.j)({},function(e){var t=e.advertising,n=e.related,r=e.sharing,o=e.abouttext,i=Object(a.j)({},e.localization);t&&(i.advertising=i.advertising||{},b(i.advertising,t,"admessage"),b(i.advertising,t,"cuetext"),b(i.advertising,t,"loadingAd"),b(i.advertising,t,"podmessage"),b(i.advertising,t,"skipmessage"),b(i.advertising,t,"skiptext")),"string"==typeof i.related?i.related={heading:i.related}:i.related=i.related||{},n&&b(i.related,n,"autoplaymessage"),r&&(i.sharing=i.sharing||{},b(i.sharing,r,"heading"),b(i.sharing,r,"copied")),o&&b(i,e,"abouttext");var s=i.close||i.nextUpClose;return s&&(i.close=s),i}(e),t[d(n)],t[f(n)])}function b(e,t,n){var a=e[n]||t[n];a&&(e[n]=a)}function O(e){return Object(i.isDeepKeyCompliant)(s.a,e,(function(e,t){return"string"==typeof t[e]}))}function T(e,t){var n,a=u[t];if(!a){var r=e+"translations/"+(n=d(t),(/^n[bn]$/.test(n)?"no":n)+".json");u[t]=a=new Promise((function(e,n){Object(o.b)({url:r,oncomplete:e,onerror:function(e,a,r,o){u[t]=null,n(o)},responseType:"json"})}))}return a}function P(e,t){var n=Object(a.j)({},e,t);return A(n,"errors",e,t),A(n,"related",e,t),A(n,"sharing",e,t),A(n,"advertising",e,t),A(n,"shortcuts",e,t),A(n,"captionsStyles",e,t),n}function A(e,t,n,r){e[t]=Object(a.j)({},n[t],r[t])}},function(e,t,n){"use strict";t.a=[]},function(e,t,n){"use strict";t.a={debug:!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(31),r=n(5),o=n(20),i=n(0),s=n(37),u=n(22),l=Object(i.l)(a.a,Object(i.B)({name:"html5"})),c=l.supports;function d(e){var t=window.MediaSource;return Object(i.a)(e,(function(e){return!!t&&!!t.isTypeSupported&&t.isTypeSupported(e)}))}function f(e){if(e.drm)return!1;var t=e.file.indexOf(".m3u8")>-1,n="hls"===e.type||"m3u8"===e.type;if(!t&&!n)return!1;var a=r.Browser.chrome||r.Browser.firefox||r.Browser.edge||r.Browser.ie&&11===r.Browser.version.major||r.OS.tizen,o=r.Browser.safari&&(!u.a.canPlayType||!u.a.canPlayType("application/vnd.apple.mpegURL")),i=r.OS.android&&!1===e.hlsjsdefault,s=r.Browser.safari&&!!e.safarihlsjs;return d(e.mediaTypes||['video/mp4;codecs="avc1.4d400d,mp4a.40.2"'])&&(a||s||o)&&!i}l.supports=function(e,t){var n=c.apply(this,arguments);if(n&&e.drm&&"hls"===e.type){var a=Object(o.a)(t),r=a("drm");if(r&&e.drm.fairplay){var i=window.WebKitMediaKeys;return i&&i.isTypeSupported&&i.isTypeSupported("com.apple.fps.1_0","video/mp4")}return r}return n},a.a.push({name:"shaka",supports:function(e){return!(e.drm&&!Object(s.a)(e.drm))&&!(!window.HTMLVideoElement||!window.MediaSource)&&d(e.mediaTypes)&&("dash"===e.type||"mpd"===e.type||(e.file||"").indexOf("mpd-time-csf")>-1)}}),a.a.unshift({name:"hlsjs",supports:function(e){return f(e)}}),a.a.unshift({name:"hlsjsAlt",supports:function(e){return e._hlsjsProgressive&&f(e)}});var p=a.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(32),r=n(16),o=n(57),i=n(0);function s(e){var t=e.getName().name;if(!a.a[t]){if(!Object(i.l)(r.a,Object(i.B)({name:t}))){if(!Object(i.t)(e.supports))throw new Error("Tried to register a provider with an invalid object");r.a.unshift({name:t,supports:e.supports})}Object(i.g)(e.prototype,o.a),a.a[t]=e}}n(9)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=Date.now||function(){return(new Date).getTime()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(38),r=a.a,o=a.c;function i(e){var t=Object(a.b)(e);if(!e)return t;switch(Object(a.c)(e)){case"jwpsrv":t=305001;break;case"googima":t=305002;break;case"vast":t=305003;break;case"freewheel":t=305004;break;case"dai":t=305005;break;case"gapro":t=305006;break;case"bidding":t=305007}return t}},function(e,t,n){"use strict";function a(e){var t={setup:["free","starter","business","premium","enterprise","developer","ads","unlimited","trial","platinum"],drm:["enterprise","developer","ads","unlimited","trial"],ads:["ads","unlimited","trial","platinum","enterprise","developer","business"],jwpsrv:["free","starter","business","premium","enterprise","developer","ads","trial","platinum","invalid"],discovery:["ads","enterprise","developer","trial","unlimited"]};return function(n){return t[n]&&t[n].indexOf(e)>-1}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getScriptPath",(function(){return o})),n.d(t,"repo",(function(){return i})),n.d(t,"versionCheck",(function(){return s})),n.d(t,"loadFrom",(function(){return u}));var a=n(29),r=n(10),o=function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var a=t[n].src;if(a){var r=a.lastIndexOf("/"+e);if(r>=0)return a.substr(0,r+1)}}return""},i=function(){return(Object(r.isFileProtocol)()?"https:":"")+"//ssl.p.jwpcdn.com/player/v/8.20.10/"},s=function(e){var t=("0"+e).split(/\W/),n=a.a.split(/\W/),r=parseFloat(t[0]),o=parseFloat(n[0]);return!(r>o||r===o&&parseFloat("0"+t[1])>parseFloat(n[1]))},u=function(){return i()}},function(e,t,n){"use strict";var a=document.createElement("video");t.a=a},function(e,t,n){"use strict";var a=n(0),r={none:!0,metadata:!0,auto:!0};function o(e,t){return r[e]?e:r[t]?t:"metadata"}var i=n(28),s=n(33),u=n(42),l=n(1);function c(e,t,n){var r=Object(a.j)({},n);return delete r.playlist,e.map((function(e){return f(t,e,r)})).filter((function(e){return!!e}))}function d(e){if(!Array.isArray(e)||0===e.length)throw new l.q(l.m,630)}function f(e,t,n){var r=e.getProviders(),i=e.get("preload"),s=Object(a.j)({},t);if(s.preload=o(t.preload,i),s.allSources=m(s,e),s.sources=g(s.allSources,r),s.sources.length)return s.file=s.sources[0].file,s.feedData=n,function(e){var t=e.sources[0].liveSyncDuration;return t&&(e.liveSyncDuration=e.dvrSeekLimit=t),e}(s)}function p(e,t){var n=(parseInt(e,10)||0)%t;return n<0&&(n+=t),n}n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h}));var h=function(e,t){return g(m(e,t),t.getProviders())};function m(e,t){var n=t.attributes,a=e.sources,r=e.allSources,i=e.preload,u=e.drm,l=y(e.withCredentials,n.withCredentials);return(r||a).map((function(t){if(t!==Object(t))return null;v(t,n,"androidhls"),v(t,n,"hlsjsdefault"),v(t,n,"safarihlsjs"),function(e,t,n){e.liveSyncDuration||v(e,t.liveSyncDuration?t:n,"liveSyncDuration")}(t,e,n),v(t,n,"_hlsjsProgressive"),t.preload=o(t.preload,i);var a=t.drm||u||n.drm;a&&(t.drm=a);var r=y(t.withCredentials,l);return void 0!==r&&(t.withCredentials=r),Object(s.a)(t)})).filter((function(e){return!!e}))}function g(e,t){t&&t.choose||(t=new u.a);var n=function(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=t.choose(a).providerToCheck;if(r)return{type:a.type,provider:r}}return null}(e,t);if(!n)return[];var a=n.provider,r=n.type;return e.filter((function(e){return e.type===r&&t.providerSupports(a,e)}))}function y(e,t){return void 0===e?t:e}function v(e,t,n){n in t&&(e[n]=t[n])}t.a=function(e){return(Array.isArray(e)?e:[e]).map(i.a)}},function(e,t,n){"use strict";var a=n(0),r=n(9),o=n(3),i={};function s(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t}function u(e,t){var n=document.createElement("script");return n.type="text/javascript",n.charset="utf-8",n.async=!0,n.timeout=t||45e3,n.src=e,n}var l=function(e,t,n){var a=this,r=0;function l(e){r=2,a.trigger(o.w,e).off()}function c(e){r=3,a.trigger(o.kb,e).off()}this.getStatus=function(){return r},this.load=function(){var a=i[e];return 0!==r||(a&&a.then(c).catch(l),r=1,a=new Promise((function(a,r){var o=(t?s:u)(e,n),i=function(){o.onerror=o.onload=null,clearTimeout(f)},d=function(e){i(),l(e),r(e)},f=setTimeout((function(){d(new Error("Network timeout "+e))}),45e3);o.onerror=function(){d(new Error("Failed to load "+e))},o.onload=function(e){i(),c(e),a(e)};var p=document.getElementsByTagName("head")[0]||document.documentElement;p.insertBefore(o,p.firstChild)})),i[e]=a),a}};Object(a.j)(l.prototype,r.a),t.a=l},function(e,t,n){"use strict";var a=n(1),r=n(19),o=function(){this.load=function(e,t,n,o){return n&&"object"==typeof n?Promise.all(Object.keys(n).filter((function(e){return e})).map((function(i){var s=n[i];return t.setupPlugin(i).then((function(t){if(!o.attributes._destroyed)return Object(r.a)(t,s,e)})).catch((function(e){return t.removePlugin(i),e.code?e:new a.q(null,Object(r.b)(i),e)}))}))):Promise.resolve()}},i=n(58),s=n(47),u={},l=function(){function e(){}var t=e.prototype;return t.setupPlugin=function(e){var t=this.getPlugin(e);return t?(t.url!==e&&Object(s.a)('JW Plugin "'+Object(r.c)(e)+'" already loaded from "'+t.url+'". Ignoring "'+e+'."'),t.promise):this.addPlugin(e).load()},t.addPlugin=function(e){var t=Object(r.c)(e),n=u[t];return n||(n=new i.a(e),u[t]=n),n},t.getPlugin=function(e){return u[Object(r.c)(e)]},t.removePlugin=function(e){delete u[Object(r.c)(e)]},t.getPlugins=function(){return u},e}();n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var c=new l,d=function(e,t,n){var a=c.addPlugin(e);a.js||a.registerPlugin(e,t,n)};function f(e,t){var n=e.get("plugins");return window.jwplayerPluginJsonp=d,(e.pluginLoader=e.pluginLoader||new o).load(t,c,n,e).then((function(t){if(!e.attributes._destroyed)return delete window.jwplayerPluginJsonp,t}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(48),r=n(20),o=n(45),i=n(1),s=100013;t.b=function(e){var t,n,u;try{var l=Object(a.a)(e||"",Object(o.a)("NDh2aU1Cb0NHRG5hcDFRZQ==")).split("/");if("pro"===(t=l[0])&&(t="premium"),Object(r.a)(t)("setup")||(t="invalid"),l.length>2){n=l[1];var c=parseInt(l[2]);c>0&&(u=new Date).setTime(c)}}catch(e){t="invalid"}this.edition=function(){return t},this.token=function(){return n},this.expiration=function(){return u},this.duration=function(){return u?u.getTime()-(new Date).getTime():0},this.error=function(){var a;return void 0===e?a=100011:"invalid"!==t&&n?this.duration()<0&&(a=s):a=100012,a?new i.q(i.k,a):null}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(0),r=n(12),o=n(10),i=n(1),s=function(){};function u(e,t,n,f){var p;e===Object(e)&&(e=(f=e).url);var h=Object(a.j)({xhr:null,url:e,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:t||s,onerror:n||s,mimeType:f&&!f.responseType?"text/xml":"",requireValidXML:!1,responseType:f&&f.plainText?"text":"",useDomParser:!1,requestFilter:null},f),m=function(e,t){return function(e,n){var r=e.currentTarget||t.xhr;if(clearTimeout(t.timeoutId),t.retryWithoutCredentials&&t.xhr.withCredentials)return l(r),void u(Object(a.j)({},t,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!n&&r.status>=400&&r.status<600&&(n=r.status),c(t,n?i.m:i.p,n||6,e)}}(0,h);if("XMLHttpRequest"in window){if(p=h.xhr=h.xhr||new window.XMLHttpRequest,"function"==typeof h.requestFilter){var g;try{g=h.requestFilter({url:e,xhr:p})}catch(e){return m(e,5),p}g&&"open"in g&&"send"in g&&(p=h.xhr=g)}p.onreadystatechange=function(e){return function(t){var n=t.currentTarget||e.xhr;if(4===n.readyState){clearTimeout(e.timeoutId);var s=n.status;if(s>=400)return void c(e,i.m,s<600?s:6);if(200===s)return function(e){return function(t){var n=t.currentTarget||e.xhr;if(clearTimeout(e.timeoutId),e.responseType){if("json"===e.responseType)return function(e,t){if(!e.response||"string"==typeof e.response&&'"'!==e.responseText.substr(1))try{e=Object(a.j)({},e,{response:JSON.parse(e.responseText)})}catch(e){return void c(t,i.m,611,e)}return t.oncomplete(e)}(n,e)}else{var o,s=n.responseXML;if(s)try{o=s.firstChild}catch(e){}if(s&&o)return d(n,s,e);if(e.useDomParser&&n.responseText&&!s&&(s=Object(r.parseXML)(n.responseText))&&s.firstChild)return d(n,s,e);if(e.requireValidXML)return void c(e,i.m,602)}e.oncomplete(n)}}(e)(t);0===s&&Object(o.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(e.url)&&c(e,i.m,7)}}}(h),p.onerror=m,"overrideMimeType"in p?h.mimeType&&p.overrideMimeType(h.mimeType):h.useDomParser=!0;try{e=e.replace(/#.*$/,""),p.open("GET",e,!0)}catch(e){return m(e,3),p}if(h.responseType)try{p.responseType=h.responseType}catch(e){}h.timeout&&(h.timeoutId=setTimeout((function(){l(p),c(h,i.p,1)}),h.timeout),p.onabort=function(){clearTimeout(h.timeoutId)});try{h.withCredentials&&"withCredentials"in p&&(p.withCredentials=!0),p.send()}catch(e){m(e,4)}return p}c(h,i.p,2)}function l(e){e.onload=null,e.onprogress=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()}function c(e,t,n,a){e.onerror(t,e.url,e.xhr,new i.q(t,n,a))}function d(e,t,n){var r=t.documentElement;if(!n.requireValidXML||"parsererror"!==r.nodeName&&!r.getElementsByTagName("parsererror").length)return e.responseXML||(e=Object(a.j)({},e,{responseXML:t})),n.oncomplete(e);c(n,i.m,601)}},function(e,t,n){"use strict";var a=n(0),r=n(33),o=["captions","metadata","thumbnails","chapters"],i=function(e){if(e&&e.file){var t,n=Object(a.j)({},{kind:"captions",default:!1},e);return n.kind=(t=n.kind,-1!==o.indexOf(t)?n.kind:"captions"),n.default=!!n.default,n}},s=n(35),u=Array.isArray;t.a=function(e){u((e=e||{}).tracks)||delete e.tracks;var t=Object(a.j)({},{sources:[],tracks:[],minDvrWindow:s.b},e);t.sources!==Object(t.sources)||u(t.sources)||(t.sources=[Object(r.a)(t.sources)]),u(t.sources)&&0!==t.sources.length||(e.levels?t.sources=e.levels:t.sources=[Object(r.a)(e)]);for(var n=0;n<t.sources.length;n++){var o=t.sources[n];if(o){var l=o.default;o.default=!!l&&"true"===l.toString(),t.sources[n].label||(t.sources[n].label=n.toString()),t.sources[n]=Object(r.a)(t.sources[n])}}return t.sources=t.sources.filter((function(e){return!!e})),u(t.tracks)||(t.tracks=[]),u(t.captions)&&(t.tracks=t.tracks.concat(t.captions),delete t.captions),t.tracks=t.tracks.map(i).filter((function(e){return!!e})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="8.20.10+commercial_v8-20-10.463.commercial.7544927.hlsjs..hlsjsalt..jwplayer.c8de0bf.dai.1f98a0b.freewheel.f907d3d.googima.a4a66e3.googimanvmp.106f6b4.headerbidding.c12af74.vast.f2119ff.analytics.920ae01.gapro.141397a"},function(e,t,n){"use strict";var a=n(0),r=n(18),o=window.performance||{timing:{}},i=o.timing.navigationStart||Object(r.a)();function s(){return i+o.now()}"now"in o||(o.now=function(){return Object(r.a)()-i});var u=function(){function e(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var t=e.prototype;return t.start=function(e){this.startTimes[e]=s(),this.counts[e]=this.counts[e]+1||1},t.end=function(e){if(this.startTimes[e]){var t=s()-this.startTimes[e];delete this.startTimes[e],this.sum[e]=this.sum[e]+t||t}},t.dump=function(){var e=Object(a.j)({},this.sum);for(var t in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,t)){var n=s()-this.startTimes[t];e[t]=e[t]+n||n}return{counts:Object(a.j)({},this.counts),sums:e,events:Object(a.j)({},this.ticks)}},t.tick=function(e){this.ticks[e]=s()},t.clear=function(e){delete this.ticks[e]},t.between=function(e,t){return this.ticks[t]&&this.ticks[e]?this.ticks[t]-this.ticks[e]:null},e}();t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(65),r=n(10),o=n(22),i={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:u}];function u(e){if(!o.a||!o.a.canPlayType)return!1;if(!1===Object(a.a)(e))return!1;var t=e.file,n=e.type;if(Object(r.isRtmp)(t,n))return!1;var s=e.mimeType||i[n];if(!s)return!1;var u=e.mediaTypes;return u&&u.length&&(s=[s].concat(u.slice()).join("; ")),!!o.a.canPlayType(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={}},function(e,t,n){"use strict";var a=n(0),r=n(10),o=n(2);t.a=function(e){if(e&&e.file){var t=Object(a.j)({},{default:!1,type:""},e);t.file=Object(o.i)(""+t.file);var n=/^[^/]+\/(?:x-)?([^/]+)$/,i=t.type;if(n.test(i)&&(t.mimeType=i,t.type=i.replace(n,"$1")),Object(r.isYouTube)(t.file)?t.type="youtube":Object(r.isRtmp)(t.file)?t.type="rtmp":t.type||(t.type=Object(o.a)(t.file)),t.type){switch(t.type){case"m3u8":case"vnd.apple.mpegurl":t.type="hls";break;case"dash+xml":t.type="dash";break;case"m4a":t.type="aac";break;case"smil":t.type="rtmp"}return Object.keys(t).forEach((function(e){""===t[e]&&delete t[e]})),t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O}));var a=n(5),r=n(3),o=n(9),i=n(18),s=n(7);function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l,c,d="ontouchstart"in window,f="PointerEvent"in window&&!a.OS.android,p=!(f||d&&a.OS.mobile),h=a.Features.passiveEvents,m=!!h&&{passive:!0},g=function(e){var t,n;function a(t,n){var a;a=e.call(this)||this;var r=!(n=n||{}).preventScrolling;return a.directSelect=!!n.directSelect,a.dragged=!1,a.enableDoubleClick=!1,a.el=t,a.handlers={},a.options={},a.lastClick=0,a.lastStart=0,a.passive=r,a.pointerId=null,a.startX=0,a.startY=0,a.event=null,a.clicking=!1,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var r=a.prototype;return r.on=function(t,n,a){return v(t)&&(this.handlers[t]||b[t](this)),e.prototype.on.call(this,t,n,a)},r.off=function(t,n,a){var r=this;if(v(t))P(this,t);else if(!t){var o=this.handlers;Object.keys(o).forEach((function(e){P(r,e)}))}return e.prototype.off.call(this,t,n,a)},r.destroy=function(){this.el&&(this.off(),f&&A(this),this.el=null)},a}(o.a),y=/\s+/;function v(e){return e&&!(y.test(e)||"object"==typeof e)}function _(e){if(!e.handlers.init){var t=e.el,n=e.passive,a=!!h&&{passive:n},o=function(t){if(e.dragged)I(e,r.s,t);else{var a=D(t),o=a.pageX,i=a.pageY,s=o-e.startX,u=i-e.startY;s*s+u*u>36&&(I(e,r.u,t),e.dragged=!0,I(e,r.s,t))}var l;n||"touchmove"!==t.type||(l=t).preventDefault&&l.preventDefault()},i=function(t){clearTimeout(l),e.el&&(A(e),P(e,"window"),e.dragged&&(e.dragged=!1,I(e,r.t,t)))};S(e,"init"),N(e,"init",(function(r){if(Object(s.o)(t,"jw-tab-focus"),!function(e){return"which"in e?3===e.which:"button"in e&&2===e.button}(r)){var u=r.target,l=r.type;if(!e.directSelect||u===t){var c=D(r),d=c.pageX,f=c.pageY;if(e.dragged=!1,e.startX=d,e.startY=f,P(e,"window"),"pointerdown"===l&&r.isPrimary){if(!n){var p=r.pointerId;e.pointerId=p,t.setPointerCapture(p)}T(e,"window","pointermove",o,a),T(e,"window","pointercancel",i),T(e,"window","pointerup",i)}else"mousedown"===l?(T(e,"window","mousemove",o,a),T(e,"window","mouseup",i)):"touchstart"===l&&(T(e,"window","touchmove",o,a),T(e,"window","touchcancel",i),T(e,"window","touchend",i))}}}),a),c||(c=new g(document).on("interaction"))}}function E(e){if(!e.handlers.select){var t=e.el;S(e,"select"),N(e,"select",(function(n){var a=n.target;e.directSelect&&a!==t||(n.isPrimary&&"BUTTON"===a.tageName&&a.focus(),e.lastStart=Object(i.a)(),e.clicking=!0)})),T(e,"select","click",(function(n){e.directSelect&&n.target!==t||(Object(i.a)()-e.lastStart>500&&!0===e.clicking||(function(e,t){e.enableDoubleClick&&(Object(i.a)()-e.lastClick<300?(I(e,r.r,t),e.lastClick=0):e.lastClick=Object(i.a)())}(e,n),I(e,r.o,n)),e.clicking=!1)}))}}function S(e,t){if(!e.handlers.init&&!e.handlers.select){var n=e.el;T(e,t,"blur",(function(){Object(s.o)(n,"jw-tab-focus"),e.clicking=!1})),T(e,t,"focus",(function(){c.event&&"keydown"===c.event.type&&Object(s.a)(n,"jw-tab-focus")}))}}var b={drag:function(e){_(e)},dragStart:function(e){_(e)},dragEnd:function(e){_(e)},click:function(e){E(e)},doubleClick:function(e){e.enableDoubleClick=!0,E(e)},longPress:function(e){if(a.OS.iOS){var t=function(){clearTimeout(l)};T(e,"longPress","touchstart",(function(n){t(),l=setTimeout((function(){I(e,"longPress",n)}),500)})),T(e,"longPress","touchmove",t),T(e,"longPress","touchcancel",t),T(e,"longPress","touchend",t)}else e.el.oncontextmenu=function(t){return I(e,"longPress",t),!1}},focus:function(e){T(e,"focus","focus",(function(t){w(e,"focus",t)}))},blur:function(e){T(e,"blur","blur",(function(t){w(e,"blur",t)}))},over:function(e){(f||p)&&T(e,r.Z,f?"pointerover":"mouseover",(function(t){"touch"!==t.pointerType&&I(e,r.Z,t)}))},out:function(e){if(f){var t=e.el;T(e,r.Y,"pointerout",(function(n){if("touch"!==n.pointerType&&"clientX"in n){var a=document.elementFromPoint(n.clientX,n.clientY);t.contains(a)||I(e,r.Y,n)}}))}else p&&T(e,r.Y,"mouseout",(function(t){I(e,r.Y,t)}))},move:function(e){(f||p)&&T(e,r.W,f?"pointermove":"mousemove",(function(t){"touch"!==t.pointerType&&I(e,r.W,t)}))},enter:function(e){T(e,r.v,"keydown",(function(t){"Enter"!==t.key&&13!==t.keyCode||(t.stopPropagation(),w(e,r.v,t))}))},keydown:function(e){T(e,"keydown","keydown",(function(t){w(e,"keydown",t)}),!1)},gesture:function(e){var t=function(t){return I(e,"gesture",t)};T(e,"gesture","click",t),T(e,"gesture","keydown",t)},interaction:function(e){var t=function(t){e.event=t};T(e,"interaction","mousedown",t,!0),T(e,"interaction","keydown",t,!0)},tap:function(){},doubleTap:function(){}};function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}function T(e,t,n,a,r){void 0===r&&(r=m);var o=e.handlers[t],i=e.options[t];if(o||(o=e.handlers[t]={},i=e.options[t]={}),o[n])throw new Error(t+" "+n+" already registered");o[n]=a,i[n]=r;var s=e.el;("window"===t?O(s):s).addEventListener(n,a,r)}function P(e,t){var n=e.el,a=e.handlers,r=e.options,o="window"===t?O(n):n,i=a[t],s=r[t];i&&(Object.keys(i).forEach((function(e){var t=s[e];"boolean"==typeof t?o.removeEventListener(e,i[e],t):o.removeEventListener(e,i[e])})),a[t]=null,r[t]=null)}function A(e){var t=e.el;null!==e.pointerId&&(t.releasePointerCapture(e.pointerId),e.pointerId=null)}function w(e,t,n){var a=e.el,r=n.target;e.trigger(t,{type:t,sourceEvent:n,currentTarget:a,target:r})}function I(e,t,n){var a=function(e,t,n){var a,r=t.target,o=t.touches,i=t.changedTouches,s=t.pointerType;o||i?(a=o&&o.length?o[0]:i[0],s=s||"touch"):(a=t,s=s||"mouse");var u=a;return{type:e,pointerType:s,pageX:u.pageX,pageY:u.pageY,sourceEvent:t,currentTarget:n,target:r}}(t,n,e.el);e.trigger(t,a)}function D(e){return 0===e.type.indexOf("touch")?(e.originalEvent||e).changedTouches[0]:e}function N(e,t,n,a){f?T(e,t,"pointerdown",n,a):(p&&T(e,t,"mousedown",n,a),T(e,t,"touchstart",n,a))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:n(3).mb,itemReady:!1,controlsEnabled:!1},r={position:0,duration:0,buffer:0,currentTime:0},o=120,i=25},function(e,t,n){"use strict";var a=n(0),r=n(21),o=n(10),i=n(12),s=n(2),u=n(30),l=n(15);function c(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t}var d=n(6),f=n(7),p=n(11),h=n(27),m=n(52),g=n(47),y=n(53),v=Object(a.j)({},i,o,r,{addClass:f.a,hasClass:f.i,removeClass:f.o,replaceClass:f.p,toggleClass:f.v,classList:f.d,styleDimension:f.u,createElement:f.e,emptyElement:f.h,addStyleSheet:f.b,bounds:f.c,openLink:f.l,replaceInnerHtml:f.q,css:p.b,clearCss:p.a,style:p.d,transform:p.e,getRgba:p.c,ajax:h.b,crossdomain:function(e){var t=window.URL;try{var n=new t(e,location.origin);return location.protocol+"//"+location.host!=n.protocol+"//"+n.host}catch(e){}return!0},tryCatch:function(e,t,n){if(void 0===n&&(n=[]),l.a.debug)return e.apply(t||this,n);try{return e.apply(t||this,n)}catch(t){return new c(e.name,t)}},Error:c,Timer:u.a,log:g.a,genId:y.b,between:m.a,foreach:function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},flashVersion:d.a,isIframe:d.m,indexOf:a.p,trim:s.i,pad:s.e,extension:s.a,hms:s.b,seconds:s.g,prefix:s.f,suffix:s.h,noop:function(){}});t.a=v},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var a,r=n(20),o=[{configName:"clearkey",keyName:"org.w3.clearkey"},{configName:"widevine",keyName:"com.widevine.alpha"},{configName:"playready",keyName:"com.microsoft.playready"}],i=[],s={};function u(e){return e.some((function(e){return!!e.drm||e.sources.some((function(e){return!!e.drm}))}))}function l(e){return a||((navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration||window.MSMediaKeys)&&Object(r.a)(e)("drm")?(o.forEach((function(e){var t,n,a=(t=e.keyName,n=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"'}],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}]}],navigator.requestMediaKeySystemAccess?navigator.requestMediaKeySystemAccess(t,n):new Promise((function(e,n){var a;try{a=new window.MSMediaKeys(t)}catch(e){return void n(e)}e(a)}))).then((function(){s[e.configName]=!0})).catch((function(){s[e.configName]=!1}));i.push(a)})),a=Promise.all(i)):Promise.resolve())}function c(e){return s[e]}function d(e){if(a)return Object.keys(e).some((function(e){return c(e)}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(0),r=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")};function o(e){return 305e3}function i(e,t,n){var r=e.name,o=Object(a.j)({},t),i=document.createElement("div");i.id=n.id+"_"+r,i.className="jw-plugin jw-reset";var s=e.getNewInstance(n,o,i);return n.addPlugin(r,s),s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(8),r=n(5),o=null,i={};function s(){return o||(o=r.OS.tizenApp?n.e(3).then(function(e){var t=n(72).default;return i.controls=t,t}.bind(null,n)).catch((function(){o=null,Object(a.c)(301133)()})):n.e(2).then(function(e){var t=n(69).default;return i.controls=t,t}.bind(null,n)).catch((function(){o=null,Object(a.c)(301130)()}))),o}},function(e,t,n){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(e,t){var n,a,r={},o={},i=(n=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return void 0===a&&(a=n.apply(this,arguments)),a});function s(e){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-jwplayer-id",e),function(e){i().appendChild(e)}(t),t}function u(e,t){var n,a,r,i=o[e];i||(i=o[e]={element:s(e),counter:0});var u=i.counter++;return n=i.element,r=function(){d(n,u,"")},(a=function(e){d(n,u,e)})(t.css),function(e){if(e){if(e.css===t.css&&e.media===t.media)return;a((t=e).css)}else r()}}e.exports={style:function(e,t){!function(e,t){for(var n=0;n<t.length;n++){var a=t[n],o=(r[e]||{})[a.id];if(o){for(var i=0;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(u(e,a.parts[i]))}else{var s=[];for(i=0;i<a.parts.length;i++)s.push(u(e,a.parts[i]));r[e]=r[e]||{},r[e][a.id]={id:a.id,parts:s}}}}(t,function(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],o=r[0],i={css:r[1],media:r[2]};n[o]?n[o].parts.push(i):t.push(n[o]={id:o,parts:[i]})}return t}(e))},clear:function(e,t){var n=r[e];if(n)if(t){var a=n[t];if(a)for(var o=0;o<a.parts.length;o+=1)a.parts[o]()}else{for(var i=Object.keys(n),s=0;s<i.length;s+=1)for(var u=n[i[s]],l=0;l<u.parts.length;l+=1)u.parts[l]();delete r[e]}}};var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n){if(e.styleSheet)e.styleSheet.cssText=c(t,n);else{var a=document.createTextNode(n),r=e.childNodes[t];r?e.replaceChild(a,r):e.appendChild(a)}}},function(e,t,n){"use strict";var a=n(0),r=n(16),o=n(32),i=n(17),s=n(8),u={html5:function(){return n.e(15).then(function(e){var t=n(166).default;return Object(i.a)(t),t}.bind(null,n)).catch(Object(s.b)(152))}};Object(a.j)(u,{shaka:function(){return n.e(16).then(function(e){var t=n(180).default;return Object(i.a)(t),t}.bind(null,n)).catch(Object(s.b)(154))},hlsjs:function(){return n.e(13).then(function(e){var t=n(175).default;return Object(i.a)(t),t}.bind(null,n)).catch(Object(s.b)(153))},hlsjsAlt:function(){return n.e(14).then(function(e){var t=n(176).default;return Object(i.a)(t),t}.bind(null,n)).catch(Object(s.b)(155))}});var l=u;function c(e){this.config=e||{}}Object(a.j)(c.prototype,{load:function(e){var t=l[e],n=function(){return Promise.reject(new Error("Failed to load media"))};return t?t().then((function(){return o.a[e]||n()})):n()},providerSupports:function(e,t){return e.supports(t)},choose:function(e){if(e===Object(e))for(var t=r.a.length,n=0;n<t;n++){var a=r.a[n];if(this.providerSupports(a,e))return{priority:t-n-1,name:a.name,type:e.type,providerToCheck:a,provider:o.a[a.name]}}return{}}});var d=c;d.prototype.providerSupports=function(e,t){return e.supports(t,this.config.edition)},t.a=d},function(e,t,n){"use strict";var a=n(7),r=n(11);function o(e,t){var n=t.message,o=t.code,i=function(e,t,n,a){return'<div id="'+e+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+e+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+e+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+e+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(t||"")+'<span class="jw-break jw-reset"></span>'+(a?("("+n+": "+a+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(e.get("id"),n,e.get("localization").errors.errorCode,o.toString()),s=e.get("width"),u=e.get("height"),l=Object(a.e)(i);return Object(r.d)(l,{width:s.toString().indexOf("%")>0?s:s+"px",height:u.toString().indexOf("%")>0?u:u+"px"}),l}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function a(e){return e.slice&&"px"===e.slice(-2)&&(e=e.slice(0,-2)),e}function r(e,t){if(-1===t.toString().indexOf("%"))return 0;if("string"!=typeof e||!e)return 0;if(/^\d*\.?\d+%$/.test(e))return e;var n=e.indexOf(":");if(-1===n)return 0;var a=parseFloat(e.substr(0,n)),r=parseFloat(e.substr(n+1));return a<=0||r<=0?0:r/a*100+"%"}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=window.atob},function(e,t,n){"use strict";var a=n(4),r=n(2);function o(e){var t={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return t[e]?t[e]:e}function i(e){for(var t=[],n=0;n<Object(a.c)(e);n++){var r=e.childNodes[n];"jwplayer"===r.prefix&&"mediatypes"===Object(a.b)(r).toLowerCase()&&t.push(Object(a.d)(r))}return t}var s=function e(t,n){for(var s=[],u=0;u<Object(a.c)(t);u++){var l=t.childNodes[u];if("media"===l.prefix){if(!Object(a.b)(l))continue;switch(Object(a.b)(l).toLowerCase()){case"content":if(Object(r.j)(l,"duration")&&(n.duration=Object(r.g)(Object(r.j)(l,"duration"))),Object(r.j)(l,"url")){n.sources||(n.sources=[]);var c={file:Object(r.j)(l,"url"),type:Object(r.j)(l,"type"),width:Object(r.j)(l,"width"),label:Object(r.j)(l,"label")},d=i(l);d.length&&(c.mediaTypes=d),n.sources.push(c)}Object(a.c)(l)>0&&(n=e(l,n));break;case"title":n.title=Object(a.d)(l);break;case"description":n.description=Object(a.d)(l);break;case"guid":n.mediaid=Object(a.d)(l);break;case"thumbnail":n.image||(n.image=Object(r.j)(l,"url"));break;case"group":e(l,n);break;case"subtitle":var f={file:Object(r.j)(l,"url"),kind:"captions"};Object(r.j)(l,"lang").length>0&&(f.label=o(Object(r.j)(l,"lang"))),s.push(f)}}}n.tracks||(n.tracks=[]);for(var p=0;p<s.length;p++)n.tracks.push(s[p]);return n},u=n(12),l=n(28);function c(e){var t=[];t.feedData={};for(var n=0;n<Object(a.c)(e);n++){var r=Object(a.a)(e,n);if("channel"===Object(a.b)(r).toLowerCase())for(var o=0;o<Object(a.c)(r);o++){var i=Object(a.a)(r,o),s=Object(a.b)(i).toLowerCase();"item"===s?t.push(d(i)):s&&(t.feedData[s]=Object(a.d)(i))}}return t}function d(e){for(var t={},n=0;n<e.childNodes.length;n++){var o=e.childNodes[n],i=Object(a.b)(o);if(i)switch(i.toLowerCase()){case"enclosure":t.file=Object(r.j)(o,"url");break;case"title":t.title=Object(a.d)(o);break;case"guid":t.mediaid=Object(a.d)(o);break;case"pubdate":t.date=Object(a.d)(o);break;case"description":t.description=Object(a.d)(o);break;case"link":t.link=Object(a.d)(o);break;case"category":t.tags?t.tags+=Object(a.d)(o):t.tags=Object(a.d)(o)}}return new l.a(function(e,t){for(var n="default",o=[],i=[],s=t,l=0;l<e.childNodes.length;l++){var c=e.childNodes[l];if("jwplayer"===c.prefix){var d=Object(a.b)(c);"source"===d?(delete t.sources,o.push({file:Object(r.j)(c,"file"),default:Object(r.j)(c,n),label:Object(r.j)(c,"label"),type:Object(r.j)(c,"type")})):"track"===d?(delete t.tracks,i.push({file:Object(r.j)(c,"file"),default:Object(r.j)(c,n),kind:Object(r.j)(c,"kind"),label:Object(r.j)(c,"label")})):(t[d]=Object(u.serialize)(Object(a.d)(c)),"file"===d&&t.sources&&delete t.sources)}t.file||(t.file=t.link)}if(o.length){t.sources=[];for(var f=0;f<o.length;f++){var p=o[f];p.file.length>0&&(p[n]="true"===o[f][n],p.label||delete p.label,s.sources.push(p))}}if(i.length){t.tracks=[];for(var h=0;h<i.length;h++){var m=i[h];m.file&&m.file.length>0&&(m[n]="true"===i[h][n],m.kind=i[h].kind.length?i[h].kind:"captions",m.label||delete m.label,s.tracks.push(m))}}return s}(e,s(e,t)))}n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="function"==typeof console.log?console.log.bind(console):function(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(45);function r(e){for(var t=new Array(Math.ceil(e.length/4)),n=0;n<t.length;n++)t[n]=e.charCodeAt(4*n)+(e.charCodeAt(4*n+1)<<8)+(e.charCodeAt(4*n+2)<<16)+(e.charCodeAt(4*n+3)<<24);return t}function o(e,t){if(e=String(e),t=String(t),0===e.length)return"";for(var n,o,i,s=r(Object(a.a)(e)),u=r((n=t,unescape(encodeURIComponent(n))).slice(0,16)),l=s.length,c=s[l-1],d=s[0],f=2654435769*Math.floor(6+52/l);f;){i=f>>>2&3;for(var p=l-1;p>=0;p--)o=((c=s[p>0?p-1:l-1])>>>5^d<<2)+(d>>>3^c<<4)^(f^d)+(u[3&p^i]^c),d=s[p]-=o;f-=2654435769}return function(e){try{return decodeURIComponent(escape(e))}catch(t){return e}}(function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(255&e[n],e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")}(s).replace(/\0+$/,""))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=window.requestAnimationFrame||function(e){return setTimeout(e,17)},r=window.cancelAnimationFrame||clearTimeout},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var a=n(0),r=n(44),o=n(21),i=n(12),s=n(5),u=n(40),l=n(13),c={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640};function d(e){return e<5?5:e>30?30:e}t.b=function(e,t){var f=Object(a.j)({},(window.jwplayer||{}).defaults,t,e);!function(e){Object.keys(e).forEach((function(t){"id"!==t&&(e[t]=Object(i.serialize)(e[t]))}))}(f);var p=f.forceLocalizationDefaults?c.language:Object(l.e)(),h=Object(l.j)(f.intl);f.localization=Object(l.a)(u.a,Object(l.c)(f,h,p));var m=Object(a.j)({},c,f);"."===m.base&&(m.base=Object(o.getScriptPath)("jwplayer.js")),m.base=(m.base||Object(o.loadFrom)()).replace(/\/?$/,"/"),n.p=m.base,m.width=Object(r.b)(m.width),m.height=Object(r.b)(m.height),m.aspectratio=Object(r.a)(m.aspectratio,m.width),m.volume=Object(a.z)(m.volume)?Math.min(Math.max(0,m.volume),100):c.volume,m.mute=!!m.mute,m.language=p,m.intl=h;var g=m.playlistIndex;g&&(m.item=g),Object(a.v)(m.item)||(m.item=0);var y=f.autoPause;y&&(m.autoPause.viewability=!("viewability"in y)||!!y.viewability);var v=m.playbackRateControls;if(v){var _=m.playbackRates;Array.isArray(v)&&(_=v),(_=_.filter((function(e){return Object(a.v)(e)&&e>=.25&&e<=4})).map((function(e){return Math.round(100*e)/100}))).indexOf(1)<0&&_.push(1),_.sort(),m.playbackRateControls=!0,m.playbackRates=_}(!m.playbackRateControls||m.playbackRates.indexOf(m.defaultPlaybackRate)<0)&&(m.defaultPlaybackRate=1),m.playbackRate=m.defaultPlaybackRate,m.aspectratio||delete m.aspectratio;var E=m.playlist;if(E)Array.isArray(E.playlist)&&(m.feedData=E,m.playlist=E.playlist);else{var S=Object(a.C)(m,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);m.playlist=[S]}m.qualityLabels=m.qualityLabels||m.hlslabels,delete m.duration;var b=m.liveTimeout;null!==b&&(Object(a.z)(b)?0!==b&&(b=Math.max(30,b)):b=null,m.liveTimeout=b);var O,T,P=parseFloat(m.bandwidthEstimate),A=parseFloat(m.bitrateSelection);return m.bandwidthEstimate=Object(a.z)(P)?P:(O=m.defaultBandwidthEstimate,T=parseFloat(O),Object(a.z)(T)?Math.max(T,1):c.bandwidthEstimate),m.bitrateSelection=Object(a.z)(A)?A:c.bitrateSelection,m.liveSyncDuration=d(m.liveSyncDuration),m.backgroundLoading=Object(a.r)(m.backgroundLoading)?m.backgroundLoading:s.Features.backgroundLoading,m}},function(t,n,a){"use strict";a.r(n);var r=a(0),o=setTimeout;function i(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void c(t.promise,e)}l(t.promise,a)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void p((a=n,r=t,function(){a.apply(r,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}var a,r}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(e){if(n)return;n=!0,c(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new f(e,t,n)),n},s.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},s.all=function(e){return new s((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var r=a.length;function o(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){o(e,t)}),n)}a[e]=i,0==--r&&t(a)}catch(e){n(e)}}for(var i=0;i<a.length;i++)o(i,a[i])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){for(var a=0,r=e.length;a<r;a++)e[a].then(t,n)}))},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=s;window.Promise||(window.Promise=h);var m=a(21),g=a(14),y=a(16),v=a(17),_={availableProviders:y.a,registerProvider:v.a},E=a(25);_.registerPlugin=function(e,t,n){"jwpsrv"!==e&&Object(E.b)(e,t,n)};var S=_,b=a(29),O=a(15),T=a(5),P=a(64),A=a(3),w=a(30),I=a(9),D=a(36),N=0;function C(e,t){var n=new P.a(t);return n.on(A.gb,(function(t){e._qoe.tick("ready"),t.setupTime=e._qoe.between("setup","ready")})),n.on("all",(function(t,n){e.trigger(t,n)})),n}function R(e,t){var n=e.plugins,a=Object.keys(n).map((function(e){var t=n[e];return delete n[e],t}));t.get("setupConfig")&&e.trigger("remove"),e.off(),t.playerDestroy(),a.forEach((function(e){if(e.destroy)try{e.destroy()}catch(e){}})),t.getContainer().removeAttribute("data-jwplayer-id")}function M(e){var t=++N,n=e.id||"player-"+t,a=new w.a,o={},i=C(this,e);a.tick("init"),e.setAttribute("data-jwplayer-id",n),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n}},uniqueId:{enumerable:!0,get:function(){return t}},plugins:{enumerable:!0,get:function(){return o}},_qoe:{enumerable:!0,get:function(){return a}},version:{enumerable:!0,get:function(){return b.a}},Events:{enumerable:!0,get:function(){return I.a}},utils:{enumerable:!0,get:function(){return D.a}},_:{enumerable:!0,get:function(){return r.f}}}),Object(r.j)(this,{_events:{},setup:function(t){return a.clear("ready"),a.tick("setup"),i&&R(this,i),(i=C(this,e)).init(t,this),this.on(t.events,null,this)},remove:function(){return function(e){for(var t=g.a.length;t--;)if(g.a[t].uniqueId===e.uniqueId){g.a.splice(t,1);break}}(this),i&&R(this,i),Object.keys(o).forEach((function(e){delete o[e]})),this},qoe:function(){var e=i.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:e.getFirstFrame?e.getFirstFrame():null,player:this._qoe.dump(),item:e.dump()}},addCues:function(e){return Array.isArray(e)&&i.addCues(e),this},getAudioTracks:function(){return i.getAudioTracks()},getBuffer:function(){return i.get("buffer")},getCaptions:function(){return i.get("captions")},getCaptionsList:function(){return i.getCaptionsList()},getConfig:function(){return i.getConfig()},getContainer:function(){return i.getContainer()},getControls:function(){return i.get("controls")},getCues:function(){return i.get("cues")},getCurrentAudioTrack:function(){return i.getCurrentAudioTrack()},getCurrentCaptions:function(){return i.getCurrentCaptions()},getCurrentQuality:function(){return i.getCurrentQuality()},getCurrentTime:function(){return i.get("currentTime")},getDuration:function(){return i.get("duration")},getEnvironment:function(){return T},getFullscreen:function(){return i.get("fullscreen")},getHeight:function(){return i.getHeight()},getItemMeta:function(){return i.get("itemMeta")||{}},getMute:function(){return i.getMute()},getPercentViewable:function(){return i.get("visibility")},getPlaybackRate:function(){return i.get("playbackRate")},getPlaylist:function(){return i.get("playlist")},getPlaylistIndex:function(){return i.get("item")},getPlaylistItem:function(e){if(!D.a.exists(e))return i.get("playlistItem");var t=this.getPlaylist();return t?t[e]:null},getPosition:function(){return i.get("position")},getProvider:function(){return i.getProvider()},getQualityLevels:function(){return i.getQualityLevels()},getSafeRegion:function(e){return void 0===e&&(e=!0),i.getSafeRegion(e)},getState:function(){return i.getState()},getStretching:function(){return i.get("stretching")},getViewable:function(){return i.get("viewable")},getVisualQuality:function(){return i.getVisualQuality()},getVolume:function(){return i.get("volume")},getWidth:function(){return i.getWidth()},setCaptions:function(e){return i.setCaptions(e),this},setConfig:function(e){return i.setConfig(e),this},setControls:function(e){return i.setControls(e),this},setCurrentAudioTrack:function(e){i.setCurrentAudioTrack(e)},setCurrentCaptions:function(e){i.setCurrentCaptions(e)},setCurrentQuality:function(e){i.setCurrentQuality(e)},setFullscreen:function(e){return i.setFullscreen(e),this},setMute:function(e){return i.setMute(e),this},setPlaybackRate:function(e){return i.setPlaybackRate(e),this},setPlaylistItem:function(e,t){return i.setPlaylistItem(e,t),this},setCues:function(e){return Array.isArray(e)&&i.setCues(e),this},setVolume:function(e){return i.setVolume(e),this},load:function(e,t){return i.load(e,t),this},play:function(e){return i.play(e),this},pause:function(e){return i.pause(e),this},playToggle:function(e){switch(this.getState()){case A.pb:case A.jb:return this.pause(e);default:return this.play(e)}},seek:function(e,t){return i.seek(e,t),this},playlistItem:function(e,t){return i.playlistItem(e,t),this},playlistNext:function(e){return i.playlistNext(e),this},playlistPrev:function(e){return i.playlistPrev(e),this},next:function(e){return i.next(e),this},castToggle:function(){return i.castToggle(),this},stopCasting:function(){return i.stopCasting(),this},createInstream:function(){return i.createInstream()},stop:function(){return i.stop(),this},resize:function(e,t){return i.resize(e,t),this},addButton:function(e,t,n,a,r){return i.addButton(e,t,n,a,r),this},removeButton:function(e){return i.removeButton(e),this},attachMedia:function(){return i.attachMedia(),this},detachMedia:function(){return i.detachMedia(),this},isBeforeComplete:function(){return i.isBeforeComplete()},isBeforePlay:function(){return i.isBeforePlay()},setPlaylistItemCallback:function(e,t){i.setItemCallback(e,t)},removePlaylistItemCallback:function(){i.setItemCallback(null)},getPlaylistItemPromise:function(e){return i.getItemPromise(e)},getFloating:function(){return!!i.get("isFloating")},setFloating:function(e){i.setConfig({floating:{mode:e?"always":"never"}})}})}Object(r.j)(M.prototype,{on:function(e,t,n){return I.c.call(this,e,t,n)},once:function(e,t,n){return I.d.call(this,e,t,n)},off:function(e,t,n){return I.b.call(this,e,t,n)},trigger:function(e,t){return(t=r.f.isObject(t)?Object(r.j)({},t):{}).type=e,O.a.debug?I.e.call(this,e,t):I.f.call(this,e,t)},getPlugin:function(e){return this.plugins[e]},addPlugin:function(e,t){this.plugins[e]=t,this.on("ready",t.addToPlayer),t.resize&&this.on("resize",t.resizeHandler)},registerPlugin:function(e,t,n){Object(E.b)(e,t,n)},getAdBlock:function(){return!1},playAd:function(e){},pauseAd:function(e){},skipAd:function(){}}),a.p=Object(m.loadFrom)();var L=function(e){var t,n;if(e?"string"==typeof e?(t=j(e))||(n=document.getElementById(e)):"number"==typeof e?t=g.a[e]:e.nodeType&&(t=j((n=e).id||n.getAttribute("data-jwplayer-id"))):t=g.a[0],t)return t;if(n){var a=new M(n);return g.a.push(a),a}return{registerPlugin:E.b}};function j(e){for(var t=0;t<g.a.length;t++)if(g.a[t].id===e)return g.a[t];return null}function k(e){Object.defineProperties(e,{api:{get:function(){return S},set:function(){}},version:{get:function(){return b.a},set:function(){}},debug:{get:function(){return O.a.debug},set:function(e){O.a.debug=!!e}}})}k(L);var U=L,x=a(34),F=a(26),B=a(24),G=a(48),H=a(46),V=a(22),W=r.f.extend,q={};q._=r.f,q.utils=Object(r.j)(D.a,{key:F.b,extend:W,scriptloader:B.a,rssparser:{parse:H.a},tea:G.a,UI:x.a}),q.utils.css.style=q.utils.style,q.vid=V.a;var Y=q,z=a(63),Q=/^(?:on(?:ce)?|off|trigger)$/;function K(e){var t={};X(this,e,e,t),X(this,e,M.prototype,t)}function X(e,t,n,a){var r=Object.keys(n);r.forEach((function(o){"function"==typeof n[o]&&"Events"!==o?e[o]=function e(t,n,a,r,o){return function(){var i=Array.prototype.slice.call(arguments),s=i[0],u=n._trackCallQueue||(n._trackCallQueue=[]),l=Q.test(a),c=l&&i[1]&&i[1]._callback,d=o.edition||J(n,o,"edition"),f="free"===d;if(f){var p=["addButton","addCues","detachMedia","load","next","pause","play","playlistItem","playlistNext","playlistPrev","playToggle","resize","seek","setCaptions","setConfig","setControls","setCues","setFullscreen","setMute","setPlaybackRate","setPlaylistItem","setVolume","stop"];if(p.indexOf(a)>-1)return Z(a),t;var h=["createInstream","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality"];if(h.indexOf(a)>-1)return Z(a),null}if(c||u.push([a,s]),l)return ee(n,u),n[a].apply(t,i);$(a,i);var m=n[a].apply(n,i);return"remove"===a?n.off.call(t):"setup"===a&&(n.off.call(t),n.off(s.events,null,n),n.on.call(t,s.events,null,t),n.on("all",(function(a,i){if("ready"===a){var s=Object.keys(n).filter((function(e){return"_"!==e[0]&&-1===r.indexOf(e)&&"function"==typeof n[e]})),l=r.concat(s);s.forEach((function(a){t[a]=e(t,n,a,l,o)}))}n.trigger.call(t,a,i),ee(n,u)}))),ee(n,u),m===n?t:m}}(e,t,o,r,a):"_events"===o?e._events={}:Object.defineProperty(e,o,{enumerable:!0,get:function(){return n[o]}})}))}function J(e,t,n){var a=e.getConfig()[n];return t[n]=a,a}function Z(e){console.warn("The API method jwplayer()."+e+"() is disabled in the free edition of JW Player.")}function $(e,t){var n={reason:Object(z.a)()?"interaction":"external"};switch(e){case"play":case"pause":case"playToggle":case"playlistNext":case"playlistPrev":case"next":t[0]=n;break;case"seek":case"playlistItem":t[1]=n}}function ee(e,t){if(t.length){var n=e.getPlugin("jwpsrv");n&&n.trackExternalAPIUsage&&(t.forEach((function(e){!function(e,t,n){try{var a=function(e,t){switch(e){case"setup":return!!t;case"getSafeRegion":case"pauseAd":case"setControls":case"setFullscreen":case"setMute":return!!t===t?t:void 0;case"setPlaylistItem":case"getPlaylistItem":return(0|t)===t?t:void 0;case"setPlaybackRate":case"setVolume":return Number(t);case"setConfig":return Object.keys(Object(t)).join(",");case"on":case"once":case"off":case"trigger":case"getPlugin":case"addPlugin":case"registerPlugin":return""+t}return null}(t,n);e.trackExternalAPIUsage(t,a)}catch(e){O.a.debug&&console.warn(e)}}(n,e[0],e[1])})),t.length=0)}}var te=window;Object(r.j)(U,Y);var ne=function(e){var t=U(e);return t.uniqueId?t._publicApi||(t._publicApi=new K(t)):t};Object(r.j)(ne,Y),k(ne),"function"==typeof te.define&&te.define.amd&&te.define([],(function(){return ne}));var ae=ne;te.jwplayer&&(ae=te.jwplayer),n.default=ae},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){return Math.max(Math.min(e,n),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a=12;function r(){try{var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return e.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(e){}return Math.random().toString(36).slice(2,9)}function o(e){for(var t="";t.length<e;)t+=r();return t.slice(0,e)}},function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}));var r=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).attributes=Object.create(null),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var o=r.prototype;return o.addAttributes=function(e){var t=this;Object.keys(e).forEach((function(n){t.add(n,e[n])}))},o.add=function(e,t){var n=this;Object.defineProperty(this,e,{get:function(){return n.attributes[e]},set:function(t){return n.set(e,t)},enumerable:!1}),this.attributes[e]=t},o.get=function(e){return this.attributes[e]},o.set=function(e,t){if(this.attributes[e]!==t){var n=this.attributes[e];this.attributes[e]=t,this.trigger("change:"+e,this,t,n)}},o.clone=function(){var e={},t=this.attributes;if(t)for(var n in t)e[n]=t[n];return e},o.change=function(e,t,n){this.on("change:"+e,t,n);var a=this.get(e);return t.call(n,this,a,a),this},r}(n(9).a)},function(e,t,n){"use strict";function a(e,t,n){var a=[],r={};function o(){for(;a.length>0;){var t=a.shift(),n=t.command,o=t.args;(r[n]||e[n]).apply(e,o)}}t.forEach((function(t){var i=e[t];r[t]=i,e[t]=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];n()?a.push({command:t,args:r}):(o(),i&&i.apply(this,r))}})),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return a}}),this.flush=o,this.empty=function(){a.length=0},this.off=function(){t.forEach((function(t){var n=r[t];n&&(e[t]=n,delete r[t])}))},this.destroy=function(){this.off(),this.empty()}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=4,r=5,o=1},function(e,t,n){"use strict";var a=n(3),r=function(){},o=function(){return!1},i={name:"default"},s={supports:o,play:r,pause:r,preload:r,load:r,stop:r,volume:r,mute:r,seek:r,resize:r,remove:r,destroy:r,setVisibility:r,setFullscreen:r,getFullscreen:o,supportsFullscreen:o,getContainer:r,setContainer:r,getName:function(){return i},getQualityLevels:r,getCurrentQuality:r,setCurrentQuality:r,getAudioTracks:r,getCurrentAudioTrack:r,setCurrentAudioTrack:r,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:r,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:r,detachMedia:r,init:r,setState:function(e){this.state=e,this.trigger(a.bb,{newstate:e})},sendMediaType:function(e){var t=e[0],n=t.type,r=t.mimeType,o="aac"===n||"mp3"===n||"mpeg"===n||r&&0===r.indexOf("audio/");this.trigger(a.T,{mediaType:o?"audio":"video"})},getDuration:function(){return 0},trigger:r};t.a=s},function(e,t,n){"use strict";var a=n(0),r=n(24),o=n(12),i=n(2),s=n(1),u=n(19),l=function(e){if("string"==typeof e){var t=(e=e.split("?")[0]).indexOf("://");if(t>0)return 0;var n=e.indexOf("/"),a=Object(i.a)(e);return!(t<0&&n<0)||a&&isNaN(a)?1:2}},c=function(e){this.url=e,this.promise_=null};Object.defineProperties(c.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(a.j)(c.prototype,{load:function(){var e=this,t=this.promise_;if(!t){if(2===l(this.url))return Promise.resolve(this);var n=new r.a(function(e){switch(l(e)){case 0:return e;case 1:return Object(o.getAbsolutePath)(e,window.location.href)}}(this.url));this.loader=n,t=n.load().then((function(){return e})),this.promise_=t}return t},registerPlugin:function(e,t,n){this.name=e,this.target=t,this.js=n},getNewInstance:function(e,t,n){var a=this.js;if("function"!=typeof a)throw new s.q(null,Object(u.b)(this.url)+100);var r=new a(e,t,n);return r.addToPlayer=function(){var e=this.getContainer().querySelector(".jw-overlays");e&&(n.left=e.style.left,n.top=e.style.top,e.appendChild(n))},r.resizeHandler=function(){var e=this.getContainer().querySelector(".jw-overlays");e&&r.resize(e.clientWidth,e.clientHeight)},r}}),t.a=c},function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(4),i=n(46),s=n(27),u=n(9),l=n(1);t.a=function(){var e=Object(a.j)(this,u.a);function t(t){try{var s,u=t.responseXML?t.responseXML.childNodes:null,c=null;if(u){for(var d=0;d<u.length&&8===(c=u[d]).nodeType;d++);if(c&&"xml"===Object(o.b)(c)&&(c=c.nextSibling),c&&"rss"===Object(o.b)(c)){var f=Object(i.a)(c);s=Object(a.j)({playlist:f},f.feedData)}}if(!s)try{var p=JSON.parse(t.responseText);if(Array.isArray(p))s={playlist:p};else{if(!Array.isArray(p.playlist))throw Error("Playlist is not an array");s=p}}catch(e){throw new l.q(l.m,621,e)}e.trigger(r.eb,s)}catch(e){n(e)}}function n(t){t instanceof l.q&&!t.code&&(t=new l.q(l.m,0)),e.trigger(r.w,t)}this.load=function(e){Object(s.b)(e,t,(function(e,t,a,r){n(r)}))},this.destroy=function(){this.off()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(56);function r(){for(var e=a.c,t=[],n=[],r=0;r<e;r++){var s=i();t.push(s),n.push(s),o(s)}var u=n.shift(),l=n.shift(),c=!1;return{primed:function(){return c},prime:function(){t.forEach(o),c=!0},played:function(){c=!0},getPrimedElement:function(){return n.shift()||null},getAdElement:function(){return u},getTestElement:function(){return l},clean:function(e){if(e.src){e.removeAttribute("src");try{e.load()}catch(e){}}},recycle:function(e){e&&!n.some((function(t){return t===e}))&&(this.clean(e),n.push(e))},syncVolume:function(e){var n=Math.min(Math.max(0,e/100),1);t.forEach((function(e){e.volume=n}))},syncMute:function(e){t.forEach((function(t){t.muted=e}))}}}function o(e){e.src||e.load()}function i(e){var t=document.createElement("video");return t.className="jw-video jw-reset",t.setAttribute("tabindex","-1"),t.setAttribute("disableRemotePlayback",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),e&&Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e,t){return Object(a.j)({},t,{prime:function(){e.src||e.load()},getPrimedElement:function(){return e},clean:function(){t.clean(e)},recycle:function(){t.clean(e)}})}},function(e,t,n){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,n){"use strict";function a(e){return!!(e=e||window.event)&&/^(?:mouse|pointer|touch|gesture|click|key)/.test(e.type)}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var a=n(0),r=n(55),o=n(50),i=n(21),s=n(10),u=n(51),l=n(26),c=n(20);function d(e,t){var n=e.querySelector(t);if(n)return n.getAttribute("content")}var f=n(67),p=n.n(f),h=n(66);function m(e){return"string"==typeof e&&/^\/\/(?:content\.jwplatform|cdn\.jwplayer)\.com\//.test(e)}function g(e){return"https:"+e}function y(e,t){var n="file:"===window.location.protocol?"https:":"",a={bidding:"//ssl.p.jwpcdn.com/player/v/8.20.10/bidding.js",jwpsrv:"//ssl.p.jwpcdn.com/player/v/8.20.10/jwpsrv.js",dai:"//ssl.p.jwpcdn.com/player/plugins/dai/v/0.5.3/dai.js",vast:"//ssl.p.jwpcdn.com/player/plugins/vast/v/8.9.3/vast.js",googima:t?"//ssl.p.jwpcdn.com/player/v/8.20.10/googimanvmp.js":"https://static-assets.npr.org/static/javascript/jwplayer/googima.js",freewheel:"//ssl.p.jwpcdn.com/player/plugins/freewheel/v/2.2.12/freewheel.js",gapro:"//ssl.p.jwpcdn.com/player/plugins/gapro/v/2.1.5/gapro.js"}[e];return a?n+a:""}function v(e,t,n){t&&(e[t.client||y(n)]=t,delete t.client)}var _=function(e,t){var r,f,_,E=Object(o.b)(e,t),S=E.key||u.default.key,b=new l.b(S),O=b.edition();if("free"===b.edition()&&(E=Object(a.j)({skin:{active:"#ff0046",timeslider:{progress:"none"}},logo:{position:"control-bar",file:p.a}},o.a,Object(a.C)(E,["analytics","aspectratio","base","file","height","playlist","sources","width"]))),E.key=S,E.edition=O,E.error=b.error(),E.generateSEOMetadata=E.generateSEOMetadata||!1,"unlimited"===O){var T=Object(i.getScriptPath)("jwplayer.js");if(!T)throw new Error("Error setting up player: Could not locate jwplayer.js script tag");n.p=T}if(E.related=function(e){var t=Object(c.a)(e.edition),n=e.related,r=!t("discovery")||n!==Object(n),o=!n||"none"!==n.displayMode,i=n||{},s=void 0===i.oncomplete?"none":i.oncomplete,u=i.autoplaytimer;!1===s||e.repeat?s="hide":"none"===s&&(u=0);var l="autoplay"===s&&u<=0||"none"===s;return Object(a.j)({},n,{disableRelated:r,showButton:o,oncomplete:s,autoplaytimer:u,shouldAutoAdvance:l})}(E),E.ab&&(E.ab=function(e){var t=e.ab;return t.clone&&(t=t.clone()),Object.keys(t.tests).forEach((function(n){t.tests[n].forEach((function(t){t.addConfig&&t.addConfig(e,t.selection)}))})),t}(E)),E.plugins=function(e){var t=Object(a.j)({},e.plugins),n=Object(c.a)(e.edition);if(n("ads")){var r=Object(a.j)({},e.advertising),o=r.client;if(o)t[y(o,e.__ab_jwIMA)||o]=r,delete r.client;r.bids&&v(t,r.bids,"bidding")}if(n("jwpsrv")){var i=e.analytics;i!==Object(i)&&(i={}),v(t,i,"jwpsrv")}return v(t,e.ga,"gapro"),t}(E),r=E.playlist,Object(a.x)(r)&&r.indexOf("__CONTEXTUAL__")>-1&&(E.playlist=function(e,t){var n=(e.querySelector("title")||{}).textContent,a=d(e,'meta[property="og:title"]'),r=encodeURIComponent(a||n||""),o=d(e,'meta[property="og:description"]')||d(e,'meta[name="description"]');return o&&(r+="&page_description="+encodeURIComponent(o)),t.replace("__CONTEXTUAL__",r)}(document,E.playlist),E.contextual=!0),Object(s.isFileProtocol)()){var P=E,A=P.playlist,w=P.related;m(A)&&(E.playlist=g(A)),w&&m(w.file)&&(w.file=g(w.file))}return E.__abSendDomainToFeeds&&(_=E.playlist,/\.jwplatform.com|\.jwplayer.com/.test(_))&&(E.playlist=(f=E.playlist,f+=(-1!==f.indexOf("?")?"&":"?")+"page_domain="+encodeURIComponent(Object(h.a)()))),E},E=n(8),S=n(28),b=n(23),O=n(16),T=n(17),P=n(39),A=n(1),w=n(5),I=null;function D(e){return I||(I=function(e){var t,a=e.get("controls"),r=N(),o=function(e,t){var n=e.get("playlist");if(Array.isArray(n)&&n.length)for(var a=Object(b.f)(e.get("item"),n.length),r=Object(b.c)(Object(S.a)(n[a]),e),o=0;o<r.length;o++)for(var i=r[o],s=e.getProviders(),u=0;u<O.a.length;u++){var l=O.a[u];if(s.providerSupports(l,i))return"html5"===l.name}return!1}(e);return w.OS.tizen?C():a&&r&&o?(t=n.e(8).then(function(e){n(162);var t=n(71).default;return P.a.controls=n(69).default,Object(T.a)(n(166).default),t}.bind(null,n)).catch(Object(E.b)(A.s+105)),E.a.html5=t,t):a&&o?function(){var e=n.e(6).then(function(e){var t=n(71).default;return P.a.controls=n(69).default,Object(T.a)(n(166).default),t}.bind(null,n)).catch(Object(E.b)(A.s+104));return E.a.html5=e,e}():a&&r?n.e(7).then(function(e){n(162);var t=n(71).default;return P.a.controls=n(69).default,t}.bind(null,n)).catch(Object(E.b)(A.s+103)):a?n.e(5).then(function(e){var t=n(71).default;return P.a.controls=n(69).default,t}.bind(null,n)).catch(Object(E.b)(A.s+102)):C()}(e)),I}function N(){var e=window.IntersectionObserverEntry;return!e||!("IntersectionObserver"in window)||!("intersectionRatio"in e.prototype)}function C(){return(N()?n.e(9).then(function(e){return n(162)}.bind(null,n)).catch(Object(E.b)(A.s+120)):Promise.resolve()).then(E.d)}var R=n(25),M=n(3),L=n(59),j=n(24),k=n(13);function U(e){var t=e.get("playlist");return new Promise((function(n,a){if("string"!=typeof t){var r=e.get("feedData")||{};return x(e,t,r),n()}var o=new L.a;o.on(M.eb,(function(t){var a=t.playlist;delete t.playlist,x(e,a,t),n()})),o.on(M.w,(function(t){x(e,[],{}),a(Object(A.y)(t,A.t))})),o.load(t)}))}function x(e,t,n){var a=e.attributes;a.playlist=Object(b.a)(t),a.feedData=n}function F(e){return e.attributes._destroyed}var B=n(37),G=function(e,t){return/isAMP/.test(document.location.search)?n.e(1).then(function(a){var r=new(0,n(177).default)(t);return e.attributes.ampController=r,Promise.resolve()}.bind(null,n)).catch(Object(E.b)(A.s+130)):Promise.resolve()};function H(e){return q(e)?Promise.resolve():U(e).then((function(){if(e.get("drm")||Object(B.b)(e.get("playlist")))return Object(B.d)(e.get("edition"))})).then((function(){return U(t=e).then((function(){if(!F(t)){var e=Object(b.b)(t.get("playlist"),t);t.attributes.playlist=e;try{Object(b.e)(e)}catch(e){throw e.code+=A.t,e}var n=t.getProviders(),a=Object(b.f)(t.get("item"),e.length),r=n.choose(e[a].sources[0]),o=r.provider,i=r.name;return"function"==typeof o?o:E.a.html5&&"html5"===i?E.a.html5:n.load(i).catch((function(e){throw Object(A.y)(e,A.u)}))}}));var t}))}function V(e,t){var n=[W(e),G(e,t)];return q(e)||n.push(Promise.resolve()),Promise.all(n)}function W(e){var t=e.attributes,n=t.error;if(n&&n.code===l.a){var a=t.pid,r=t.ph,o=new l.b(t.key);if(r>0&&r<4&&a&&o.duration()>-7776e6)return new j.a("//content.jwplatform.com/libraries/"+a+".js").load().then((function(){var e=window.jwplayer.defaults.key,n=new l.b(e);n.error()||n.token()!==o.token()||(t.key=e,t.edition=n.edition(),t.error=n.error())})).catch((function(){}))}return Promise.resolve()}function q(e){var t=e.get("advertising");return!(!t||!t.outstream)}var Y=function(e){var t=e.get("skin")?e.get("skin").url:void 0;return"string"!=typeof t||function(e){for(var t=document.styleSheets,n=0,a=t.length;n<a;n++)if(t[n].href===e)return!0;return!1}(t)?Promise.resolve():new j.a(t,!0).load().catch((function(e){return e}))},z=function(e){var t=e.attributes,n=t.language,a=t.base,r=t.setupConfig,o=t.intl,i=Object(k.c)(r,o,n);return!Object(k.h)(n)||Object(k.f)(i)?Promise.resolve():new Promise((function(r){return Object(k.i)(a,n).then((function(n){var a=n.response;if(!F(e)){if(!a)throw new A.q(null,A.h);t.localization=Object(k.a)(a,i),r()}})).catch((function(e){r(e.code===A.h?e:Object(A.y)(e,A.g))}))}))},Q=function(e){var t;this.start=function(n){var a=Object(R.a)(e,n),r=Promise.all([D(e),a,H(e),V(e,n),Y(e),z(e)]),o=new Promise((function(e,n){t=setTimeout((function(){n(new A.q(A.k,A.w))}),6e4);var a=function(){clearTimeout(t),setTimeout(e,6e4)};r.then(a).catch(a)}));return Promise.race([r,o]).catch((function(e){var t=function(){throw e};return a.then(t).catch(t)})).then((function(e){return function(e){if(!e||!e.length)return{core:null,warnings:[]};var t=e.reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e&&e.code}));return{core:e[0],warnings:t}}(e)}))},this.destroy=function(){clearTimeout(t),e.set("_destroyed",!0),e=null}},K=n(42),X=n(30),J=n(12),Z=n(15),$={removeItem:function(e){}};try{$=window.localStorage||$}catch(e){}var ee=function(){function e(e,t){this.namespace=e,this.items=t}var t=e.prototype;return t.getAllItems=function(){var e=this;return this.items.reduce((function(t,n){var a=$[e.namespace+"."+n];return a&&(t[n]="captions"!==n?Object(J.serialize)(a):JSON.parse(a)),t}),{})},t.track=function(e){var t=this;this.items.forEach((function(n){e.on("change:"+n,(function(e,a){try{"captions"===n&&(a=JSON.stringify(a)),$[t.namespace+"."+n]=a}catch(e){Z.a.debug&&console.error(e)}}))}))},t.clear=function(){var e=this;this.items.forEach((function(t){$.removeItem(e.namespace+"."+t)}))},e}(),te=n(54),ne=n(35),ae=n(9),re=n(43),oe=n(60),ie=n(61),se=n(34);n(68),n(70),n.d(t,"b",(function(){return de}));var ue=function(e){this._events={},this.modelShim=new te.a,this.modelShim._qoeItem=new X.a,this.mediaShim={},this.setup=new Q(this.modelShim),this.currentContainer=this.originalContainer=e,this.apiQueue=new r.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],(function(){return!0}))};function le(e,t){t&&t.code&&(t.sourceError&&console.error(t.sourceError),console.error(A.q.logMessage(t.code)))}function ce(e){e&&e.code&&console.warn(A.q.logMessage(e.code))}function de(e,t){if(!document.body.contains(e.currentContainer)){var n=document.getElementById(e.get("id"));n&&(e.currentContainer=n)}e.currentContainer.parentElement&&e.currentContainer.parentElement.replaceChild(t,e.currentContainer),e.currentContainer=t}Object(a.j)(ue.prototype,{on:ae.a.on,once:ae.a.once,off:ae.a.off,trigger:ae.a.trigger,init:function(e,t){var n=this,r=this.modelShim,o=new ee("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),i=o&&o.getAllItems();r.attributes=r.attributes||{},Object(a.j)(this.mediaShim,ne.c);var s=e,u=_(Object(a.j)({},e),i);u.id=t.id,u.setupConfig=s,Object(a.j)(r.attributes,u,ne.d),r.getProviders=function(){return new K.a(u)},r.setProvider=function(){};var l=Object(oe.b)();r.get("backgroundLoading")||(l=Object(ie.a)(l.getPrimedElement(),l));var c=this.primeUi=new se.a(Object(se.b)(this.originalContainer)).once("gesture",(function(){l.prime(),n.preload(),c.destroy()}));return r.on("change:errorEvent",le),this.setup.start(t).then((function(e){var i=e.core;if(!i)throw Object(A.y)(null,A.v);if(n.setup){n.on(M.ub,ce),e.warnings.forEach((function(e){n.trigger(M.ub,e)}));var s=n.modelShim.clone();if(s.error)throw s.error;var u=n.apiQueue.queue.slice(0);n.apiQueue.destroy(),Object(a.j)(n,i.prototype),n.playerSetup(s,t,n.originalContainer,n._events,u,l);var c=n._model;return r.off("change:errorEvent",le),c.on("change:errorEvent",le),o.track(c),n.updatePlaylist(c.get("playlist"),c.get("feedData")).catch((function(e){var t=e.code===A.a?A.r:A.t;throw Object(A.y)(e,t)}))}})).then((function(){n.setup&&n.playerReady()})).catch((function(e){n.setup&&function(e,t,n){Promise.resolve().then((function(){var a=Object(A.z)(A.p,A.x,n),r=e._model||e.modelShim;a.message=a.message||r.get("localization").errors[a.key],delete a.key;var o=r.get("contextual");if(!o){var i=Object(re.a)(e,a);re.a.cloneIcon&&i.querySelector(".jw-icon").appendChild(re.a.cloneIcon("error")),de(e,i)}r.set("errorEvent",a),r.set("state",M.lb),e.trigger(M.ib,a),o&&t.remove()}))}(n,t,e)}))},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&de(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(e){if(this.modelShim)return e in this.mediaShim?this.mediaShim[e]:this.modelShim.get(e)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(e){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=e)},getConfig:function(){return Object(a.j)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=ue},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5);function r(e){return"hls"===e.type&&a.OS.android?!1!==e.androidhls&&!a.Browser.firefox&&parseFloat(a.OS.version.version||"0")>=4.4:null}},function(e,t,n){"use strict";function a(){var e,t,n=window.location.host;if(window.top!==window.self){n=(document.referrer?(e=document.referrer,(t=document.createElement("a")).href=e,t):{}).host;try{n=n||window.top.location.host}catch(e){}}return n}n.d(t,"a",(function(){return a}))},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 29.3" class="jw-svg-icon jw-svg-icon-watermark" focusable="false"><path d="M37,16.68c0,2.4-.59,3.43-2.4,3.43a5.75,5.75,0,0,1-3.38-1.23v3.58a7.39,7.39,0,0,0,3.67,1c3.67,0,5.73-1.91,5.73-6.32V5.86H37Z"></path><polygon points="58.33 17.61 55.39 6.01 52.55 6.01 49.52 17.61 46.73 6.01 43.06 6.01 47.56 23.29 50.89 23.29 53.92 11.88 56.96 23.29 60.24 23.29 64.74 6.01 61.17 6.01 58.33 17.61"></polygon><path d="M73.84,6H67.47V23.29h2.2v-6.9h4.17c3.47,0,5.77-1.77,5.77-5.19S77.31,6,73.84,6Zm0,8.47H69.72V8h4.12c2.3,0,3.57,1.22,3.62,3.28C77.46,13.21,76.19,14.48,73.84,14.48Z"></path><path d="M99.2,6l-6,15.27H85V6H82.8V23.29H94.7l2-5.19h7.09l2,5.19H108L101.26,6ZM97.39,16.14l2.84-7.39L103,16.14Z"></path><polygon points="113.98 14.18 108.99 6.01 106.59 6.01 112.81 16.14 112.81 23.29 115.01 23.29 115.01 16.14 121.33 6.01 118.98 6.01 113.98 14.18"></polygon><polygon points="123.14 23.29 134.1 23.29 134.1 21.28 125.29 21.28 125.29 15.41 133.32 15.41 133.32 13.45 125.29 13.45 125.29 7.97 134.1 7.97 134.1 6.01 123.14 6.01 123.14 23.29"></polygon><path d="M144.86,15.85c2.74-.39,4.41-2,4.41-4.85,0-3.23-2.26-5-5.73-5h-6.32V23.29h2.22V16h3.08l4.94,7.29H150Zm-5.42-1.71V8h4.06c2.3,0,3.62,1.17,3.62,3.08s-1.32,3.09-3.62,3.09Z"></path><path d="M27.63.09a1,1,0,0,0-1.32.48c-.24.51-6.35,15.3-6.35,15.3-.2.46-.33.41-.33-.07,0,0,0-5.15,0-9.39,0-2.31-1.12-3.61-2.73-3.88A3.12,3.12,0,0,0,14.83,3a4.57,4.57,0,0,0-1.5,1.79c-.48.94-3.47,9.66-3.47,9.66-.16.46-.31.44-.31,0,0,0-.09-3.76-.18-4.64-.13-1.36-.44-3.59-2.2-3.7S4.77,8,4.36,9.24c-.29.84-1.65,5.35-1.65,5.35l-.2.46h0c-.06.24-.17.24-.24,0l-.11-.42Q2,14,1.74,13.31a1.71,1.71,0,0,0-.33-.66.83.83,0,0,0-.88-.22.82.82,0,0,0-.53.69,4.22,4.22,0,0,0,.07.79,29,29,0,0,0,1,4.6,1.31,1.31,0,0,0,1.8.66,3.43,3.43,0,0,0,1.24-1.81c.33-.81,2-5.48,2-5.48.18-.46.31-.44.29,0,0,0-.09,4.57-.09,6.64a13.11,13.11,0,0,0,.28,2.93,2.41,2.41,0,0,0,.82,1.27,2,2,0,0,0,1.41.4,2,2,0,0,0,.7-.24,3.15,3.15,0,0,0,.79-.71,12.52,12.52,0,0,0,1.26-2.11c.81-1.6,2.92-6.58,2.92-6.58.2-.46.33-.41.33.07,0,0-.26,8.36-.26,11.55a6.39,6.39,0,0,0,.44,2.33,2.8,2.8,0,0,0,1.45,1.61A2.57,2.57,0,0,0,18.79,29a3.76,3.76,0,0,0,1.28-1.32,15.12,15.12,0,0,0,1.07-2.31c.64-1.65,1.17-3.33,1.7-5s5-17.65,5.28-19a1.79,1.79,0,0,0,0-.46A1,1,0,0,0,27.63.09Z"></path></svg>'},function(e,t,n){"use strict";var a,r=n(62),o=n(5),i=n(7),s=[],u=[],l=[],c={},d="screen"in window&&"orientation"in window.screen,f=o.OS.android&&o.Browser.chrome,p=!1;function h(e,t){for(var n=t.length;n--;){var a=t[n];if(e.target===a.getContainer()){a.setIntersection(e);break}}}function m(){s.forEach((function(e){var t=e.model;if(!(t.get("audioMode")||t.get("isFloating")||!t.get("controls")||t.get("visibility")<.75)){var n=t.get("state"),a=Object(i.f)();!a&&"paused"===n&&e.api.getFullscreen()?e.api.setFullscreen(!1):"playing"===n&&e.api.setFullscreen(a)}}))}function g(){s.forEach((function(e){e.model.set("activeTab",Object(r.a)())}))}function y(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function v(e){l.forEach((function(t){t(e)}))}document.addEventListener("visibilitychange",g),document.addEventListener("webkitvisibilitychange",g),f&&d&&window.screen.orientation.addEventListener("change",m),window.addEventListener("beforeunload",(function(){document.removeEventListener("visibilitychange",g),document.removeEventListener("webkitvisibilitychange",g),window.removeEventListener("scroll",v),f&&d&&window.screen.orientation.removeEventListener("change",m)})),t.a={add:function(e){s.push(e)},remove:function(e){y(e,s)},addScrollHandler:function(e){p||(p=!0,window.addEventListener("scroll",v)),l.push(e)},removeScrollHandler:function(e){var t=l.indexOf(e);-1!==t&&l.splice(t,1)},addWidget:function(e){u.push(e)},removeWidget:function(e){y(e,u)},size:function(){return s.length},observe:function(e){var t;t=window.IntersectionObserver,a||(a=new t((function(e){if(e&&e.length)for(var t=e.length;t--;){var n=e[t];h(n,s),h(n,u)}}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),c[e.id]||(c[e.id]=!0,a.observe(e))},unobserve:function(e){a&&c[e.id]&&(delete c[e.id],a.unobserve(e))}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(49),o=n(7),i=n(11),s=[],u=-1;function l(){Object(r.a)(u),u=Object(r.b)((function(){s.forEach((function(e){e.view.updateBounds();var t=e.view.model.get("containerWidth");e.resized=e.width!==t,e.width=t})),s.forEach((function(e){e.contractElement.scrollLeft=2*e.width})),s.forEach((function(e){Object(i.d)(e.expandChild,{width:e.width+1}),e.resized&&e.view.model.get("visibility")&&e.view.updateStyles()})),s.forEach((function(e){e.expandElement.scrollLeft=e.width+1})),s.forEach((function(e){e.resized&&e.view.checkResized()}))}))}var c=function(){function e(e,t,n){var r={display:"block",position:"absolute",top:0,left:0},u={width:"100%",height:"100%"},c=Object(o.e)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),d=c.firstChild,f=d.firstChild,p=d.nextSibling;Object(i.d)([d,p],Object(a.j)({overflow:"auto"},r,u)),Object(i.d)(c,Object(a.j)({},r,u)),this.expandElement=d,this.expandChild=f,this.contractElement=p,this.hiddenElement=c,this.element=e,this.view=t,this.model=n,this.width=0,this.resized=!1,e.firstChild?e.insertBefore(c,e.firstChild):e.appendChild(c),e.addEventListener("scroll",l,!0),s.push(this),l()}return e.prototype.destroy=function(){if(this.view){var e=s.indexOf(this);-1!==e&&s.splice(e,1),this.element.removeEventListener("scroll",l,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},e}()}]).default}).call(window)}).call(this,n(1232).setImmediate)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.currentDay=(new Date).toISOString();t.isWithinThisGlobalAlertPeriod=function(e){return a>e.startDate&&a<e.endDate},t.isBlockListed=function(e){if(e.includes("/sections/publiceditor")||"/ethics"===e||e.includes("/sponsor-content/")||e.includes("/trump-impeachment-inquiry")||"Trump Impeachment Inquiry"===$(".contentheader--one .branding .branding__title").text()||0!==$("#subNavigation #res691393455").length)return!0}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var a,r,o=u(n(9)),i=u(n(126)),s=u(n(54));function u(e){return e&&e.__esModule?e:{default:e}}a=[n(6),n(18),n(470),n(472),n(1235)],void 0===(r=function(e,t,n){var a=t.create();a.name="slideshow";function r(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}function u(e){return function(){return d(e)}}function l(e){p(e.data.slideShowObj)}function c(e,t,n,a){this.context=e,this.resId=t,this.swipeObj=null,this.toggleSlideshow=n,this.currentSlideNum=0,this.onFocus=!0,this.nonFullScreenResId=0,a&&(this.currentSlideNum=a)}function d(t){if(t){var n=e("#slideshow__gallery--"+t.resId).parents(".bucketwrap.slideshow").width(),a=2/3*(n=Math.floor(n));e("img.slideshowImage",t.context).each((function(t,r){var o=e(r).parents(".slideshow__image-wrap");o.height(a),o.width(n),e(o).css("line-height",a+"px")})),e(".slideshow__gallery",t.context).width(n),e(".slideshow__slide-info-wrap",t.context).width(n),e(".slideshow__slide-info-wrap",t.context).height(a),e(".slideshow__image-credit",t.context).width(n-5)}}function f(t){if(t){var n=e(".slideshow__slide-info",t.context).css("display"),a="Hide caption";return"none"===n&&(a="Open caption"),"#slideshow__gallery--0"===t.context.selector&&e(".slideshow__image-wrap",t.context).each((function(){var t=e(this),n=t.parent().height(),r=t.parent().find(".slideshow__image-caption").attr("data-height");"Open caption"===a&&(n=t.parent().height()-r),t.animate({height:n,lineHeight:n+"px"},300)})),e(".slideshow__slide-info",t.context).slideToggle(300),e(document,t.context).find(".slideshow__image-credit","#slideshowOverlay").fadeToggle(300),e(".slideshow__gallery",t.context).toggleClass("captionLock").toggleClass("captionOpen"),a}return!1}function p(t){if(t){var n=e("#slideshow__gallery--0");n.height(e(window).height()-50);var a=(e(window).height()-n.height())/2;n.css("top",e(window).scrollTop()+a);var o=n.outerHeight(),i=e(".slideshow__controls",n).outerHeight(),s=e(".slideshow__slide-info",n).outerHeight(),u=r();-1!==u&&(s=e("li.block .slideshow__slide-info",n).outerHeight());var l=o-i,c=l-s,d=-1===u?e("li",n).first().width():"100%";e("ul, li",n).height(l),e(".aux",n).height(c).css({top:"-"+c+"px"}),e(".slideshow__slide-info-wrap",n).width(d),e("li",n).each((function(){var t=e(this).find(".slideshow__slide-info-wrap"),n=l-t.height();t.prev(".slideshow__image-wrap").css({height:n,"line-height":n+"px"})})),e(".slideshow__image-caption",n).each((function(){e(this).attr("data-height",e(this).outerHeight())}))}}function h(t,n){try{!0===n?p(t):d(t);var a=function(){if(t.swipeObj){var n=t.swipeObj.getPos();e(".slideshow__current-count",t.context).text(n+1)}},s=document.getElementById("slideshow__gallery--"+t.resId),u=e("body").hasClass("slideshowFocused"),l=!1;if(e(".slideshow__image-caption",t.context).each((function(){if(0!==e.trim(e(this).text()).length)return l=!0,!1})),!1===l&&e(".slideshow__gallery",t.context).addClass("noCaptions"),s){var c=r(),h=void 0;if(i.default.hasTouch()||(h=function(n){window.setTimeout((function(){e(".slideshow__image-credit",t.context).fadeIn(1e3)}),400)}),-1===c?t.swipeObj=new Swipe(s,{callback:h,slideCallback:a}):(!1===u&&e(".slideshow__slide-info",t.context).hide(),t.swipeObj=new SwipeIE(s,{callback:h,slideCallback:a})),!0===n&&t.swipeObj.slide(t.currentSlideNum),e(".slideshow__button--toggle-caption",t.context).on("click",{slideShowObj:t},m),t.toggleSlideshow&&f(t),e(".slideshow__button--caption-hide",t.context).on("click",{slideShowObj:t},g),!1===i.default.isOnTablet()&&!1===i.default.hasTouch()&&!1===u&&!0===l){var _=(O=50,(S="interval")in(E={over:function(){return function(t,n){!0!==n.hasClass("captionLock")&&"none"===e(".slideshow__slide-info",t.context).css("display")&&(e(".slideshow__slide-info",t.context).slideDown(300),n.addClass("captionOpen"))}(t,e(this).parents(".slideshow__gallery")),!1},timeout:0,out:function(){return function(t,n){!0!==n.hasClass("captionLock")&&"block"===e(".slideshow__slide-info",t.context).css("display")&&(e(".slideshow__slide-info",t.context).slideUp(300),n.removeClass("captionOpen"))}(t,e(this).parents(".slideshow__gallery")),!1},interval:50})?Object.defineProperty(E,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):E[S]=O,E);e("ul",t.context).hoverIntent(_)}e(".slideshow__button--forward, ul",t.context).on("click",{slideShowObj:t,fullscreen:n},(function(t){"a"!==t.target.nodeName.toLowerCase()&&function(t){t.preventDefault();var n=t.data.slideShowObj,a=n.resId;!0===t.data.fullscreen&&(a=n.nonFullScreenResId);n.swipeObj.getPos()+2===function(t){var n=0;try{n=(n=parseInt(e(".slideshow__totle-count",t).text()))<0?0:n}catch(e){n=0}return n}(n.context)&&b({action:"Viewed Full Slideshow",label:a.toString()});i.default.hasTouch()||e(".slideshow__image-credit",n.context).hide();n.swipeObj.next(),b({action:"Next Slide",label:a.toString()})}(t)})),e(".slideshow__button--back",t.context).on("click",{slideShowObj:t},v),e(".slideshow__button--fullscreen",t.context).on("click",{slideShowObj:t},y)}}catch(e){o.default.error(e)}var E,S,O}function m(e){e.preventDefault();var t=e.data.slideShowObj;b({action:f(t),label:t.resId.toString()})}function g(e){e.preventDefault();var t=e.data.slideShowObj;return f(t),b({action:"Hide caption",label:t.resId.toString()}),!1}function y(t){t.preventDefault(),function(t){try{var a=e("body"),r=e("main"),i=e("#slideshowOverlay");if(a.hasClass("slideshowFocused"))return;0===i.length&&(i=e('<div id="slideshowOverlay"></div>'),r.append(i));var s=e(t.context).find(".slideshow__gallery").clone();s.removeAttr("style").find("*").removeAttr("style"),s.attr("id","slideshow__gallery--0"),i.append(s);try{s.find(".slideshow__image-wrap img").each((function(){var t=e(this).attr("src");e(this).attr("src",n.addParameterInImageUrl(t,"s","1000"))})),s.find(".slideshow__image-wrap source").each((function(){var t=e(this).attr("srcset");e(this).attr("srcset",n.addParameterInImageUrl(t,"s","1000"))}))}catch(e){o.default.error(e)}i.height(e(document).height()),a.addClass("slideshowFocused");var u=S(t.context),d=new c(e("#slideshow__gallery--0"),0,!1,u);d.nonFullScreenResId=t.resId,h(d,!0),b({action:"Enter fullscreen",label:t.resId.toString()}),e(window).on("orientationchange",{slideShowObj:d},l),e(window).on("resize",{slideShowObj:d},l),e(".slideshow__image-caption",d.context).each((function(){e(this).attr("data-height",e(this).outerHeight())})),e(".slideshow__button--fullscreen",d.context).on("click",(function(){E(t)})),e(".aux a").on("click",(function(e){e.stopPropagation()})),i.not("#slideshow__gallery--0").on("click",{slideShowObj:t},_),function(t){var n=e("#slideshow__gallery--0 .slideshow__controls"),a=n.find(".slideshow__button");a[0].focus(),e(document).on("keydown.slideshowEnlargement",(function(r){switch(r.keyCode||r.which){case 37:e(".slideshow__button--back",n).click(),e(".slideshow__button--back",n).focus();break;case 39:e(".slideshow__button--forward",n).click(),e(".slideshow__button--forward",n).focus();break;case 27:E(t);break;case 9:r.shiftKey?document.activeElement===a[0]&&(r.preventDefault(),a[a.length-1].focus()):document.activeElement===a[a.length-1]&&(r.preventDefault(),a[0].focus())}}))}(t)}catch(e){o.default.error(e)}}(t.data.slideShowObj)}function v(t){t.preventDefault();var n=t.data.slideShowObj;i.default.hasTouch()||e(".slideshow__image-credit",n.context).hide(),n.swipeObj.prev(),b({action:"Prev Slide",label:n.resId.toString()})}function _(t){e("body").hasClass("slideshowFocused")&&t.target===this&&E(t.data.slideShowObj)}function E(t){var n=e("body");if(n.hasClass("slideshowFocused")){var a=e("#slideshow__gallery--0");b({action:"Exit fullscreen",label:t.resId.toString()}),e("#slideshowOverlay").off("click",_),e(window).off("orientationchange",l),e(window).off("resize",l);var r=S(a);t.swipeObj.slide(r),n.removeClass("slideshowFocused"),a.remove(),e("#res"+t.resId).find(".slideshow__button--fullscreen").focus()}}function S(t){var n=0;try{n=(n=parseInt(e(".slideshow__current-count",t).text())-1)<0?0:n}catch(e){n=0}return n}function b(e){s.default.trackEvent({network:"NPR Site",category:"Slideshow Interactions",action:e.action,label:e.label})}function O(){e(document).on("keydown.slideshowEnlargement")}a.onReady=function(){var t=[];e(".swipe.slideshow__gallery").each((function(){var n=e(this).data(),a=new c(e("#res"+n.resid),n.resid,n.toggleCaption);h(a),e(window).on("resize",u(a)),t.push(a)})),a.onUnload=function(){t.map((function(t){return function(t){E(t),e(window).off("resize",u(t))}(t)})),O()}},a.onUnload=function(){O()},a.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=u(n(6)),o=u(n(18)),i=u(n(30)),s=u(n(331));function u(e){return e&&e.__esModule?e:{default:e}}var l=o.default.create();function c(){return navigator.userAgent.match(new RegExp("IEMobile","i"))}l.name="util/env",l.init=function(){((e=(0,r.default)("html")).hasClass("touch")||c())&&(c()&&e.removeClass("no-touch").addClass("touch"),s.default.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px)")&&e.addClass("NPRtablet"),s.default.mq("only screen and (max-device-width: 767px)")&&e.addClass("NPRphone"));var e=(0,r.default)("html");"tablet"===i.default.getUrlParameter("device")&&e.addClass("NPRtablet"),"phone"===i.default.getUrlParameter("device")&&e.addClass("NPRphone")},l.register(),t.default={isMobileIE:c,isOnTablet:function(){return(0,r.default)("html").hasClass("NPRtablet")},isOnPhone:function(){return(0,r.default)("html").hasClass("NPRphone")},hasTouch:function(){return s.default.touch},isScreenSmallerOrEqual:function(e){return"object"===(void 0===e?"undefined":a(e))?s.default.mq("only screen and (max-width: "+e.MAX+"px)"):"number"==typeof e&&s.default.mq("only screen and (max-width: "+e+"px)")},isScreenSmaller:function(e){return"object"===(void 0===e?"undefined":a(e))?s.default.mq("only screen and (max-width: "+(e.MIN-1)+"px)"):"number"==typeof e&&s.default.mq("only screen and (max-width: "+(e-1)+"px)")},isScreenLargerOrEqual:function(e){return"object"===(void 0===e?"undefined":a(e))?s.default.mq("only screen and (min-width: "+e.MIN+"px)"):"number"==typeof e&&s.default.mq("only screen and (min-width: "+e+"px)")},isScreenWithin:function(e){return"object"===(void 0===e?"undefined":a(e))&&s.default.mq("only screen and (min-width: "+e.MIN+"px) and (max-width: "+e.MAX+"px)")},BREAKPOINT:{SMALL:{NAME:"small",MIN:0,MAX:767},MEDIUM:{NAME:"medium",MIN:768,MAX:1024},LARGE:{NAME:"large",MIN:1025,MAX:1299},LARGEST:{NAME:"largest",MIN:1300,MAX:1e4}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundHandlers=function(e,t){return(0,a.default)(e,t),(0,r.default)(e,t)};var a=o(n(74)),r=o(n(234));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAGE="page",t.PLAYER="player",t.SPONSORSHIP="sponsorship"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GTM_FIRST_VIEW="gtmFirstView",t.GTM_LATER_VIEW="gtmLaterView",t.AUDIO_PINGS="audio_pings",t.AUDIO_START="audio_start",t.AUDIO_PAUSE="audio_pause",t.AUDIO_RESUME="audio_resume",t.AUDIO_COMPLETE="audio_complete",t.AUDIO_PROGRESS="audio_progress",t.AUDIO_REWIND="audio_rewind",t.AUDIO_FAST_FORWARD="audio_fast_forward",t.AUDIO_SKIP="audio_skip",t.AUDIO_PREVIOUS="audio_previous",t.AUDIO_SCRUB="audio_scrub",t.AUDIO_AUTOPLAY_TOGGLE="audio_autoplay_toggle",t.AUDIO_QUEUE="audio_queue",t.AUDIO_DOWNLOAD="audio_download",t.AUDIO_EMBED="audio_embed",t.AUDIO_CLICK_TRANSCRIPT="audio_click_transcript",t.AUDIO_OPEN_MORE_OPTIONS="audio_open_more_options",t.AUDIO_ADJUST_VOLUME="audio_adjust_volume",t.AUDIO_ERROR="audio_error",t.AUDIO_AUTOPLAY_TRIGGERED="audio_autoplay_triggered",t.SPONSORSHIP_AUDIO_START="sponsorship_audio_start",t.SPONSORSHIP_AUDIO_COMPLETE="sponsorship_audio_complete",t.SPONSORSHIP_SOUNDSCAPE_AUDIO_BANNER="sponsorship_soundscape_click_banner",t.SPONSORSHIP_AUDIO_ADD_TO_QUEUE="sponsorship_audio_add_to_queue",t.SPONSORSHIP_AUDIO_PINGS="sponsorship_audio_pings",t.NEWSLETTER_SUBSCRIBE="newsletter_subscribe",t.NEWSLETTER_LEAD_CLICK="newsletter_lead_click",t.NEWSLETTER_UNSUBSCRIBE="newsletter_unsubscribe",t.NEWSLETTER_ERROR="newsletter_error",t.SELECT_PROMOTION="select_promotion",t.VIEW_PROMOTION="view_promotion",t.CLOSE_PROMOTION="close_promotion",t.DONATION_SELECT_STATION="donation_select_station",t.DONATION_CHANGE_STATION="donation_change_station",t.DONATION_FORM_CLICK="donation_form_click",t.BEGIN_CHECKOUT="begin_checkout",t.ADD_TO_CART="add_to_cart",t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.PURCHASE="purchase",t.DONATION_ERROR="donation_error",t.SET_NPR_DONATION_OPTION="set_npr_donation_option",t.GLOBAL_NAVIGATION_CLICK="global_navigation_click",t.HOMEPAGE_CURATION_CLICK="homepage_curation_click",t.STORY_RECIRCULATION_CLICK="story_recirculation_click",t.OUTBOUND_CLICK="outbound_click",t.SHARE="share",t.PODCAST_FOLLOW_CLICK="podcast_follow_click",t.VIDEO_START="video_start",t.VIDEO_COMPLETE="video_complete",t.VIDEO_PROGRESS="video_progress",t.VIDEO_PAUSE="video_pause",t.VIDEO_RESUME="video_resume",t.VIDEO_SEEK="video_seek",t.VIDEO_BUFFER="video_buffer",t.VIDEO_SELECT_COMING_UP="video_select_coming_up",t.VIDEO_FULLSCREEN="video_fullscreen",t.VIDEO_EXIT_FULLSCREEN="video_exit_fullscreen",t.VIDEO_ADJUST_VOLUME="video_adjust_volume",t.VIDEO_CHANGE_QUALITY="video_change_quality",t.STATION_SAVE_AS_FAVORITE="station_save_as_favorite",t.AFFILIATE_CLICK="affiliate_click",t.VIEW_SEARCH_RESULTS="view_search_results",t.ONETRUST_GROUPS_UPDATED="OneTrustGroupsUpdated"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructAdSlotName=l,t.getUidFromAdSlotName=function(e,t){return t.replace("ad-"+e+"-","")},t.getLocationFromAdSlotName=function(e){return/^ad-([a-zA-Z]+)-?/g.exec(e)[1]},t.getOverflowCountFromAdSlotName=function(e){return/^ad-[a-zA-Z]+-([0-9]+)-?/g.exec(e)[1]};var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(101));var s=void 0;s=n(126).default;var u=function(e){this.location=e.overflowCount?e.location+"-"+e.overflowCount:e.location,this.canonicalLocation=e.location,this.network=e.network,s.isScreenSmallerOrEqual(s.BREAKPOINT.MEDIUM)?this.site=Object.prototype.hasOwnProperty.call(e.site,"mobile")?e.site.mobile:e.site.default:this.site=Object.prototype.hasOwnProperty.call(e.site,"desktop")?e.site.desktop:e.site.default,this.zone=e.zone,this.targets=e.targets,this.deferred=e.deferred,this.slot=null,this.overflowCount=e.overflowCount};function l(e,t){return e?"ad-"+e+"-"+(t||""):""}u.prototype.createAdSlot=function(){var e=this.getAdSlotName(),t=this.zone?"/"+this.zone:"",n=""+this.network+this.site+t;this.slot=googletag.defineSlot(n,this.getSizes(),e).addService(googletag.pubads()),o.default.info("DFP: created ad slot:",e)},u.prototype.getAdSlotName=function(){return l(this.location,this.zone)},u.prototype.getSizesForMobile=function(e){return s.isScreenSmallerOrEqual(s.BREAKPOINT.MEDIUM)||$("body").hasClass("story-layout")&&!$("body").hasClass("multimedia")?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[[300,250]]):e},u.prototype.getSizesForAdx=function(e){if(!(NPR.serverVars.topics||[]).includes("Music")){var t=$($("#ad-"+this.location+"-wrap").get(0));t.innerWidth()>=728&&(this.location===i.BACKSTAGE||this.location===i.CENTERSTAGE)&&e.push([728,90]),t.innerWidth()>=970&&e.push([970,250])}return e},u.prototype.getSizes=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(this.location){case i.STANDARD:return[[300,250],[300,600]];case i.CENTERSTAGE:var t=this.getSizesForMobile([[1300,250]]);return this.getSizesForAdx(t);case i.MAINSTAGE:return this.getSizesForMobile([[1300,250]]);case i.BACKSTAGE:var n=this.getSizesForMobile([]);return e||(n.push([1300,250]),n.push(["fluid"])),this.getSizesForAdx(n);case i.PODCASTS_SHOWS_DIRECTORY_ONE:case i.PODCASTS_SHOWS_DIRECTORY_TWO:var a=this.getSizesForMobile([]);e||(a.push([1300,250]),a.push(["fluid"]));var r=$($("#ad-"+this.location+"-wrap").get(0));return r.innerWidth()>=970&&a.push([970,250]),a;case i.SPICE_RACK:return["fluid"];case i.SECONDARY:return this.getSizesForMobile([]);case i.MLE_BANNER:return[175,40];case i.PLAYER_PRIMARY:return[[300,250],[300,600]];case i.PLAYER_POSTROLL:return[300,600];case i.PLAYER_LEAVEBEHIND:return[300,100];case i.PLAYER_MOBILE_PRIMARY:return[640,100];default:return[300,250]}},u.prototype.getAdSelector=function(){return".ad-"+this.location},t.default=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE_NEWS="HOME_PAGE_NEWS",t.HOME_PAGE_MUSIC="HOME_PAGE_MUSIC",t.UNKNOWN="UNKNOWN",t.PODCAST="PODCAST"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStickyBarPlusInfo=t.getStickybarUsePageNewsletter=t.getStickybarMaxSees=t.getStickybarGenericInfo=t.getStickybarNewsletterInfo=t.getStickybarDonationInfo=t.getStickybarEmbeddedDonationInfo=t.isOnStickybarPage=t.isWithinAnyStickybarPeriod=t.STICKY_DONATION=t.STICKY_EMBEDDED_DONATION=void 0;var a,r=n(7),o=(a=r)&&a.__esModule?a:{default:a},i=n(32),s=n(25),u=n(107);var l={"Spiking Stories":{startDate:new Date("13 Oct 2020 05:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:[],hasPrimaryTopic:[],isAssignedToAggregation:[],isSpikingStory:!0,newsletterInfo:"STICKYBAR_USE_PAGE_NEWSLETTER"},"Politics 11/1/2021":{startDate:new Date("1 Nov 2021 05:00:00 UTC").toISOString(),endDate:new Date("6 Nov 2021 05:00:00 UTC").toISOString(),aggLandingPages:["Politics"],hasPrimaryTopic:[],isAssignedToAggregation:["1014"],newsletterInfo:{newsletterId:"politics",title:"Politics",marketingHeader:"Sign Up For The NPR Politics Newsletter",frequency:"every week",shortDescription:"From the White House to your home  political news and analysis that matter, sent weekly.",stickyDescription:"Voting has changed. Subscribe to the NPR Politics newsletter to keep up with the trends and how theyll shape the 2022 midterms.",contentImage:"https://media.npr.org/assets/img/2020/08/28/npr-politics.png",staticMarkupDir:"",brandingDir:"/branding/sections/politics/",brandingLink:"https://www.npr.org/sections/politics/",organizationId:1,recaptchaSiteKey:"6LfD6CYUAAAAAIBeUekwZ9KCjF4UyLFtu7NWNaEK"}}},c=t.STICKY_EMBEDDED_DONATION=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.DONATION_EMBED+" 11/30/2020",{startDate:new Date("30 Nov 2020 16:00:00 UTC").toISOString(),endDate:new Date("8 Dec 2020 05:00:00 UTC").toISOString(),displayEverywhere:!0}),d=t.STICKY_DONATION={"Donation 11/30/2020":{startDate:new Date("30 Nov 2020 16:00:00 UTC").toISOString(),endDate:new Date("8 Dec 2020 05:00:00 UTC").toISOString(),donationInfo:{title:"Fund reporting that matters.",description:"Donate to your local NPR station to make the critical journalism on which you, and so many others rely, possible."},displayEverywhere:!0}},f={"GS Survey 03/11/2021":{startDate:new Date("11 Mar 2021 05:00:00 UTC").toISOString(),endDate:new Date("19 Mar 2021 05:00:00 UTC").toISOString(),aggLandingPages:["World","Health","Goats and Soda"],isAssignedToAggregation:["1004","1128","327351768"],genericInfo:{headerText:"Can you tell NPR what you think about some global news issues?",subText:"Help NPR research by completing a brief survey.",buttonText:"START THE SURVEY",buttonUrl:"https://survey.alchemer.com/s3/6224141/npr-banner"}}},p={"Short Wave Plus 12/14/2021":{startDate:new Date("14 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Short Wave"],isAssignedToAggregation:["510351"],genericInfo:{headerText:"Introducing Short Wave+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Short Wave+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/shortwave",eventLabel:"Short Wave"}},"Code Switch Plus 12/14/2021":{startDate:new Date("14 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Code Switch"],isAssignedToAggregation:["510312"],genericInfo:{headerText:"Introducing Code Switch+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Code Switch+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/codeswitch",eventLabel:"Code Switch"}},"Fresh Air Plus 12/14/2021":{startDate:new Date("14 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Fresh Air"],isAssignedToAggregation:["381444908"],programId:["Fresh Air"],genericInfo:{headerText:"Introducing Fresh Air+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Fresh Air+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/freshair",eventLabel:"Fresh Air"}},"IBAM Plus 12/14/2021":{startDate:new Date("14 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["It's Been a Minute with Sam Sanders"],isAssignedToAggregation:["510317"],genericInfo:{headerText:"Introducing It's Been a Minute+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of It's Been a Minute+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/itsbeenaminute",eventLabel:"It's Been a Minute"}},"Planet Money Plus 12/14/2021":{startDate:new Date("14 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Planet Money","Planet Money Summer School","The Indicator from Planet Money"],isAssignedToAggregation:["510289","1015448333","510325"],genericInfo:{headerText:"Introducing Planet Money+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Planet Money+, Indicator+, and Planet Money Summer School+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/planetmoney",eventLabel:"Planet Money"}},"WWDTM Plus 12/20/2021":{startDate:new Date("20 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Wait Wait... Don't Tell Me!"],isAssignedToAggregation:["344098539"],programId:["Wait Wait...Don't Tell Me!"],genericInfo:{headerText:"Introducing Wait Wait... Don't Tell Me!+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Wait Wait... Don't Tell Me!+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/waitwait",eventLabel:"Wait Wait... Don't Tell Me!"}},"PCHH Plus 12/20/2021":{startDate:new Date("20 Dec 2021 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Pop Culture Happy Hour"],isAssignedToAggregation:["510282"],genericInfo:{headerText:"Introducing Pop Culture Happy Hour+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Pop Culture Happy Hour+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/happy",eventLabel:"Pop Culture Happy Hour"}},"NPR Politics 04/13/2022":{startDate:new Date("13 Apr 2022 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["The NPR Politics Podcast"],isAssignedToAggregation:["510310"],genericInfo:{headerText:"Introducing NPR Politics+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of NPR Politics+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/politics",eventLabel:"NPR Politics"}},"Life Kit Plus 5/19/2022":{startDate:new Date("19 May 2022 00:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Life Kit"],isAssignedToAggregation:["510338"],genericInfo:{headerText:"Try Life Kit+",subText:"Support the podcast you love and enjoy all the get-it-together tips you crave - without sponsor interruptions. Subscribe and support the show today for just $2.99 per month or $29.99 a year.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/lifekit",eventLabel:"Life Kit"}},"Throughline Plus 03/24/2022":{startDate:new Date("24 Mar 2022 00:00:00 EDT").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Throughline"],isAssignedToAggregation:["510333"],genericInfo:{headerText:"Introducing Throughline+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Throughline+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/throughline",eventLabel:"Throughline"}},"Ted Radio Hour Plus 08/12/2022":{startDate:new Date("12 Aug 2022 00:00:00 EDT").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["TED Radio Hour"],isAssignedToAggregation:["510298"],genericInfo:{headerText:"Introducing Ted Radio Hour+",subText:"Support the podcast you love. Listen sponsor-free. It's a win-win in the world of Ted Radio Hour+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/ted",eventLabel:"Ted Radio Hour"}},"Embedded Plus 01/23/2023":{startDate:new Date("23 Jan 2023 00:00:00 EDT").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:["Last Cup","White Lies","Embedded"],isAssignedToAggregation:["510367","510343","510311"],genericInfo:{headerText:"Introducing Embedded+",subText:"Support the podcasts you love and get Embedded episodes one week early and sponsor-free. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"http://plus.npr.org/embedded",eventLabel:"Embedded"}}};t.isWithinAnyStickybarPeriod=function(){for(var e in l)if((0,u.isWithinThisGlobalAlertPeriod)(l[e]))return!0;for(var t in c)if((0,u.isWithinThisGlobalAlertPeriod)(c[t]))return!0;for(var n in d)if((0,u.isWithinThisGlobalAlertPeriod)(d[n]))return!0;for(var a in f)if((0,u.isWithinThisGlobalAlertPeriod)(f[a]))return!0;for(var r in p)if((0,u.isWithinThisGlobalAlertPeriod)(p[r]))return!0;return!1},t.isOnStickybarPage=function(e,t){var n=!1;for(var a in t.aggLandingPages&&t.aggLandingPages.indexOf(NPR.serverVars.title)>-1&&(n=!0),t.programId&&t.programId.indexOf(NPR.serverVars.programId)>-1&&(n=!0),t.hasPrimaryTopic&&t.hasPrimaryTopic.indexOf(NPR.serverVars.primaryTopic)>-1&&(n=!0),NPR.serverVars.aggIds)t.isAssignedToAggregation&&t.isAssignedToAggregation.indexOf(NPR.serverVars.aggIds[a])>-1&&(n=!0);if(t.isLocalStory&&t.isLocalStory.length>0&&"true"===NPR.serverVars.isLocalStationStory&&t.isLocalStory.indexOf(NPR.serverVars.publisherOrgId)>-1&&(n=!0),t.displayEverywhere&&!0===t.displayEverywhere)return!0;if(t.isSpikingStory){if(!(0,s.getIsCurrentPageSpiking)(e))return!1;n=!0}if(n&&t.isLocalizedToStation&&t.isLocalizedToStation.length>0){var r=!1,i=(0,o.default)(e,"user.org.id"),u=(0,o.default)(e,"localStations.stations"),l=[];if(i&&0!=i?l.push(i):u&&u.length>0&&(l=u),l.length>0)for(var c in l)t.isLocalizedToStation.indexOf(l[c])>-1&&(r=!0);if(!r)return!1}return n},t.getStickybarEmbeddedDonationInfo=function(){return c},t.getStickybarDonationInfo=function(){return d},t.getStickybarNewsletterInfo=function(){return l},t.getStickybarGenericInfo=function(){return f},t.getStickybarMaxSees=function(){return 3},t.getStickybarUsePageNewsletter=function(){return"STICKYBAR_USE_PAGE_NEWSLETTER"},t.getStickyBarPlusInfo=function(){return p}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.sendGTMEvent=function(e,t){if(e!=l.GTM_FIRST_VIEW)e===l.SET_NPR_DONATION_OPTION||p?h(e,t):f.push([e,t]);else{h(e,t),p=!0;for(var n=0;n<f.length;n++){var r=a(f[n],2),o=r[0],i=r[1];h(o,i)}}},t.createPageViewVars=function(e){return{sections:(n="/"!==window.location.pathname?o.default.getSections():null,n||""),authors:(t="/"!==window.location.pathname?o.default.getAuthors():null,t||""),domain:(0,s.default)(window,"NPR.ServerConstants.cbHost",""),mobileApp:m(),parents:e.parents,dacs_story:e.dacs_story,page_type:e.page_type,localized_station:e.localized_station,topics:e.topics,story_id:e.story_id,byline:e.byline,publish_date:e.publish_date,title:e.title,content_partner_organization:e.content_partner_organization,program:e.program,logged_in_session:e.logged_in_session,player_state:e.player_state,screen_type:e.screen_type,screen_orientation:e.screen_orientation,homepage_card_design:e.homepage_card_design,category:e.category,user_timezone:e.user_timezone,environment:(0,s.default)(window,"NPR.ServerConstants.environment"),user_id:e.user_id};var t;var n},t.createAudioVars=function(e){return{story_id:e.story_id,title:e.title,content_partner_organization:e.content_partner_organization,program:e.program,media_id:e.media_id,duration:e.duration,current_time:e.current_time,audio_play_location:e.audio_play_location,audio_listen_time:e.audio_listen_time,audio_type:e.audio_type,percent:e.percent_complete,volume_position:e.volume_position,audio_autoplay_status:e.audio_autoplay_status,audio_queue_status:e.audio_queue_status,error_message:e.error_message,category:e.category}},t.createNewsletterVars=function(e){return{click_type:e.click_type,click_name:e.click_name,click_url:e.click_url,error_type:e.error_type,category:e.category}},t.createDonationVars=function(e){var t;return d(t={creative_slot:e.creative_slot,donation_station_type:e.donation_station_type,value:e.value},"creative_slot",e.creative_slot),d(t,"items",e.items?[{item_name:e.items.item_name,affiliation:e.items.affiliation,currency:e.items.currency,creative_slot:e.items.creative_slot,item_category:e.items.item_category,price:e.items.price,quantity:e.items.quantity}]:void 0),d(t,"click_name",e.click_name),d(t,"search_term",e.search_term),d(t,"search_type",e.search_type),d(t,"search_results",e.search_results),d(t,"payment_type",e.payment_type),d(t,"error_message",e.error_message),d(t,"category",e.category),t},t.createRecirculationVars=function(e){return{click_name:e.click_name,click_type:e.click_type,click_url:e.click_url,click_position:e.click_position,category:e.category}},t.createVideoVars=function(e){return{duration:e.duration,media_id:e.media_id,provider:e.provider,current_time:e.current_time,seek_amount:e.seek_amount,volume_position:e.volume_position,video_pixel_quality:e.video_pixel_quality,percent:e.percent,title:e.title,category:e.category}},t.createMiscVars=function(e){var t={click_type:e.click_type,click_url:e.click_url,click_name:e.click_name,search_term:e.search_term,search_type:e.search_type,search_results:e.search_results,category:e.category};e.localized_station&&(t.localized_station=e.localized_station);return t},t.setIsMobileNativeApp=m;var r=c(n(106)),o=c(n(625)),i=c(n(46)),s=c(n(7)),u=c(n(238)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(129));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=[],p=!1;function h(e,t){e&&""!==e&&Object.keys(t).length>0&&function(e,t){t.event=e,dataLayer.push(t)}(e,t=(0,r.default)(t,(function(e,t){return"media_id"===t||"OnetrustActiveGroups"===t?e:(0,u.default)(e)?e.toLowerCase():e})))}function m(){var e=i.default.getSessionInfo();return i.default.isMobileNativeApp(e.renderPlatform)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMO_ONLY_AUDIO_LIST=t.INTRO_AUDIO_UID=t.STREAM_24_HOUR_PROGRAM_METADATA=t.STREAM_24_HOUR_PROGRAM_UID=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15));var r=t.STREAM_24_HOUR_PROGRAM_UID="339db355f53d44638514fd6903bebaef",o=(t.STREAM_24_HOUR_PROGRAM_METADATA={orgId:1,title:"NPR 24 Hour Program Stream",primary:!1,audioUrl:"https://npr-ice.streamguys1.com/live.mp3",uid:r,type:a.STREAM,subtype:a.STREAM_STATION},t.INTRO_AUDIO_UID="721118801:721123415");t.PROMO_ONLY_AUDIO_LIST=[o]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWithinContinuityPeriod=function(e,t){return e>t-a},t.isWithinLimitedContinuityPeriod=function(e,t){return e>t-r};var a=t.CONTINUITY_PERIOD_IN_MS=1296e5,r=t.LIMITED_CONTINUITY_PERIOD_IN_MS=3e5},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneChangeRequested=function(e){return{type:a.PANE_CHANGE_REQUESTED,payload:e}},t.paneChangeWithExpand=function(e){return{type:a.PANE_CHANGE_WITH_EXPAND,payload:e}},t.paneChangeDirect=function(e){return{type:a.PANE_CHANGE_DIRECT,payload:e}},t.streamingPaneSelectedWithPlay=function(){return{type:a.STREAMING_PANE_SELECTED_WITH_PLAY}},t.onDemandPaneSelectedWithPlay=function(){return{type:a.ON_DEMAND_PANE_SELECTED_WITH_PLAY}},t.newscastPaneSelectedWithPlay=function(){return{type:a.NEWSCAST_PANE_SELECTED_WITH_PLAY}},t.newscastPaneSelectedWithPlaySmallBp=function(e){return{type:a.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP,payload:e}},t.collapsePane=function(){return{type:a.COLLAPSE_PANE}},t.linkClicked=function(e){return{type:a.LINK_CLICKED,meta:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sponsorshipStarted=function(e,t,n){return{type:a.SPONSORSHIP_STARTED,payload:{metadata:e,uid:t,breakpoint:n}}},t.sponsorshipLoaded=function(e){return{type:a.SPONSORSHIP_LOADED,payload:e}},t.sponsorshipSlotAvailable=function(){return{type:a.SPONSORSHIP_SLOT_AVAILABLE}},t.setMobileSponsorshipSlotAvailable=function(){return{type:a.MOBILE_SPONSORSHIP_SLOT_AVAILABLE}},t.sponsoredChannelSet=function(e){return{type:a.SPONSORED_CHANNEL_SET,payload:e}},t.postrollSponsorshipStarted=function(e,t){return{type:a.POSTROLL_SPONSORSHIP_STARTED,payload:{metadata:e,uid:t}}},t.playPostrollBeforeUidSet=function(e){return{type:a.PLAY_POSTROLL_BEFORE_UID_SET,payload:{uid:e}}},t.sponsorshipDivsReset=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:a.SPONSORSHIP_DIVS_RESET,payload:{resetSponsorshipDiv:e,resetLeaveBehindDiv:t}}},t.sponsorshipInterrupted=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:a.SPONSORSHIP_INTERRUPTED,payload:{retainLeaveBehind:e}}},t.sponsorshipRequested=function(e){return{type:a.SPONSORSHIP_REQUESTED,payload:e}},t.prerollEnded=function(e){return{type:a.PREROLL_ENDED,payload:e}},t.postrollEnded=function(e){return{type:a.POSTROLL_ENDED,payload:e}},t.preemptedUidReplaced=function(e,t){return{type:a.PREEMPTED_UID_REPLACED,payload:{metadata:e,preemptedSegmentResumePosition:t}}},t.soundscapesLoadedOwnAction=i,t.soundscapesLoaded=function(e){return function(t,n){t(i(e,n().player.env.breakpoint)),t(r.audioRequested(e,{}))}},t.leaveBehindInitialized=function(e){return{type:a.LEAVE_BEHIND_INITIALIZED,payload:{uid:e}}},t.soundscapesBannerClicked=function(e){return{type:a.SOUNDSCAPES_BANNER_CLICKED,payload:{uid:e}}},t.resetLastPlayedTimestamp=function(){return{type:a.RESET_LAST_PLAYED_TIMESTAMP}};var a=o(n(1)),r=o(n(24));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){return{type:a.SOUNDSCAPES_LOADED,payload:{metadata:e,breakpoint:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageViewCustomDimensions=function(e){var t={},n="undefined"!==e.pageTypeId?e.pageTypeId:"",o=parseInt(n,10);t.dacs_story=(!!document.querySelector(".is-DACS-only")).toString(),t.page_type=e.pageTypeId,t.localized_station=e.localizedStationId,t.topics=e.topicIds,t.program=e.programId,t.parents=e.aggIds,t.screen_type="ontouchstart"in document.documentElement?"Touch":"Traditional",t.screen_orientation=90===window.orientation||-90===window.orientation?"landscape":"portrait",t.category="page_view",t.user_timezone=(0,a.getTimezone)(),(0,l.setIsMobileNativeApp)()&&(t.isMobileNativeApp=!0);(0,c.default)(".has-expanded-engaged-player").length>0?t.player_state="active":t.player_state="not active - collapsed";[r.default.WEB_FEATURES,r.default.PODCAST_EPISODE].includes(o)&&(t.story_id=e.storyId,t.byline=e.byline,t.publish_date=e.pubDate,t.title=e.storyTitle,t.content_partner_organization=e.contentPartnerOrg);e.homePageMetrics&&(t.homepage_card_design=e.homePageMetrics);return t.logged_in_session=e.isLoggedIn,t.user_id=e.userId,t},t.getAudioCustomDimensions=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={},l=n.uid,c=void 0,d=void 0,f=i.getPlayedFrom(n,a);if(n.type==o.SPONSORSHIP)r.category="player sponsorship",n.subtype===o.SOUNDSCAPES&&(r.title=n.uid);else{switch(r.category="audio",n.subtype){case o.SEGMENT_NEWSCAST:c=i.getNewscastLabel(n.title);default:l?(c=(0,s.getStoryIdFromUid)(l),d=(0,s.getMediaIdFromUid)(l)):n.mediaId&&(d=n.mediaId,c=n.storyId)}r.title=n.title,r.story_id=c,r.media_id=d}n.duration&&(r.duration=String(Math.round(n.duration)));n.program&&(r.program=n.program);f&&(r.audio_play_location=f);void 0!==a.lastPingInterval&&null!==a.lastPingInterval&&void 0!==a.currentPingTime&&null!==a.currentPingTime&&(r.audio_listen_time=Math.floor(a.currentPingTime-a.lastPingInterval));a.percentComplete&&(r.percent_complete=a.percentComplete);a.audioAutoplayStatus&&(r.audio_autoplay_status=a.audioAutoplayStatus);a.audioQueueStatus&&(r.audio_queue_status=a.audioQueueStatus);a.volumePosition&&(r.volume_position=String(a.volumePosition)+"%");a.errorMessage&&(r.error_message=a.errorMessage);n.affiliation?r.affiliation=n.affiliation:n.orgId&&(r.content_partner_organization=String(n.orgId));(0,u.default)(t,"player.position")&&(a.timeChange?r.current_time=a.timeChange:r.current_time=Math.floor(t.player.position));return r.audio_type=e,r},t.getNewsletterCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickName&&(t.click_name=e.clickName);e.clickUrl&&(t.click_url=e.clickUrl);e.errorType&&(t.error_type=e.errorType);return t.category="newsletter",t},t.getDonationCustomDimensions=function(e){var t={};e.donationStationType&&(t.donation_station_type=e.donationStationType);e.items&&(t.items={item_name:e.items.itemName,affiliation:e.items.affiliation,currency:e.items.currency,creative_slot:e.items.creativeSlot,item_category:e.items.itemCategory,price:e.items.price,quantity:e.items.quantity});e.value&&(t.value=e.value);e.creativeSlot&&(t.creative_slot=e.creativeSlot);e.clickName&&(t.click_name=e.clickName);e.searchTerm&&(t.search_term=e.searchTerm);e.searchType&&(t.search_type=e.searchType);e.searchResults&&(t.search_results=e.searchResults);e.paymentType&&(t.payment_type=e.paymentType);e.errorMessage&&(t.error_message=e.errorMessage);return t.category="donation",t},t.getRecirculationCustomDimensions=function(e){var t={};e.clickName&&(t.click_name=e.clickName);e.clickType&&(t.click_type=e.clickType);e.clickPosition&&(t.click_position=e.clickPosition);if(e.clickUrl)try{var n=new URL(e.clickUrl.replace(/\\/g,""));n.origin===NPR.ServerConstants.webHost?t.click_url=n.pathname:t.click_url=e.clickUrl}catch(n){t.click_url=e.clickUrl}e.clickPosition&&(t.click_position=e.clickPosition);e.category?t.category=e.category:t.category="recirculation";return t},t.getVideoCustomDimensions=function(e){var t={};e.duration&&(t.duration=e.duration);e.mediaId&&(t.media_id=e.mediaId);e.provider&&(t.provider=e.provider);e.currentTime&&(t.current_time=e.currentTime);e.seekAmount&&(t.seek_amount=e.seekAmount);e.percent&&(t.percent=e.percent);e.volumePosition&&(t.volume_position=e.volumePosition);e.videoPixelQuality&&(t.video_pixel_quality=e.videoPixelQuality);e.title&&(t.title=e.title);return t.category="video",t},t.getMiscCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickUrl&&(t.click_url=e.clickUrl);e.clickName&&(t.click_name=e.clickName);e.searchTerm&&(t.search_term=e.searchTerm);e.searchType&&(t.search_type=e.searchType);e.searchResults&&(t.search_results=e.searchResults);e.localizedStation&&(t.localized_station=e.localizedStation);e.category&&(t.category=e.category);return t};var a=n(88),r=f(n(354)),o=d(n(15)),i=d(n(355)),s=n(156),u=f(n(237)),l=n(135),c=f(n(6));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(622),i=(a=o)&&a.__esModule?a:{default:a};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i.default.getAuthCookieData();this.isLoggedIn=!!t,this.userId=t?t.u:null,this.userName=t?t.a:null,this.emailAddrsss=t?t.e:null}return r(e,[{key:"getUserId",value:function(){return this.userId}},{key:"getIsLoggedIn",value:function(){return this.isLoggedIn}},{key:"getUserName",value:function(){return this.userName}},{key:"getEmailAddress",value:function(){return this.emailAddrsss}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPageView=void 0;var a=d(n(18)),r=d(n(9)),o=d(n(647)),i=c(n(129)),s=c(n(153)),u=d(n(7)),l=c(n(135));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=a.default.create();f.name="googletag";var p=!1;f.init=function(){var e=(0,u.default)(window,"NPR.ServerConstants.gtmKey"),t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.text="(function() {            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);            })(window,document,'script', 'dataLayer', '"+e+"');        })();",t.parentNode.insertBefore(n,t)},f.register(),t.sendPageView=function(){try{(new o.default).loadPageviewData().then((function(e){var t=s.getPageViewCustomDimensions(e),n=l.createPageViewVars(t);p?l.sendGTMEvent(i.GTM_LATER_VIEW,n):(p=!0,l.sendGTMEvent(i.GTM_FIRST_VIEW,n),t.isMobileNativeApp&&l.sendGTMEvent(i.ONETRUST_GROUPS_UPDATED,{OnetrustActiveGroups:",C0001,C0002,C0003,C0004,"}))})).catch((function(e){r.default.error("Error loading page view data: "+e)}))}catch(e){r.default.error(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoryIdFromUid=function(e){if(/newscast/.test(e))return e;var t=e.split(":");if(2!==t.length)return"";return t[0]},t.getMediaIdFromUid=function(e){var t=e.split(":");if(2!==t.length)return"";return t[1]};var a,r=n(137),o=(a=r)&&a.__esModule?a:{default:a};function i(e,t){return e.href.length>t.href.length?e:t}t.default={getOrganizationName:function(e){var t=e.attributes.organization;return t&&"NPR"!==t.name?t.name:""},getAudioUrl:function(e){var t=(0,o.default)(e.links.audio,{"content-type":"audio/mp3"});return t?t.href:""},getStoryUrl:function(e){return e.links&&e.links.web?e.links.web.filter((function(e){return"text/html"===e["content-type"]&&!e.rel})).reduce(i,{href:""}).href:""},getSlug:function(e){return e.attributes.slug||""},getProgram:function(e){return e.attributes.program||""},getDate:function(e){return e.attributes.date||""},getExpires:function(e){var t=e.attributes.expires;return t?{expires:Date.parse(t)}:{}},getAvailability:function(e,t){var n={available:!!e};return t.attributes.unavailableText&&(n.unavailableText=t.attributes.unavailableText),n}}},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var a,r;a=[n(18),n(6)],void 0===(r=function(e,t){var n=e.create();n.name="player/audio-module-clickable",n.onReady=function(){t("#main-section").on("click","#PrimaryAudio .audio-module, #primaryaudio .audio-module",(function(e){t(e.target).hasClass("audio-module-listen")||t(e.target).parents(".audio-module-listen").length||t(e.target).hasClass("audio-module-queue")||t(e.target).parents(".audio-module-queue").length||t(e.target).parents(".audio-module-tools").length||t(this).find("button.audio-module-listen").trigger("click")}))},n.onUnload=function(){t("#main-section").off("click",".audio-module")},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(2)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this._getMetricsObject(),t=this._getMetricsObjectGA4(),n=this.props.onClick,r=this.props,i=r.isDisabled,s=r.className,u=this._getAccessibilityAttributes();return o.default.createElement("button",a({className:s,onClick:n,disabled:i,"data-metrics":e,"data-metrics-ga4":t},u),this.props.children||this.props.label)}}]),t}(s(n(211)).default);t.default=u,u.defaultProps={className:"",onClick:function(){},isDisabled:!1,label:"",children:"",tabIndex:""},u.propTypes={className:i.default.string,onClick:i.default.func,isDisabled:i.default.bool,label:i.default.string,tabIndex:i.default.string,children:i.default.oneOfType([i.default.element,i.default.arrayOf(i.default.element),i.default.string,i.default.node])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(2)),r=(u(n(4)),n(14)),o=u(n(7)),i=(u(n(30)),u(n(221))),s=u(n(72));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=(0,o.default)(e.org,"callLetters"),n={category:e.metricsCategory,action:"click donate",label:e.org?t:"not localized"},r={category:"donation",action:"select_promotion",creativeSlot:e.creativeSlot,donationStationType:"on site donation form"};return a.default.createElement(s.default,{className:e.overrideClasses||"donation-links__button",href:"/donations/support",metrics:n,metricsGA4:r,onClickHandler:function(){e.handleSetSource({source:e.metricsCategory}),e.onClick()}},e.addLogo&&e.org&&e.org.logoUrl&&a.default.createElement("img",{src:e.org.logoUrl,alt:"Logo for "+e.org.name,className:"donation-links__logo"}),e.addLogo&&e.org&&!e.org.logoUrl&&a.default.createElement("span",{className:"donation-links__button--org-name"},e.org.name),e.overrideClasses?e.overrideText||"donate now":a.default.createElement("span",{className:"navigation__donate"},e.overrideText||"donate now"))}l.defaultProps={org:null,overrideClasses:"",overrideText:"",addLogo:!1,onClick:function(){}},t.default=(0,r.connect)(null,(function(e){return{handleSetSource:function(t){return e(i.default.handleSetSource(t))}}}))(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(2));r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlertVariationDetermined=t.hideGlobalAlerts=t.checkGlobalAlerts=t.showGlobalModal=t.showGlobalStickybar=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.showGlobalStickybar=function(){return{type:a.SHOW_GLOBAL_STICKYBAR}},t.showGlobalModal=function(){return{type:a.SHOW_GLOBAL_MODAL}},t.checkGlobalAlerts=function(e){return{type:a.CHECK_GLOBAL_ALERTS,payload:e}},t.hideGlobalAlerts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:a.HIDE_GLOBAL_ALERTS,payload:e}},t.globalAlertVariationDetermined=function(e,t){return{type:a.GLOBAL_ALERT_VARIATION_DETERMINED,payload:{globalAlertType:e,globalAlertId:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndOfStoryEmbeddedInfo=t.getEndOfStoryCtaInfo=t.isOnEndOfStoryCalloutPage=void 0;var a,r=n(7),o=(a=r)&&a.__esModule?a:{default:a},i=n(107),s=n(235),u=n(133),l=n(32);var c={default:{startDate:new Date("6 Dec 2022 04:00:00 UTC").toISOString(),endDate:new Date("27 Dec 2022 04:59:59 UTC").toISOString(),aggLandingPages:[],isAssignedToAggregation:[],hasPrimaryTopic:[],dontShow:["1039"],donationInfo:{title:"It all comes down to you",description:"You keep the facts flowing. You bring more stories to more ears. You make a real difference with a year-end contribution to independent, trustworthy media."}},Donation:{startDate:new Date("27 Dec 2022 05:00:00 UTC").toISOString(),endDate:new Date("1 Jan 2023 08:00:00 UTC").toISOString(),aggLandingPages:[],isAssignedToAggregation:[],hasPrimaryTopic:[],dontShow:["1039"],donationInfo:{title:"A virtuous circle",description:"We depend on your generosity to power the news and programs you count on. If you value the role we play in your life and community, please take a moment to act now."}}},d=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},l.DONATION_EMBED,{startDate:new Date("6 Dec 2022 04:00:00 UTC").toISOString(),endDate:new Date("1 Jan 2023 08:00:00 UTC").toISOString(),displayEverywhere:!0,aggLandingPages:[],isAssignedToAggregation:[],hasPrimaryTopic:[],dontShow:["1039"]});t.isOnEndOfStoryCalloutPage=function(e,t,n){if(Object.keys(c).length<1)return!1;var a=!0;(0,s.isNationalStationStory)()&&(a=!1),document.body.classList.contains("multimedia")&&(a=!1),(0,i.isBlockListed)(window.location.href)&&(a=!1),t.aggLandingPages.length&&!(0,u.isOnStickybarPage)(e,t)&&(a=!1);var r=(0,o.default)(NPR,"serverVars.aggIds",[]);return t.dontShow.some((function(e){return r.includes(e)}))&&!n&&(a=!1),a},t.getEndOfStoryCtaInfo=function(){return c},t.getEndOfStoryEmbeddedInfo=function(){return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAYMENT_METHOD={CREDIT_CARD:"Credit Card",BROWSER_PAY:"Express Pay"},t.STRIPE_PAYMENT_METHOD_TYPES={CREDIT_CARD:"card"},t.BROWSER_PAY={APPLE_PAY:"Apple Pay",BROWSER_PAY:"Express Pay"},t.STRIPE_RESPONSES={INCORRECT_NUMBER:"incorrect_number",INCOMPLETE_NUMBER:"incomplete_number",INCOMPLETE_CVC:"incomplete_cvc",INVALID_NUMBER:"invalid_number",INVALID_EXPIRATION:"invalid_expiry_year_past",INCOMPLETE_EXPIRATION:"incomplete_expiry",CARD_DECLINED:"card_declined"},t.DEFAULT_SUBSCRIPTION_AMOUNTS=[7,10,15,30],t.DEFAULT_ONETIME_AMOUNTS=[60,120,180,365],t.DEFAULT_EMBED_AMOUNTS=[25,50,75,100],t.HONOR_TEXT=["In Honor of","In Memory of"],t.STRIPE_STATUSES={SUCCEEDED:"succeeded",COMPLETED:"completed",INCOMPLETED:"incompleted",REQUIRES_ACTION:"requires_action",REQUIRES_PAYMENT_METHOD:"requires_payment_method"},t.ERROR_FLAGS={EMPTY:"empty",INVALID:"invalid",CHAR_LIMIT:"You've reached your character limit.",INPUT_REQUIRED:"This field is required.",INVALID_CVC:"Please enter a valid security code",INVALID_DETAILS:"Please enter valid payment details",INVALID_LOW_AMOUNT:"Please enter an amount of $5 or more.",INVALID_HIGH_AMOUNT:"Please enter an amount less than $999,999.99",INVALID_EMAIL:"Please enter a valid email address.",INVALID_EXPIRATION:"Please enter a valid four digit expiration month and year",INVALID_NUMBER:"Please enter a valid credit card number",NO_RESULTS:"No results. Try searching by ZIP code, city, state or station above.",NO_SEARCH_RESULTS:"Please enter a valid ZIP code, city, or station.",SELECET_REQUIRED:"Please select a value.",TOP_TITLE_ERROR:"Please complete the following fields.",UNAVAILABLE:"Network error. Refresh your page and try again.",UNAVAILABLE_COMMENT:"Sorry we weren't able to capture your comment",TO_MANY_REQUEST:"Sorry we aren't able to process your gift."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPlaylistUrl=function(e){var t=e.indexOf("?"),n=void 0;if(-1!==t){n=e.slice(0,t);var r=e.slice(t+1).toLowerCase();if(a.some((function(e){return-1!==r.indexOf(e)})))return!0}else n=e;return-1!==a.indexOf(n.substr(-3).toLowerCase())},t.deObfuscateUrl=function(e){return"http"!==e.substring(0,4)?window.atob(e):e};var a=["m3u","pls"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CENTER_STAGE="centerstage",t.NONE=0,t.INELIGIBLE=1,t.AD=2,t.NEWSLETTER=3,t.PODCAST=4,t.STATION=5,t.DONATION=6},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableContinuousListening=function(){return{type:a.ENABLE_CONTINUOUS_LISTENING}},t.disableContinuousListening=function(){return{type:a.DISABLE_CONTINUOUS_LISTENING}},t.addRecommendedAudioToContinuousQueue=function(e,t){return{type:a.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE,payload:e,meta:t}},t.listeningServiceAudioRecommendationsRequested=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:a.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED,payload:{shouldPlayIntroAudio:e}}},t.listeningServiceAudioRecommendationsSucceeded=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:a.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED,payload:{audioMetadataList:e,shouldPlayIntroAudio:t}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModalLocalizationInfo=t.getModalEmbedInfo=t.getModalInfo=t.getModalMaxSees=t.isWithinAnyModalPeriod=void 0;var a=n(107),r=n(32);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(638);var i={"Donation 12/28/2022":{startDate:new Date("27 Dec 2022 05:00:00 UTC").toISOString(),endDate:new Date("1 Jan 2023 08:00:00 UTC").toISOString(),donationInfo:{title:"With only a few hours left until 2023",description:"This is no time to take exceptional news and cultural programming for granted. If you value the role we play in your life and community, please take a moment to act now."}},"Shop 11/26/2021":{startDate:new Date("26 Nov 2021 05:00:00 UTC").toISOString(),endDate:new Date("30 Nov 2021 05:00:00 UTC").toISOString(),donationInfo:{title:"NPR gear for you and yours.",description:"Browse NPR t-shirts, hats, socks and more. Every purchase supports NPR. Take 20% off your entire purchase through Monday."}}},s=o({},r.DONATION_EMBED+" 12/28/2022",{startDate:new Date("27 Dec 2022 05:00:00 UTC").toISOString(),endDate:new Date("1 Jan 2023 08:00:00 UTC").toISOString()}),u=o({},r.LOCALIZATION_EMBED+" 9/20/2021",{startDate:new Date("20 Sept 2021 04:00:00 UTC").toISOString(),endDate:new Date("30 Sept 9999 07:00:00 UTC").toISOString()}),l=[u,s,i];t.isWithinAnyModalPeriod=function(){var e=!0,t=!1,n=void 0;try{for(var r,o=l[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;for(var s in i)if((0,a.isWithinThisGlobalAlertPeriod)(i[s]))return!0}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return!1},t.getModalMaxSees=function(){return 3},t.getModalInfo=function(){return i},t.getModalEmbedInfo=function(){return s},t.getModalLocalizationInfo=function(){return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NEWS="NEWS",t.MUSIC="MUSIC"},,function(e,t,n){"use strict";var a=o(n(6)),r=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}"1"===o(n(30)).default.getUrlParameter("_DEBUG")&&("console"in window&&"function"==typeof console.info&&(0,a.default)(r.default).on("npr:log:info",(function(e,t){t.data?console.info(t.message,JSON.stringify(t.data)):console.info(t.message)})),"console"in window&&"function"==typeof console.warning&&(0,a.default)(r.default).on("npr:log:warning",(function(e,t){t.exception&&t.data?console.warning(t.message,JSON.stringify(t.data),t.exception):t.data?console.warning(t.message,JSON.stringify(t.data)):console.warning(t.message)}))),"console"in window&&"function"==typeof console.error&&(0,a.default)(r.default).on("npr:log:error",(function(e,t){t.data?console.error(t.exception,JSON.stringify(t.data)):console.error(t.exception)}))},function(e,t,n){"use strict";var a=s(n(6)),r=s(n(18)),o=s(n(36)),i=n(653);function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.create();u.name="piano";var l=void 0,c=void 0,d=(0,o.default)();u.init=function(){l=window.tp||[],c=window.cX||{options:{consent:!0,consentVersion:2}};var e=(0,a.default)("script#piano-aid").data("piano-aid");l.push(["setAid",e]),"prod"===NPR.ServerConstants.environment&&l.push(["setCxenseSiteId","4730272259874493122"]),l.push(["setSandbox",!1]),l.push(["setUseTinypassAccounts",!1]),l.push(["setUsePianoIdLiteUserProvider",!0]),c.callQueue=c.callQueue||[],c.callQueue.push(["requireConsent"]),l.push(["init",function(){d.dispatch((0,i.pianoInitSucceeded)())}])},u.onReady=function(){},u.register()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSponsorshipRecommendationsUrl=function(e){if(e.match(/^[0-9]+:[0-9]+$/))return c(e);return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations?channel="+e},t.getChannelRecommendationsUrl=function(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations?channel="+e},t.mapItemToMetadata=d,t.parseMetadata=f,t.getMetadataFromRemote=p,t.getMetadata=function(e){return new Promise((function(t,n){p(c(e)).then((function(a){(function(e,t){return(0,r.default)(e,"items[0].attributes.uid")===t})(a,e)?t(f(a)):n("UID "+e+" not found in Listening Service response")})).catch((function(e){return n(e)}))}))},t.getMetadataForAgg=function(e){return new Promise((function(t,n){var a=(0,o.bindParams)(NPR.ServerConstants.webHost+"/proxy/listening/v2/aggregation/{id}/recommendations?channel=npr",(new Map).set("id",e));(0,u.default)(2e4,a).then((function(e){return e.json()})).then((function(e){e&&e.items?t(e.items.map(d)):n("Aggregation metadata call returned empty")})).catch((function(e){return n(e)}))}))};var a=l(n(234)),r=l(n(7)),o=n(349),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15)),s=l(n(156)),u=l(n(47));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/media/recommendations/?id="+e}function d(e){var t=e.attributes,n=t.uid,r=t.title,o=t.duration,u=s.default.getAudioUrl(e),l=s.default.getStoryUrl(e),c=s.default.getOrganizationName(e),d=s.default.getSlug(e),f=s.default.getProgram(e),p=s.default.getDate(e),h=(0,a.default)(e.attributes,["song","artist","album","track"]),m=s.default.getExpires(e),g=s.default.getAvailability(u,e);return Object.assign({},{uid:n,type:i.SEGMENT,title:r,duration:parseInt(o,10),audioUrl:u,slug:d,program:f,date:p,storyUrl:l,affiliation:c},h,m,g)}function f(e){return e&&e.items?d(e.items[0]):null}function p(e){return new Promise((function(t,n){(0,u.default)(2e4,e).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={getTimestamp:function(){return(new Date).getTime()}}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentPlayButtonIconClass=function(e,t){if(e)return"icn-loading";if(t)return"icn-pause";return"icn-play"},t.getPlayButtonAriaLabel=function(e,t){if(e)return"Loading";if(t)return"Pause";return"Play"},t.getStreamPlayButtonIconClass=function(e,t){if(e)return"icn-loading";if(t)return"icn-stop";return"icn-play"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),s=c(i),u=(c(n(4)),c(n(74))),l=c(n(106));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,u.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"onClick",value:function(e){var t=this.props.onClickHandler;"function"==typeof t&&t()}},{key:"_getMetricsObject",value:function(){var e=void 0,t=void 0,n=void 0;"string"==typeof this.props.metrics?e=this.props.metrics:"object"===r(this.props.metrics)&&(0,l.default)(this.props.metrics,(function(a,r){"action"===r?e=a:"label"===r?t=a:"category"===r&&(n=a)}));var a={};return e&&(a.action=e),t&&(a.label=t),n&&(a.category=n),JSON.stringify(a)}},{key:"_getMetricsObjectGA4",value:function(){return JSON.stringify(this.props.metricsGA4)}},{key:"_getAccessibilityAttributes",value:function(){var e={};return this.props.ariaDescribedby&&(e["aria-describedby"]=this.props.ariaDescribedby),this.props.ariaLabel&&(e["aria-label"]=this.props.ariaLabel),this.props.ariaLabelledby&&(e["aria-labelledby"]=this.props.ariaLabelledby),this.props.role&&(e.role=this.props.role),this.props.tabIndex&&(e.tabIndex=this.props.tabIndex),e}},{key:"render",value:function(){if(!this.props.tagName)return null;var e=this.props.tagName,t=this._getMetricsObject(),n=this._getAccessibilityAttributes();return s.default.createElement(e,a({className:this.props.className,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress,"data-metrics":t},n),this.props.children)}}]),t}(i.Component);t.default=d,d.defaultProps={onClickHandler:function(){},onBlur:function(){},onMouseDown:function(){},onKeyPress:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscastRequested=function(e){return{type:a.NEWSCAST_REQUESTED,payload:{orgId:e}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=c(r),i=(c(n(4)),n(14)),s=c(n(542)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),l=n(127);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,l.getBoundHandlers)(n,["onSubscriptionRequested","onExternalSubscriptionRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onSubscriptionRequested",value:function(e,t){this.props.dispatch(u.newsletterAcquisitionRequested(e,t))}},{key:"onExternalSubscriptionRequested",value:function(e,t,n,a,r){this.props.dispatch(u.newsletterExternalAcquisitionRequested(e,t,n,a,r))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.newsletter,a=e.renderingForMobileNative,r=e.isStickybar;return n?o.default.createElement(s.default,{newsletter:n,user:t,renderingForMobileNative:a,handlers:this.handlers,isStickybar:r}):null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{renderingForMobileNative:e.site.renderingForMobileNative}}))(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(2)),r=(s(n(4)),s(n(171))),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(75)),i=n(174);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return a.default.createElement("section",{className:"callout callout--donation"},a.default.createElement("div",{className:"callout__inner"},e.station&&e.station.logoUrl?a.default.createElement("div",{className:"callout__branding"},a.default.createElement("img",{className:"callout__branding-logo",src:e.station.logoUrl,alt:"Donation logo"})):"",a.default.createElement("div",{className:"callout__main"},a.default.createElement("div",null,a.default.createElement("p",{className:"callout__header",id:"callout__header"},e.donation.donationInfo.title)),a.default.createElement("div",null,a.default.createElement("p",{className:"callout__description "+(e.metricsCategory===o.END_OF_STORY?"variant-endofstory-donation":""),id:"callout__description"},e.donation.donationInfo.description)),a.default.createElement("div",{className:"callout__links"},a.default.createElement(r.default,{org:e.station,overrideText:"Donate Now",creativeSlot:e.metricsCategory===o.END_OF_STORY?"end of story":e.metricsCategory,metricsCategory:"donation "+e.metricsCategory,onClick:e.onClick,addLogo:!1,overrideClasses:"callout__link callout__link--donate"})))))};u.defaultProps={onClick:function(){},donation:(0,i.getEndOfStoryCtaInfo)().default},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(2)),r=(c(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(75))),o=c(n(72)),i=n(175),s=n(32),u=c(n(226)),l=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=u.default.stations.find((function(t){return t.id===(e.station&&e.station.id)}));t=(0,l.default)(t,"allowDonationEmbeddedCalloutRecurring");var n=s.DONATION_EMBED+" "+e.metricsCategory+(t?" subscription":""),c=(new Date).toISOString();return a.default.createElement("section",{className:"callout callout--donation callout--donation-embedded"},a.default.createElement("div",{className:"callout__inner"},a.default.createElement("div",{className:"callout__main"},a.default.createElement("div",{className:"callout__header-wrap"},a.default.createElement("h3",{className:"callout__header",id:"callout__header"},e.metricsCategory===r.STICKYBAR&&"Support independent journalism today.",e.metricsCategory===r.END_OF_STORY&&(c>new Date("28 Dec 2022 07:00:00 UTC").toISOString()?"A virtuous circle":"It all comes down to you"),e.metricsCategory===r.MODAL&&"With only a few hours left until 2023")),a.default.createElement("div",{className:"callout__description-wrap"},e.metricsCategory===r.END_OF_STORY&&(c>new Date("28 Dec 2022 07:00:00 UTC").toISOString()?a.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"We depend on your generosity to power the news and programs you count on. If you value the role we play in your life and community, please take a moment to act now."):a.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"You keep the facts flowing. You bring more stories to more ears. You make a real difference with a year-end contribution to independent, trustworthy media.")),e.metricsCategory===r.STICKYBAR&&a.default.createElement("p",{className:"callout__description",id:"callout__description"},"You rely on NPR ",e.station&&a.default.createElement("span",null,"and ",a.default.createElement("span",{className:"callout__station-info"},e.station.name," in ",e.station.marketCity,", ",e.station.marketState))," to stay informed and we depend on you to make our work possible. ",e.station?a.default.createElement("span",null,"Give to your local NPR station today."):a.default.createElement("span",null,"Give today.")),e.metricsCategory===r.MODAL&&a.default.createElement("p",{className:"callout__description",id:"callout__description"},"This is no time to take exceptional news and cultural programming for granted. If you value the role we play in your life and community, please take a moment to act now.")),a.default.createElement("div",{className:"callout__links"},e.metricsCategory===r.END_OF_STORY?a.default.createElement("span",null,"Select an amount"):a.default.createElement("p",null,"Select an amount"),a.default.createElement("ul",{className:"callout__donation-amounts"},(t?i.DEFAULT_SUBSCRIPTION_AMOUNTS:i.DEFAULT_EMBED_AMOUNTS).map((function(i){return a.default.createElement("li",{key:i,className:"callout__donation-amount"},a.default.createElement(o.default,{href:"/donations/support?amount="+i+"&subscription="+t+"&source="+n,metrics:{category:n,action:"amount selected",label:"$"+i},metricsGA4:{category:"donation",action:"select_promotion",creativeSlot:"embed "+(e.metricsCategory===r.END_OF_STORY?"end of story":e.metricsCategory),donationStationType:"on site donation form",value:""+i,items:{item_name:""+t,affiliation:e.station?e.station.name:void 0,creativeSlot:"embed "+(e.metricsCategory===r.END_OF_STORY?"end of story":e.metricsCategory),currency:"USD",itemCategory:"donation",price:""+i,quantity:t?12:1}}},"$",i))})),a.default.createElement("li",{className:"callout__donation-amount callout__donation-amount--other"},a.default.createElement(o.default,{href:"/donations/support?amount=&subscription="+t+"&source="+n,metrics:{category:n,action:"amount selected",label:"different amount"},metricsGA4:{category:"donation",action:"select_promotion",creativeSlot:"embed "+(e.metricsCategory===r.END_OF_STORY?"end of story":e.metricsCategory),donationStationType:"on site donation form"}},"Give a different amount")))),e.metricsCategory!==r.END_OF_STORY&&a.default.createElement("button",{type:"button",className:"callout__dismiss",onClick:e.onClick},"Maybe later"))))}d.defaultProps={onClick:function(){}},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderDataShareForm=t.isLocalizedStationCached=t.userLocalizationStatus=t.findSelectedStation=t.userInputStationSearch=t.findMostRecentSearchResults=void 0;var a=n(19);t.findMostRecentSearchResults=function(e){var t=e.status,n=e.localizedStations,r=e.searchedForStations,o=e.results,i=e.previousTerm,s=e.org,u=e.stationsMounted,l=e.term,c=o[i];if(u){if(t===a.NOT_STARTED)return n;if(t===a.PENDING&&""!==i)return c.slice(0,3).map((function(e){return s[e]}));if(t===a.PENDING&&""===i)return n;if(t===a.RESOLVED&&"NPR"!==l)return r;if(t===a.RESOLVED&&"NPR"===l)return n}return[]},t.userInputStationSearch=function(e,t){var n=[];return e&&(n=e.slice(0,3).map((function(e){return t[e]}))),n},t.findSelectedStation=function(e,t,n){var a=e[t[0].id],r=e[n];return null===n?a:r},t.userLocalizationStatus=function(e){return null!==e&&"1"!==e},t.isLocalizedStationCached=function(e,t){return e.hasOwnProperty(t)},t.shouldRenderDataShareForm=function(e){return e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDENTITY_USERS_PROXY=t.USER_STATION_PROXY=void 0;var a=c(n(45)),r=l(n(47)),o=l(n(7)),i=c(n(37)),s=l(n(228)),u=l(n(659));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=a.IDENTITY_HOST+"/v2/user?context="+a.WEBSITE_CONTEXT,f=a.IDENTITY_HOST+"/v2/stations?context="+a.WEBSITE_CONTEXT,p=a.IDENTITY_HOST+"/v2/subscriptions",h=a.IDENTITY_HOST+"/v2/web/subscriptions",m=t.USER_STATION_PROXY=a.PROXY_API_HOST+"/proxy/identity/v2/users/station",g=t.IDENTITY_USERS_PROXY=a.PROXY_API_HOST+"/proxy/identity/v2/users",y=a.PROXY_API_HOST+"/account/oauth2/revoke",v=a.PROXY_API_HOST+"/account/oauth2/refresh",_=function(e){return function(t,n){return new Promise((function(a,r){setTimeout((function(){t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).then((function(e){return a(e)})).catch((function(e){return r(e)}))}),e)}))}};function E(e){return new RegExp(a.PROXY_API_HOST+"/account/oauth2").test(e)||new RegExp(a.API_HOST+"/authorization/").test(e)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t={method:"POST",credentials:"include"};return(0,r.default)(1e4,v,t).then((function(e){return Promise.resolve(e.json())})).catch((function(t){return e>0?_(1e3)(S,[e-1]):Promise.reject(t)}))}function b(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=Object.assign({},o,{headers:Object.assign({},o.headers,{Authorization:"Bearer "+t})});return(0,r.default)(1e4,e,s).then((function(t){return t.ok?Promise.resolve(t.json()):401===t.status&&!E(e)&&i?S().then((function(t){var a=t.access_token;return n&&n(a),s=Object.assign({},s,{headers:Object.assign({},s.headers,{Authorization:"Bearer "+a})}),_(1e3)(b,[e,a,null,null,s,!1])})).catch((function(e){return a&&a(e),Promise.reject(new Error("Response status: "+t.status+" "+t.statusText))})):Promise.reject(new Error("Response status: "+t.status+" "+t.statusText))})).catch((function(e){return Promise.reject(e)}))}function O(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return S().then((function(n){var r=n.access_token;t&&t(r);var o=Object.assign({},a,{headers:Object.assign({},a.headers,{Authorization:"Bearer "+r})});return b(e,r,null,null,o,!1)})).catch((function(e){return n&&n(e),Promise.reject(new Error("Error encountered: "+e))}))}function T(e){return s.default.get(e)}function P(e){s.default.get(e)&&s.default.remove(e,{domain:NPR.ServerConstants.cookieDomain,path:"/"})}function A(){P("npr-session"),P("nprorg-access_token"),P("nprorg-refresh_token")}t.default={dispatchOauthRefreshFailure:function(e){return function(t){return function(){t(e.userLogoutRequested())}}},dispatchOauthRefreshSuccess:function(e){return function(t){return function(n){return function(a){t(e.accessTokenReceived(a,n))}}}},getAccessTokenFromCookieCredentials:function(){var e=T("nprorg-access_token");return e?(P("nprorg-access_token"),e):null},performAdditionalLogoutProcesses:function(){if(T("nprorg-refresh_token")){return(0,r.default)(1e4,y,{method:"POST",credentials:"include"}).then((function(){return A(),Promise.resolve()})).catch((function(e){return A(),Promise.reject(e)}))}return A(),Promise.resolve()},isValidUserStation:function(e){return Boolean(e&&e!==i.NPR)},isUserLoggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.default)(e,"oauth.token"),n=T("npr-session");return Boolean(t&&n)},setStationsForUser:function(e,t,n,a){var r={method:"PUT",body:JSON.stringify(t)};return b(f,e,n,a,r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},setSubscriptionForUser:function(e,t,n,a){var r={method:"PATCH",body:JSON.stringify([t])};return b(p,e,n,a,r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},webSubscribeUser:function(e,t,n,a){var o=new FormData;e&&o.append("email",e),t&&o.append("userId",t),n&&o.append("newsletterId",n),a&&o.append("orgId",a);var i={method:"POST",body:o};return(0,r.default)(1e4,h,i).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject("server error occurred")})).catch((function(e){return Promise.reject(e)}))},getUserFromIdentity:function(e,t,n){return b(d,e,t,n,{method:"GET"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},refreshThenGetUserFromIdentity:function(e,t){return O(d,e,t,{method:"GET"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},fetchJsonFromCarbonOauth:b,getTokenFromRefreshAndMakeCall:O,refreshExistingAccessToken:S,requestUrlIsAuthorizationCall:E,delay:_,isEmail:function(e){return u.default.isEmail(e)},killNprAuthCookies:A,getCookie:T,clearCookie:P,doesUserHavePreHTTPSLogin:function(){return!!T("nprorg-refresh_token")&&!!T("npr-session")},registerEmailAddressOrUpdateExistingAccount:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||Promise.reject(new Error("Invalid argument error. Email is required."));var a={method:"POST"},o=encodeURIComponent(e),i="email="+o+"&orgId="+t.id;n&&(i+="&podcastId="+n);var s=g+"?"+i;return(0,r.default)(1e4,s,a).then((function(e){return e.json()})).then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},findUserStationByEmail:function(e){var t="email="+encodeURIComponent(e);return(0,r.default)(1e4,m+"?"+t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return"string"==typeof e?Promise.reject("User not found."):Promise.resolve(e.attributes.orgId)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stationDropdownToggled=function(){return{type:a.STATION_DROPDOWN_TOGGLED}},t.closeStationSubnavs=function(){return{type:a.CLOSE_SUBNAVS}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canCollapse=function(e,t){return e!==a.LARGE||!t},t.getCollapsed=function(e,t){return e===a.LARGE&&t};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var r={handleSetState:function(e){return{type:a.SET_STATE,payload:{id:e}}},handleSetSource:function(e){return{type:a.SET_SOURCE,payload:{id:e}}},handleSetOtherAmount:function(e,t){return{type:a.SET_OTHER_AMOUNT,payload:{amountSelection:e,isRecurring:t}}},handleResetOtherAmount:function(){return{type:a.RESET_OTHER_AMOUNT}},donationFormCompleted:function(e,t,n,r){return{type:a.DONATION_FORM_COMPLETED,payload:{email:e,station:t,isSubscription:n,campaign:r}}},donationFormFailed:function(e,t,n,r){return{type:a.DONATION_FORM_FAILED,payload:{email:e,station:t,isSubscription:n,campaign:r}}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sponsorship=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.loadCustomChannel=I,t.loadPodcast=D,t.loadSoundscapes=N,t.handleMessageForListen=C,t.handleMessageForQueue=R,t.handleMessageForLeaveBehindListen=M,t.handleMessageForLeaveBehindQueue=L,t.playerMessageEventCallback=function(e){if(!(0,E.isValidPlayerMessageEvent)(e))return;var t=e.data,n=e.source.frameElement.parentElement.parentElement.id,a=(0,v.getLocationFromAdSlotName)(n),r=e.source.document.getElementById("sponsorship-data");t===f.LISTEN?C(r,a):t===f.QUEUE?R(r):t===f.LEAVE_BEHIND_LISTEN?M(r):t===f.LEAVE_BEHIND_QUEUE&&L(r)};var r=b(n(6)),o=b(n(90)),i=b(n(7)),s=b(n(9)),u=S(n(1)),l=S(n(15)),c=S(n(101)),d=S(n(128)),f=S(n(348)),p=S(n(33)),h=S(n(152)),m=S(n(24)),g=S(n(100)),y=n(156),v=n(130),_=n(185),E=n(103);function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var O=void 0,T=void 0,P=void 0,A=t.sponsorship=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){O=t;var d=n();if(T=d,P=d.metadata,(0,E.shouldReplacePreemptedUid)(r.type,d,P)){var f=P[d.player.currentUid];t(h.preemptedUidReplaced(f,d.player.position))}(0,E.shouldUnloadSponsorshipMetadata)(r)&&t(p.metadataUnloaded(r.payload.uid));var g=e(r),v=n();if((0,E.shouldRevertInitialState)(r,d)&&t(m.initialStateReverted()),(0,E.shouldSendMessageToCreative)(d,r.type)&&(0,E.sendMessageToCreative)(v,d,r),!d.sponsorship.isFetchingSponsorship&&v.sponsorship.isFetchingSponsorship&&function(e){var t=e.sponsorship.preemptedUid,n=(0,y.getStoryIdFromUid)(t);if((0,o.default)(n))O(h.sponsorshipInterrupted()),s.default.warning('Expected sponsorship audioUid to be set, got "'+t+'"');else{var a=e.metadata[t],r=(0,o.default)(a.sponsorshipSiteOverride)?"":a.sponsorshipSiteOverride;(0,E.getDfpZone)(n,r).then((function(n){O(h.sponsorshipDivsReset());var r=void 0;r=t===e.sponsorship.playPostrollBeforeUid?h.postrollSponsorshipStarted:h.sponsorshipStarted,O(r(a,n,e.player.env.breakpoint))})).catch((function(e){O(h.sponsorshipInterrupted()),s.default.info(e,{storyId:n})}))}}(v),r.type===u.AUDIO_PLAYED&&r.payload.fetchLeaveBehindOnly){var _=(0,y.getStoryIdFromUid)(r.payload.uid);(0,E.getDfpZone)(_,r.payload.sponsorshipSiteOverride).then((function(e){t(h.leaveBehindInitialized(e))})).catch((function(e){s.default.info(e,{storyId:_})}))}if((0,E.shouldFetchLeaveBehindOnly)(v,r)){var S=v.metadata[v.player.currentUid];(0,E.fetchLeaveBehind)(S)}if((0,E.shouldFetchSponsorship)(d,v,r)){var b=v.sponsorship.preemptedUid,A=(0,y.getStoryIdFromUid)(b);(0,o.default)(A)?(s.default.warning("Unexpected story ID for sponsorship targeting",{storyId:A}),t(h.sponsorshipInterrupted())):(0,E.getTargetingForStory)(A).then((function(e){var n=parseInt((0,i.default)(e,"targets.orgId"),10);if("false"!==(0,i.default)(e,"targets.isPodcastEpisode")&&1!==n&&n)t(h.sponsorshipInterrupted()),s.default.info("Skipping sponsorship for orgId: "+n);else{v.sponsorship.isPostrollSponsorship&&(e.targets.channel=d.sponsorship.channel||"");var o=(0,E.getAdLocationsForAction)(r.type,v.sponsorship.isPostrollSponsorship);(0,E.fetchSponsorshipFromDfp)(e,o).then((function(n){var r=(0,E.isSoundscapes)(n.subtype)?l.STANDARD:n.subtype,o={uid:e.zone,type:l.SPONSORSHIP,audioUrl:n.audioUrl,subtype:r};t(h.sponsorshipLoaded(o)),t(m.audioRequested(o,{})),n.subtype===l.CUSTOM_CHANNEL?I(n,c.PLAYER_PRIMARY):n.subtype===l.PLAYER_PODCAST?D(n):n.subtype===l.SOUNDSCAPES&&N(a({},n,{audioUrl:n.supportedCustomAudioFileUrl}))})).catch((function(e){s.default.info(e,{storyId:A}),t(h.sponsorshipInterrupted())}))}})).catch((function(e){s.default.info(e,{storyId:A}),t(h.sponsorshipInterrupted())}))}return g}}};function w(e,t){var n={origin:d.SPONSORSHIP,channel:t,playedFrom:l.ADD_SUPPORTED_SELECTION_TO_QUEUE};1==e.length?O(g.addOneToQueue(e,n)):e.length>1&&(O(g.addManyToTopOfQueue(e,n)),O(h.playPostrollBeforeUidSet(e[1])))}function I(e,t){var n=e.channel,r=e.recommendationsChannelOrUid,o=e.sponsorshipSiteOverride;(0,E.isUid)(r)||O(h.sponsoredChannelSet(n));var i=(0,_.getSponsorshipRecommendationsUrl)(r);(0,_.getMetadataFromRemote)(i).then((function(e){var r=e.items.map(_.mapItemToMetadata).filter((function(e){return!/AdswizzAd/.test(e.uid)&&e.audioUrl}));t!==c.PLAYER_PRIMARY&&t!==c.PLAYER_LEAVEBEHIND&&(r[0]=a({},r[0],{fetchLeaveBehindOnly:!0,sponsorshipSiteOverride:o,skipSponsorship:!0})),r.forEach((function(e){O(p.metadataLoaded(a({},e,{channel:n})))}))})).catch((function(e){return s.default.info(e)}))}function D(e){var t=(0,_.getSponsorshipRecommendationsUrl)(e.podcastUid);(0,_.getMetadataFromRemote)(t).then((function(t){var n=(0,_.mapItemToMetadata)(t.items[0]);n.channel=e.channel,O(p.metadataLoaded(n))})).catch((function(e){return s.default.info(e)}))}function N(e){O(p.metadataLoaded(e))}function C(e,t){var n=(0,r.default)(e).data("sponsorshiptype"),a=(0,r.default)(".ad-leave-behind iframe").get(0);a&&a.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*"),n===l.SOUNDSCAPES&&O(h.sponsorshipDivsReset(!0,!1));var o=(0,r.default)(e).data("trackingchannel");n===l.SOUNDSCAPES||n===l.CLICK_TO_PLAY_SOUNDSCAPES?(O(h.soundscapesLoaded(P[o])),(0,E.makeAdScrollable)(c.PLAYER_PRIMARY)):function(e,t){var n={channel:P[e[0]].channel,origin:d.SPONSORSHIP,playedFrom:"initiate supported selection"};O(g.addManyToTopOfQueue(e,n));var a={};if(e.length>=2){var r=e[1];O(h.playPostrollBeforeUidSet(r))}if(t===c.PLAYER_PRIMARY){var o=T.sponsorship.preemptedUid;a=P[o],O(g.preemptedUidQueued(o)),O(h.prerollEnded(a));O(h.sponsorshipInterrupted(!0))}else a=P[e[0]],O(m.playPauseRequested(a,n))}((0,E.getMetadataUidsByChannelName)(o,P),t)}function R(e){var t=(0,r.default)(e).data("trackingchannel");w((0,E.getMetadataUidsByChannelName)(t,P),t);var n=(0,r.default)(".ad-leave-behind iframe").get(0);n&&n.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*")}function M(e){var t=(0,r.default)(e).data("trackingchannel"),n=P[t];if((0,o.default)(n))s.default.info("DFP: No metadata was loaded for uid: '"+t+"'");else{O(h.soundscapesLoaded(n));var a=0;T.player.isPlaying&&(a=T.player.position),O(h.preemptedUidReplaced(P[T.player.currentUid],a)),(0,E.makeAdScrollable)(c.PLAYER_PRIMARY)}}function L(e){var t=(0,r.default)(e).data("trackingchannel"),n=(0,E.getMetadataUidsByChannelName)(t,P);(0,o.default)(n)?s.default.info("DFP: Could not find metadata for uid:'"+t+"'"):w(n,t)}t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onPageCallouts=t.determineEndOfStoryVariant=t.determineCenterStageVariant=t.areCTASQualified=t.shouldDisplayDonationCta=t.didJustSubscribe=t.getRandomChanceForPodcast=t.shouldHideNewsletter=t.isStickyNewsletterDonation=t.isStickyNewsletterActive=t.isPageBlocklisted=t.getPageData=void 0;var a=b(n(7)),r=b(n(344)),o=b(n(78)),i=b(n(93)),s=S(n(1)),u=S(n(230)),l=S(n(177)),c=S(n(342)),d=S(n(75)),f=S(n(19)),p=S(n(132)),h=b(n(333)),m=S(n(343)),g=n(133),y=n(174),v=n(235),_=n(107),E=n(25);function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var O=null,T=null,P=null,A=function e(t,n,a,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stationQualified=t,this.donationQualified=n,this.newsletterQualified=a,this.podcastQualified=r,this.hasOrgId=o},w=!1,I=t.getPageData=function(){var e=document.getElementById("newsletter-acquisition-callout-data"),t=document.getElementById("station-data"),n=document.getElementById("podcast-callout-data"),a=t?t.getAttribute("data-station"):null;P=JSON.parse(a);var r=e?e.getAttribute("data-newsletter"):null;O=JSON.parse(r);var o=n?n.getAttribute("data-podcast"):null;return T=JSON.parse(o),{station:P,newsletter:O,podcast:T}},D=t.isPageBlocklisted=function(e){var t=(0,v.getCalloutBodyClassBlocklist)();if(t)for(var n=0;n<t.length;n++)if(document.body.classList.contains(t[n]))return!0;return!1},N=t.isStickyNewsletterActive=function(e){var t=!1,n=(0,g.getStickybarNewsletterInfo)();for(var a in n)if(e===a){t=!0;break}return t},C=t.isStickyNewsletterDonation=function(e){var t=!1,n=(0,g.getStickybarDonationInfo)();for(var a in n)if(e===a){t=!0;break}return t},R=t.shouldHideNewsletter=function(e,t,n,a){var o=N(a),i=e===c.EMAIL_SOURCE,s=void 0!==t&&t&&(0,r.default)(t,n)>=0;return i||s||o},M=t.getRandomChanceForPodcast=function(){return 0==Math.floor(2*Math.random())},L=t.didJustSubscribe=function(e){return e!=f.NOT_STARTED},j=t.shouldDisplayDonationCta=function(e,t,n,a){var r=t===p.PODCAST,o=(0,y.getEndOfStoryCtaInfo)(),i=(0,y.getEndOfStoryEmbeddedInfo)();if((0,v.isEligibleForEmbeddedDonation)(e))for(var s in i){var u=(0,y.isOnEndOfStoryCalloutPage)(e,i[s],r),l=(0,_.isWithinThisGlobalAlertPeriod)(i[s]);if(u&&l&&!C(n)&&a!==d.MODAL)return s}for(var c in o){var f=(0,y.isOnEndOfStoryCalloutPage)(e,o[c],r),h=(0,_.isWithinThisGlobalAlertPeriod)(o[c]);if(f&&h&&!C(n)&&a!==d.MODAL)return c}return""},k=t.areCTASQualified=function(e){I();var t=(0,a.default)(O,"newsletterId"),n=e.globalAlerts.variantIDToShowOnThisPage,r=(0,a.default)(e,"user.view.data.attributes.subscriptions"),s=(0,a.default)(e,"session.source"),u=(0,a.default)(e,"user.newsletter.status"),l=L(u),c=R(s,r,t,n),d=!1;O&&O.organizationId&&(d=(0,i.default)((0,o.default)(h.default),O.organizationId.toString()));var f=null!=P,p=!!j(e,(0,E.getCurrentPage)(e),(0,E.getVariantIDToShowOnThisPage)(e),(0,E.getVariantTypeToShowOnThisPage)(e));return new A(f,p,null!=O&&!l&&!c,null!=T,d)},U=t.determineCenterStageVariant=function(e,t){var n=e.onPageCallouts.centerStageVariant;if(n===l.NONE&&t.newsletterQualified){if(0===$("#ad-backstage-wrap").length&&0===$("#ad-mainstage-wrap").length&&0===$("#ad-centerstage-wrap").length)return l.NONE;if(!(0,v.isNationalStationStory)())return l.NEWSLETTER}return n===l.NONE&&t.podcastQualified?l.PODCAST:n},x=t.determineEndOfStoryVariant=function(e,t,n){var r=M(),o=(0,a.default)(O,"newsletterId");return n.newsletterQualified&&n.hasOrgId&&t!==l.NEWSLETTER?u.NEWSLETTER:n.donationQualified&&t!==l.DONATION?u.DONATION:n.podcastQualified&&(r||c.BEST_OF_NPR===o||c.MUSIC===o)&&t!==l.PODCAST?u.PODCAST:n.newsletterQualified&&t!==l.NEWSLETTER?u.NEWSLETTER:n.podcastQualified&&t!==l.PODCAST?u.PODCAST:u.NONE},F=t.onPageCallouts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){n();var r=e(a),o=n();if(a.type===s.PAGE_DETECTED&&(w=!1),a.type!==s.CENTER_STAGE_AD_STATUS_DETERMINED&&a.type!==s.GLOBAL_ALERT_VARIATION_DETERMINED||!w&&!o.onPageCallouts.wasOnPageCalloutDeterminationRequested&&o.onPageCallouts.isDFPComplete&&o.onPageCallouts.isGlobalAlertsComplete&&(t(m.onPageCalloutDeterminationRequested()),w=!0),a.type===s.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED)if(D(o))t(m.onPageCalloutDeterminationSucceeded(l.INELIGIBLE,u.NONE));else{var i=k(o),c=U(o,i),d=x(o,c,i);t(m.onPageCalloutDeterminationSucceeded(c,d))}return a.type===s.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED&&$(document).trigger("npr:onPageCalloutDeterminationSucceeded"),r}}};t.default=F},function(e,t,n){"use strict";(function(e){var a,r,o=i(n(6));i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}a=[n(18)],void 0===(r=function(e){var t=e.create();function n(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("story-id"))&&p((0,o.default)(this).data("story-id"));return!1}function a(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-facebook"))&&f((0,o.default)(this).data("share-facebook").storyId);return!1}function r(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-twitter"))&&c((0,o.default)(this).data("share-twitter").storyId);return!1}function i(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-flipboard"))&&d((0,o.default)(this).data("share-flipboard").storyId);return!1}function s(){(0,o.default)(".share-tools__email-link").on("click",n),(0,o.default)("button[data-share-facebook]").on("click",a),(0,o.default)("button[data-share-twitter]").on("click",r),(0,o.default)("button[data-share-flipboard]").on("click",i)}function u(){(0,o.default)(".share-tools__email-link").off("click",n),(0,o.default)("button[data-share-facebook]").off("click",a),(0,o.default)("button[data-share-twitter]").off("click",r),(0,o.default)("button[data-share-flipboard]").off("click",i)}function l(e,t,n){var a="";NPR.Event&&(a=NPR.Event.getQuerystring("station"));var r=a||(0,o.default)("#modelFullUrl"+e).attr("value"),i=-1!==r.indexOf("?")?"&":"?";return r+i+"utm_campaign=storyshare&utm_source="+t+"&utm_medium="+n}function c(e){var t=l(e,"twitter.com","social"),n=(0,o.default)("#shortTitle"+e).attr("value");n||(n=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"twitterAuthentication","height=400,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(n))}function d(e){var t=l(e,"flipboard.com","referral"),n=(0,o.default)("#shortTitle"+e).attr("value");n||(n=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"flipboardAuthentication","height=600,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://share.flipboard.com/bookmarklet/popout?v=2&title="+encodeURIComponent(n)+"&url="+encodeURIComponent(t))}function f(e){var t=l(e,"facebook.com","social");!function(e){var t=window.open(e,"sharer","toolbar=0,status=0,width=580,height=400,rel=noopener");window.focus&&t.focus()}("https://www.facebook.com/dialog/feed?link="+encodeURIComponent(t)+"&display=popup&app_id="+NPR.serverVars.facebookAppId+"&redirect_uri="+NPR.ServerConstants.webHost+encodeURIComponent("/templates/socialmedia/close.html"))}function p(e){var t="/emailafriend?storyId="+e,n=window.open(t,"sharer","toolbar=0,scrollbars=1,status=0,width=580,height=800");window.focus&&n.focus()}return t.name="social/share",t.onReady=s,t.onUnload=u,t.register(),{initSocialShare:s,deinitSocialShare:u,shareOnFacebook:f,shareOnTwitter:c,shareOnFlipboard:d,shareViaEmail:p}}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";(function(e){var a,r;a=[n(6),n(18)],void 0===(r=function(e,t){var n=t.create();n.name="copyright",n.onReady=function(){e(".copy-year").html(" "+(new Date).getFullYear()+" npr")},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(45);t.default={publishableKey:"https://www.npr.org"!==(0,a.getWebHost)()?"pk_test_KoHtvpjHy8g6evHRwIm7GIgP00MjQmpJEr":"pk_live_iY0lrdsbubVs9fIcZyZ0h7ft00XUjs7dW8",stations:[{id:1,stripeAccountID:"",logoUrl:"https://media.npr.org/chrome_svg/npr-logo.svg",name:"NPR",marketState:"N/A",callLetters:"NPR",contact:"giving@npr.org"},{id:309,stripeAccountID:"acct_1HXTyCILzAWanqpj",contact:"membership@wbez.org",allowDonationEmbeddedCalloutRecurring:!1},{id:396,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:168809220,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:558,stripeAccountID:"acct_1Icx58IenaNliTp3",contact:"membership@iowapublicradio.org"},{id:725,stripeAccountID:"acct_1Idgn8E32ooMRWgd",contact:"membership@wypr.org"},{id:232,stripeAccountID:"acct_1HrUHcJfIl9YMB7X",contact:"membership@kuow.org"},{id:330,stripeAccountID:"acct_18AegeERinIyl6X2",contact:"membership@wbur.org"},{id:223,stripeAccountID:"acct_1J0AVNKZCXteNHf7",contact:"membership@kunc.org"},{id:661,stripeAccountID:"acct_1IyLbLFr3fMQEz43",contact:"wunccares@wunc.org"},{id:447,stripeAccountID:"acct_19i9A7D0uWcllLih",contact:"donate@wjct.org"},{id:270,stripeAccountID:"acct_1Dvp16GAAE00Y4vB",contact:"memberservices@kvcr.org"},{id:75,stripeAccountID:"acct_19ntTTFLdgo3S1p1",contact:"desiree.markham@enmu.edu"},{id:463,stripeAccountID:"acct_1JNzbTKgEAi8no40",contact:"membership@wkar.org"},{id:547,stripeAccountID:"acct_1Ge0GNEhnr8Vz8ZH",contact:"audiencecare@ctpublic.org"},{id:400,stripeAccountID:"acct_1JNghYJDsp515Hse",contact:"memberservices@wgcu.org"},{id:467,stripeAccountID:"acct_1EZfpPJh2dxysyAg",contact:"membership@wkno.org"},{id:47,stripeAccountID:"acct_19YjqpJNFmiwNcjg",contact:"membership@prairiepublic.org"},{id:619,stripeAccountID:"acct_1989sqG2dU2pkDq4",contact:"membership@wskg.org"},{id:388,stripeAccountID:"acct_18My0dGjgKd76FvW",contact:"membership@louisvillepublicmedia.org"},{id:402,stripeAccountID:"acct_1JhE4WIyjNIfOY78",contact:"contributorservices@wglt.org"},{id:339,stripeAccountID:"acct_1JpaJJJZZ9CFyocZ",contact:"wcbupeoria@ilstu.edu"},{id:273,stripeAccountID:"acct_1JYD8yGnjhqzDR51",contact:"kvprx@kvpr.org"},{id:88,stripeAccountID:"acct_1Jm129A7yZ4bVp3n",contact:"members@hawaiipublicradio.org"},{id:78,stripeAccountID:"acct_1JugcDInXNBRE4Qp",contact:"keramembership@kera.org"},{id:726,stripeAccountID:"acct_1Jtzm4IrU0nbu6Qw",contact:"wyso@wyso.org"},{id:55,stripeAccountID:"acct_1JelnMFiPt3AphJ8",contact:"membership@kcrw.com"},{id:238,stripeAccountID:"acct_1LhvTdDHj2wajF0A",contact:"friends@sdpb.org"},{id:239,stripeAccountID:"acct_1LhvTdDHj2wajF0A",contact:"friends@sdpb.org"},{id:169,stripeAccountID:"acct_1HkCsKFzjg1wArqD",contact:"membership@alaskapublic.org"},{id:362,stripeAccountID:"acct_1JtwRkBGNhtqhini",contact:"wekumembership@eku.edu"},{id:220,stripeAccountID:"acct_1GxHqlCRQ4BL6mI3",contact:"membership@houstonpublicmedia.org"},{id:466,stripeAccountID:"acct_1Kv3YQCQsTWffm3M",contact:"msu.wkms@murraystate.edu"},{id:673,stripeAccountID:"acct_1LQ9vHGu7wGEzblf",contact:"trish@wuwf.org"},{id:747,stripeAccountID:"acct_1LDyc9EGQYPS2ASn",contact:"lauri@aspenpublicradio.org"},{id:429,stripeAccountID:"acct_1LlCg6ISZv7ofkZG",contact:"memberservices@whqr.org"},{id:444,stripeAccountID:"acct_1LsAkaJKvrvHNMyu",contact:"publicradio@wiu.edu"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPONSORSHIP_INTERVAL=720},function(e,t,n){var a,r;
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */void 0===(r="function"==typeof(a=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}return function t(n){function a(t,r,o){var i;if(arguments.length>1){if("number"==typeof(o=e({path:"/"},a.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{i=JSON.stringify(r),/^[\{\[]/.test(i)&&(r=i)}catch(e){}return r=(r=encodeURIComponent(String(r))).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;c++){var d=u[c].split("="),f=d[0].replace(l,decodeURIComponent),p=d.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{if(p=n&&n(p,f)||p.replace(l,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===f){i=p;break}t||(i[f]=p)}catch(e){}}return i}return a.get=a.set=a,a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(t,n){a(t,"",e(n,{expires:-1}))},a.withConverter=t,a}()})?a.call(t,n,t,e):a)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PENDING="PENDING",t.UNKNOWN="UNKNOWN"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE=0,t.NEWSLETTER=1,t.STATION=2,t.PODCAST=3,t.DONATION=4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearHistoryRequested=function(){return{type:a.CLEAR_HISTORY_REQUESTED}},t.previousAudioPlayRequested=function(){return{type:a.PREVIOUS_AUDIO_PLAY_REQUESTED}},t.incrementAudioHistoryHead=function(){return{type:a.INCREMENT_AUDIO_HISTORY_HEAD}},t.historyItemsUnloaded=function(e){return{type:a.HISTORY_ITEMS_UNLOADED,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endOfStoryCalloutSeen=function(){return{type:a.END_OF_STORY_CALLOUT_SEEN}},t.endOfStoryDonationCalloutMetricsRequested=function(){return{type:a.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED}},t.endOfStoryDonationCalloutMetricsResolved=function(){return{type:a.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED}},t.mobileNativeDidStartLoadingPlaylist=function(e){return{type:a.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizedStationId=t.dataManagementPlatform=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=n(7),i=(a=o)&&a.__esModule?a:{default:a};var s="1 (NPR)",u=t.dataManagementPlatform=function(e){var t=e.getState;return function(e){return function(n){var a=e(n),o=t();return n.type!==r.GET_LOCAL_STATIONS_SUCCEEDED&&n.type!==r.GET_LOCAL_STATIONS_FAILED&&n.type!==r.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&n.type!==r.GET_LOCAL_STATIONS_SKIPPED||(s=(0,i.default)(o,"user.org.id"),document.dispatchEvent(new CustomEvent("npr:LocalizationCompleted"))),a}}};t.getLocalizedStationId=function(){return s};t.default=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEligibleForEmbeddedDonation=t.isBlockListedForDonation=t.isNationalStationStory=t.EMBEDDED_DONATION_BLOCK_LIST=t.getCalloutBodyClassBlocklist=void 0;var a,r=n(30),o=(a=r)&&a.__esModule?a:{default:a};var i=["about"],s=(t.getCalloutBodyClassBlocklist=function(){return i},t.EMBEDDED_DONATION_BLOCK_LIST=["tmplBlogNewsLiveIndex","tmplBlogMusicLiveIndex"]);t.isNationalStationStory=function(){var e=NPR.serverVars.publisherOrgId&&1!==Number.parseInt(NPR.serverVars.publisherOrgId,10),t=o.default.isLocalStoryPath(window.location);return e&&!t},t.isBlockListedForDonation=function(){var e=!1;return s.forEach((function(t){document.body.classList.contains(t)&&(e=!0)})),e},t.isEligibleForEmbeddedDonation=function(e){if(e.user.org.id){for(var t in e.donations.participatingStations)if(e.donations.participatingStations[t].id===e.user.org.id)return!0}else{if(e.localStations.stations){var n=e.donations.participatingStations.map((function(e){return e.id}));return e.localStations.stations.every((function(e){return n.includes(e)}))}if(e.localStations.localizationInfo&&e.localStations.localizationInfo.countryCode&&!["999","0","840"].includes(e.localStations.localizationInfo.countryCode))return!0}return!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=i(n(18)),r=i(n(30)),o=i(n(1267));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.create();s.name="search/faceting-param";var u=function(e){var t=document.getElementById("navigation_dropdown-search"),n=t.getAttribute("href");n=r.default.addUrlParameter(n,"refinementList["+e.facetName+"]",e.refinementValue),t.setAttribute("href",n)};s.onReady=function(){var e=NPR.serverVars.storyId,t=NPR.serverVars.aggIds;if(o.default[e])u(o.default[e]);else if(t){var n=t.find((function(e){return o.default[e]}));n&&u(o.default[n])}},s.onUnload=function(){document.getElementById("navigation_dropdown-search").setAttribute("href","/search")},s.register()},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={STATION_FINDER:"/stations/"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=s(r),i=(s(n(4)),n(210));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){n.props.isCardMessageHidden||n.props.audio.isCurrentAudio||"HOME_PAGE_NEWS"!==n.props.currentPage||n.props.handlers.onHPHideStationCardMessage(),n.props.handlers.onPlayPauseRequested(n.props.audio,{playedFrom:n.props.metricsPlayedFrom||""})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.handlers.onMetadataLoaded;"function"==typeof e&&(e(this.props.audio),this.props.handlers.onNowOnStreamsRegistrationRequested(this.props.audio)),this.props.handlers.onAudioModuleMounted()}},{key:"componentWillUnmount",value:function(){this.props.handlers.onNowOnStreamsUnregistrationRequested(this.props.audio)}},{key:"render",value:function(){var e=["audio-module-listen",this.props.audio.isPlaying?"is-playing":""],t=["audio-module-listen-icon",(0,i.getStreamPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)],n=this.props.listenCta?this.props.listenCta:this.props.forceStreamName?null:"Listen",a=this.props.nowPlayingLabel?this.props.nowPlayingLabel:"Now Playing";return o.default.createElement("div",{className:"audio-module-controls"},o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),n&&o.default.createElement("b",{className:"audio-module-listen-text"},o.default.createElement("b",{className:"audio-module-cta audio-module-cta--generic"},n),o.default.createElement("b",{className:"audio-module-cta audio-module-cta--display-title"},this.props.audio.title)))),this.props.forceStreamName&&o.default.createElement("div",{className:"audio-module-metadata"},o.default.createElement("h5",{className:"audio-module-metadata-label"},a),o.default.createElement("b",{className:"audio-module-metadata-text"},this.props.audio.title)))}}]),t}(r.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.shouldRenderLocation=function(e){if(!e)return!1;var t=!(0,r.default)("html").hasClass("has-page-engaged-player");switch(e){case u.STANDARD:return!i.default.isOnPhone()&&!i.default.isOnTablet()&&i.default.isScreenLargerOrEqual(i.default.BREAKPOINT.LARGE)&&t;case u.MLE_BANNER:case u.MAINSTAGE:case u.CENTERSTAGE:case u.BACKSTAGE:case u.PLAYER_PRIMARY:case u.PLAYER_LEAVEBEHIND:case u.PLAYER_POSTROLL:case u.SPICE_RACK:case u.PODCASTS_SHOWS_DIRECTORY_ONE:case u.PODCASTS_SHOWS_DIRECTORY_TWO:case u.SECONDARY:case u.THIRD:case u.OVERFLOW:return!0;case u.PLAYER_MOBILE_PRIMARY:return i.default.isScreenSmaller(i.default.BREAKPOINT.LARGE);default:return!1}},t.getSponsorshipMetadataFromHtml=h,t.checkForClickToPlaySponsorship=function(e,t){var n=(0,r.default)(".ad-"+e+" iframe:first"),i=(0,r.default)(n).get(0).contentDocument,s=i.querySelector("#sponsorship-data");if(!s){var u=i.querySelector("template");if(u){var d=u.content.firstChild.innerText,f=(new DOMParser).parseFromString(d,"text/html");s||(o.default.info("DFP: Util: Looking for sponsorship data in document fragment"),s=f.querySelector("#sponsorship-data"))}}if(s){o.default.info("DFP Util: Location: "+e+". Found valid sponsorship data.");var p=s.getAttribute("data-sponsorshipType"),m=h(s,p);p===l.CTP_CUSTOM_CHANNEL_OR_PODCAST?(0,c.loadCustomChannel)(a({},m,{sponsorshipSiteOverride:t}),e):p===l.CLICK_TO_PLAY_SOUNDSCAPES&&(0,c.loadSoundscapes)(m)}},t.deviceMotionEventCallback=function(e,t){var n={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},portrait:window.matchMedia("(orientation: portrait)").matches,landscape:window.matchMedia("(orientation: landscape)").matches,orientation:window.orientation},a=(0,r.default)(".ad-"+e+" iframe").get(0);a&&null!==a.contentWindow&&a.contentWindow.postMessage({type:"device-motion",events:n},"*")},t.resizeEventCallback=function(e,t){var n=(0,r.default)(".ad-"+e+" iframe").get(0);n&&null!==n.contentWindow&&n.contentWindow.postMessage({type:"resize",obj:{width:t.target.innerWidth,height:t.target.innerHeight}},"*")},t.isRenderedSlot=function(e,t,n){if(e===u.OVERFLOW)return t.startsWith("ad-"+u.OVERFLOW);return void 0!==n[e]&&t===n[e].slotElementId},t.addSponsorLanguage=function(e){var t=document.querySelector(".ad-header."+e);if(t)return t.classList.remove("hidden"),void document.querySelector(".ad-footer."+e).classList.remove("hidden");var n=(0,r.default)((0,r.default)(".ad-"+e).get(0)),a=document.createElement("div"),o=n.data("ad-config").borderClass;a.className="ad-header "+e+" "+o;var i=document.createElement("span");i.textContent="Sponsor Message",a.appendChild(i);var s=n.parent().get(0);(0,r.default)(a).insertBefore(s);var u=document.createElement("div");u.className="ad-footer "+e+" "+o,(0,r.default)(u).insertAfter(s)},t.removeSponsorLanguage=function(e){(0,r.default)("."+e+".ad-header").addClass("hidden"),(0,r.default)("."+e+".ad-footer").addClass("hidden")},t.receiveExpandMessage=function(e){var t=void 0,n=void 0;try{t=p.DomainRegex.exec(e.origin)[0],n=t.split(".")[1]+"."+t.split(".")[2],p.TrustedOrigins.some((function(e){return e.host===n}))&&e.data===p.ExpandMessage&&(e.source.postMessage(p.AckMessage,e.origin),(a=(0,r.default)("#"+e.slot.getSlotElementId())).find("div").width("100%"),a.find("iframe").width("100%"))}catch(e){o.default.warning("Problem receiving full-width roadblock message across iframe.",{},e)}var a},t.visibilityCheck=function(e){if(document.hidden)var t=setInterval((function(){"visible"===document.visibilityState&&(r.default.isFunction(e)&&e(),clearInterval(t))}),500);else r.default.isFunction(e)&&e()},t.getAdditionalTargeting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={sc:s.default.getUrlParameter("sc"),ft:s.default.getUrlParameter("ft"),utm_source:s.default.getUrlParameter("utm_source"),utm_medium:s.default.getUrlParameter("utm_medium")},n={orient:""};""!==e&&(n.ad_location_name=m(e));"string"==typeof t.sc&&t.sc.length>0?n.sc=t.sc:"string"==typeof document.referrer&&document.referrer.search("facebook.com")>-1?n.sc="fb":"string"==typeof t.ft&&(n.ft=t.ft);"string"==typeof t.utm_source&&t.utm_source.length>0&&(n.utm_source=t.utm_source);"string"==typeof t.utm_medium&&t.utm_medium.length>0&&(n.utm_medium=t.utm_medium);(i.default.isOnPhone()||i.default.isOnTablet())&&(0===window.orientation||180===window.orientation?n.orient="portrait":90!==window.orientation&&-90!==window.orientation||(n.orient="landscape"));return n},t.logSponsorship=function(e){if(!e||0===e.length)return void o.default.info("DFP: No ads configured");var t=e.map((function(e){return e.location}));o.default.info("DFP: Active ad locations "+JSON.stringify(t))};var r=f(n(6)),o=f(n(9)),i=f(n(126)),s=f(n(30)),u=d(n(101)),l=d(n(15)),c=n(222);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p={TrustedOrigins:[{host:"2mdn.net"}],ExpandMessage:"doExpand",AckMessage:"ack",DomainRegex:/(?:[\w-]+\.)+[\w-]+/};function h(e,t){var n={};return t===l.CTP_CUSTOM_CHANNEL_OR_PODCAST?n={channel:e.getAttribute("data-trackingChannel"),recommendationsChannelOrUid:e.getAttribute("data-recommendationsChannelOrUid")}:t!==l.CLICK_TO_PLAY_SOUNDSCAPES&&t!==l.SOUNDSCAPES||(n={audioUrl:e.getAttribute("data-supportedCustomAudioFileUrl"),type:l.SPONSORSHIP,subtype:e.getAttribute("data-sponsorshipType"),sponsorClickthrough:e.getAttribute("data-sponsorClickthrough"),primaryThemeColor:e.getAttribute("data-primaryThemeColor"),secondaryThemeColor:e.getAttribute("data-secondaryThemeColor"),uid:e.getAttribute("data-trackingChannel"),animationIframeUrl:e.getAttribute("data-animationIframeUrl")}),n}function m(e){return void 0!==u.CANONICAL_LOCATION_NAMES_MAP[e]?u.CANONICAL_LOCATION_NAMES_MAP[e]:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=E(r),i=(E(n(4)),n(14)),s=E(n(7)),u=_(n(24)),l=_(n(100)),c=_(n(128)),d=E(n(326)),f=E(n(526)),p=E(n(327)),h=E(n(172)),m=n(92),g=n(98),y=n(127),v=n(89);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,y.getBoundHandlers)(n,["onPlayPausePressed","onQueue","onAudioModuleMounted","onCountryRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onPlayPausePressed",value:function(e){this.props.dispatch(u.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onQueue",value:function(e){this.props.dispatch(l.queueButtonPressed(e,c.PAGE))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(u.audioModuleMounted())}},{key:"onCountryRequested",value:function(){this.props.dispatch(u.countryRequested())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];if(!e)return o.default.createElement(h.default,null);if(!1===e.available)return o.default.createElement(p.default,{message:e.unavailableText});var t=o.default.createElement(f.default,{handlers:this.handlers,audio:e,renderPlatform:this.props.renderPlatform,isSmallBreakpoint:this.props.isSmallBreakpoint,callToActionOverrideText:this.props.callToActionOverrideText});if(e.geofencedRegions&&e.geofencedRegions.length){var n=o.default.createElement(p.default,{message:"Audio unavailable in your region"});return o.default.createElement(d.default,{geofencedRegions:e.geofencedRegions,country:this.props.player.env.country,inside:t,outside:n,onCountryRequested:this.handlers.onCountryRequested})}return t}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{metadata:(0,g.getDerivedMetadata)(e),renderPlatform:(0,m.getRenderPlatform)(e),player:e.player,isSmallBreakpoint:(0,v.isSmallBreakpoint)(e)}}))(S),S.defaultProps={renderPlatform:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=s(r),i=(s(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(229)));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onCountryRequested;e.country===i.PENDING&&"function"==typeof t&&this.props.onCountryRequested()}},{key:"render",value:function(){var e=this.props,t=e.geofencedRegions,n=e.country,a=e.inside,r=e.outside;return n===i.PENDING?o.default.createElement("div",{style:{display:"none"}}):-1!==t.indexOf(n)?o.default.createElement("div",null,a):o.default.createElement("div",null,r)}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(2));r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.message;return a.default.createElement("div",{className:"audio-module-controls audio-unavailable"},a.default.createElement("b",{className:"audio-module-listen icn-play is-inactive"}),a.default.createElement("b",{className:"audio-availability-message"},t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecosystemDetected=function(e){return{type:a.ECOSYSTEM_DETECTED,payload:e}},t.pageDetected=function(e,t){return{type:a.PAGE_DETECTED,payload:{type:e,href:t}}},t.mobileNativeDetected=function(){return{type:a.MOBILE_NATIVE_DETECTED}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=l(r),i=(l(n(4)),l(n(7))),s=l(n(30)),u=l(n(72));l(n(468));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=(0,i.default)(this.props.org,"name"),t=(0,i.default)(this.props.org,"orgUrl"),n=(0,i.default)(this.props.org,"callLetters");if(!t||""===t)return o.default.createElement("b",{className:this.props.overrideClasses},this.props.children||e);var a={category:this.props.metricsCategory,action:"click station website",label:n},r=s.default.addUrlParameter(t,"utm_campaign",a.action);return r=s.default.addUrlParameter(r,"utm_term",a.category.replace(/ /g,"-")),o.default.createElement(u.default,{className:this.props.overrideClasses,href:r,metrics:a,onClickHandler:this.props.onClick,tabIndex:this.props.tabIndex},this.props.children||e)}}]),t}(r.Component);t.default=c,c.defaultProps={tabIndex:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=(o(n(4)),o(n(72)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.podcast;if(t){var n,o="callout callout--podcast callout--podcast-"+t.name,i=(t.name.toLowerCase().startsWith("the")?"Subscribe to":"Subscribe to the")+" "+((n=t.name)&&n.indexOf(" Podcast")>=0&&(n=n.replace(" Podcast","")),n+" Podcast"),s=t.itunesUrl,u=t.googlePodcastsUrl,l=t.rssUrl,c=t.nprOneUniversalUrl,d=t.amazonAlexaUrl,f=t.spotifyUrl,p=t.name?t.name.toLowerCase():"";return a.default.createElement("section",{className:o},a.default.createElement("div",{className:"callout__inner"},t.brandingUrl?a.default.createElement("div",{className:"callout__branding"},a.default.createElement("img",{className:"callout__branding-logo",src:t.brandingUrl,alt:"Podcast logo"})):"",a.default.createElement("div",{className:"callout__main"},a.default.createElement("h2",{className:"callout__header"},i),a.default.createElement("ul",{className:"callout__links"},c&&a.default.createElement("li",null,a.default.createElement(r.default,{href:c,className:"callout__link podcast-tools__item--NPR-one",metrics:{category:"podcast subscribe box",action:"click npr one universal",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"npr one",clickType:"podcast standard subscribe box"}},"NPR One")),s&&a.default.createElement("li",null,a.default.createElement(r.default,{href:s,className:"callout__link podcast-tools__item--apple-podcasts",metrics:{category:"podcast subscribe box",action:"click itunes",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"itunes",clickType:"podcast standard subscribe box"}},"Apple Podcasts")),f&&a.default.createElement("li",null,a.default.createElement(r.default,{href:f,className:"callout__link podcast-tools__item--spotify",metrics:{category:"podcast subscribe box",action:"click spotify",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"spotify",clickType:"podcast standard subscribe box"}},"Spotify")),u&&a.default.createElement("li",null,a.default.createElement(r.default,{href:u,className:"callout__link podcast-tools__item--google-podcasts",metrics:{category:"podcast subscribe box",action:"click google podcasts",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"google podcasts",clickType:"podcast standard subscribe box"}},"Google Podcasts")),d&&a.default.createElement("li",null,a.default.createElement(r.default,{href:d,className:"callout__link podcast-tools__item--amazon-alexa",metrics:{category:"podcast subscribe box",action:"click amazon alexa",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"amazon alexa",clickType:"podcast standard subscribe box"}},"Amazon Alexa")),l&&a.default.createElement("li",null,a.default.createElement(r.default,{href:l,className:"callout__link podcast-tools__item--rss",metrics:{category:"podcast subscribe box",action:"click rss",label:p},metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"rss",clickType:"podcast standard subscribe box"}},"RSS"))))))}}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){window.Modernizr=function(e,t,n){function r(e,t){return(void 0===e?"undefined":a(e))===t}function o(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var a in e){var r=e[a];if(!o(r,"-")&&m[r]!==n)return"pfx"!=t||r}return!1}function s(e,t,a){for(var o in e){var i=t[e[o]];if(i!==n)return!1===a?e[o]:r(i,"function")?i.bind(a||t):i}return!1}function u(e,t,n){var a=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+v.join(a+" ")+a).split(" ");return r(t,"string")||r(t,"undefined")?i(o,t):s(o=(e+" "+_.join(a+" ")+a).split(" "),t,n)}if(e.hasOwnProperty("Modernizr"))return e.Modernizr;var l,c,d={},f=t.documentElement,p="modernizr",h=t.createElement(p),m=h.style,g=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",v=y.split(" "),_=y.toLowerCase().split(" "),E={},S=[],b=S.slice,O=function(e,n,a,r){var o,i,s,u,l=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(a,10))for(;a--;)(s=t.createElement("div")).id=r?r[a]:p+(a+1),l.appendChild(s);return o=["&#173;",'<style id="s',p,'">',e,"</style>"].join(""),l.id=p,(c?l:d).innerHTML+=o,d.appendChild(l),c||(d.style.background="",d.style.overflow="hidden",u=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),i=n(l,e),c?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),f.style.overflow=u),!!i},T={}.hasOwnProperty;for(var P in c=r(T,"undefined")||r(T.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1),a=function a(){if(this instanceof a){var r=function(){};r.prototype=t.prototype;var o=new r,i=t.apply(o,n.concat(b.call(arguments)));return Object(i)===i?i:o}return t.apply(e,n.concat(b.call(arguments)))};return a}),E.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:O(["@media (",g.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},E.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in f.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},E.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},E.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},E)c(E,P)&&(l=P.toLowerCase(),d[l]=E[P](),S.push((d[l]?"":"no-")+l));return d.addTest=function(e,t){if("object"==(void 0===e?"undefined":a(e)))for(var r in e)c(e,r)&&d.addTest(r,e[r]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,d[e]=t}return d},function(e){m.cssText=e}(""),h=null,d._version="2.8.3",d._prefixes=g,d._domPrefixes=_,d._cssomPrefixes=v,d.mq=function(t){var n,a=e.matchMedia||e.msMatchMedia;return a?a(t)&&a(t).matches||!1:(O("@media "+t+" { #"+p+" { position: absolute; } }",(function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position})),n)},d.testProp=function(e){return i([e])},d.testAllProps=u,d.testStyles=O,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),d}(this,this.document),function(e,t){function n(e,t){var n=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",a.insertBefore(n.lastChild,a.firstChild)}function a(){var e=E.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=_[e[y]];return t||(t={},v++,e[y]=v,_[v]=t),t}function o(e,n,a){return n||(n=t),p?n.createElement(e):(a||(a=r(n)),!(o=a.cache[e]?a.cache[e].cloneNode():g.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e)).canHaveChildren||m.test(e)||o.tagUrn?o:a.frag.appendChild(o));var o}function i(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return E.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/\w+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(E,t.frag)}function s(e){e||(e=t);var a=r(e);return E.shivCSS&&!f&&!a.hasCSS&&(a.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||i(e,a),e}function u(e){for(var t,n=e.getElementsByTagName("*"),r=n.length,o=RegExp("^(?:"+a().join("|")+")$","i"),i=[];r--;)t=n[r],o.test(t.nodeName)&&i.push(t.applyElement(l(t)));return i}function l(e){for(var t,n=e.attributes,a=n.length,r=e.ownerDocument.createElement(b+":"+e.nodeName);a--;)(t=n[a]).specified&&r.setAttribute(t.nodeName,t.nodeValue);return r.style.cssText=e.style.cssText,r}function c(e){for(var t,n=e.split("{"),r=n.length,o=RegExp("(^|[\\s,>+~])("+a().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),i="$1"+b+"\\:$2";r--;)(t=n[r]=n[r].split("}"))[t.length-1]=t[t.length-1].replace(o,i),n[r]=t.join("}");return n.join("{")}function d(e){function t(){clearTimeout(i._removeSheetTimer),a&&a.removeNode(!0),a=null}var a,o,i=r(e),s=e.namespaces,l=e.parentWindow;return!O||e.printShived||(void 0===s[b]&&s.add(b),l.attachEvent("onbeforeprint",(function(){t();for(var r,i,s,l=e.styleSheets,d=[],f=l.length,p=Array(f);f--;)p[f]=l[f];for(;s=p.pop();)if(!s.disabled&&S.test(s.media)){try{i=(r=s.imports).length}catch(e){i=0}for(f=0;i>f;f++)p.push(r[f]);try{d.push(s.cssText)}catch(e){}}d=c(d.reverse().join("")),o=u(e),a=n(e,d)})),l.attachEvent("onafterprint",(function(){(function(e){for(var t=e.length;t--;)e[t].removeNode()})(o),clearTimeout(i._removeSheetTimer),i._removeSheetTimer=setTimeout(t,500)})),e.printShived=!0),e}var f,p,h=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,y="_html5shiv",v=0,_={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",f="hidden"in e,p=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){f=!0,p=!0}}();var E={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==h.shivCSS,supportsUnknownElements:p,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:s,createElement:o,createDocumentFragment:function(e,n){if(e||(e=t),p)return e.createDocumentFragment();for(var o=(n=n||r(e)).frag.cloneNode(),i=0,s=a(),u=s.length;u>i;i++)o.createElement(s[i]);return o}};e.html5=E,s(t);var S=/^$|\b(?:all|print)\b/,b="html5shiv",O=!p&&function(){var n=t.documentElement;return void 0!==t.namespaces&&void 0!==t.parentWindow&&void 0!==n.applyElement&&void 0!==n.removeNode&&void 0!==e.attachEvent}();E.type+=" print",E.shivPrint=d,d(t)}(this,document),e.exports=Modernizr}).call(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={stationSearchRequested:function(e){return{type:a.STATION_SEARCH_REQUESTED,payload:{term:e}}},stationSearchResultsLoaded:function(e,t){return{type:a.STATION_SEARCH_RESULTS_LOADED,payload:{term:e,results:t}}},stationSearchFailed:function(){return{type:a.STATION_SEARCH_FAILED}},userSelectsStation:function(e){return{type:a.USER_SELECTS_STATION,payload:{id:e}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(37)),r=o(n(45));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i={},s={id:"WBEZ",organizationId:a.WBEZ,enabled:!1,logo:"//media.npr.org/images/stations/nprone_logos/wbez.png",url:r.PROXY_CDN_HOST+"/proxy/stations/newsletter/subscribe/"+a.WBEZ,emailFieldName:"EmailAddress",marketingHeader:"Chicagos NPR News Station delivers local news to your inbox",shortDescription:"Sign up for <em>The Rundown</em>, WBEZs daily newsletter and get the latest news and local views directly from your NPR station.",termsText:'By subscribing, you agree that your email address will be collected and used by Chicago Public Media, and you agree to its <a href="https://www.chicagopublicmedia.org/terms-use#">Terms of Use</a> and <a href="https://www.chicagopublicmedia.org/privacy-policy">Privacy Policy</a>.',hiddenFields:[{value:"100024864",name:"_clientID"},{value:"NPR_Daily_Rundown_Signup",name:"_deExternalKey"},{value:"add",name:"_action"},{id:"field1",value:"DIGITAL-NPR-STORY",name:"Most_Recent_Acquisition_Campaign"},{value:"0",name:"_returnXML"},{value:"http://example.com/Failed",name:"_errorURL"},{value:"https://www.npr.org/",name:"_successURL"}],hiddenFieldsRightRail:[{value:"100024864",name:"_clientID"},{value:"WWDTM_Ticket_Giveaway_Web",name:"_deExternalKey"},{value:"add",name:"_action"},{id:"field1",value:"DIGITAL-SWEEPSTAKES-WWDTM-NPR",name:"Most_Recent_Acquisition_Campaign"},{value:"0",name:"_returnXML"},{value:"http://example.com/Failed",name:"_errorURL"},{value:"https://www.npr.org/",name:"_successURL"}]},u={id:"WAMU",organizationId:a.WAMU,enabled:!0,logo:"//media.npr.org/images/stations/nprone_logos/wamu_fm.png",url:r.PROXY_CDN_HOST+"/proxy/stations/newsletter/subscribe/"+a.WAMU,emailFieldName:"EmailAddress",marketingHeader:"Sign Up For DCists Daily Newsletter.",shortDescription:"Get the latest local news, culture, and curiosities in your inbox every weekday afternoon, from WAMU and DCist.",termsText:'By subscribing, you agree that your email address will be collected and used by WAMU, and you agree to its <a href="https://dcist.com/terms-of-use/">Terms of Use</a> and <a href=https://wamu.org/privacy/>Privacy Policy</a>.'};i[a.WAMU]=u,i[a.WBEZ]=s,i[a.WBEZ_STATION]=s,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(6)),r=l(n(9)),o=l(n(569)),i=l(n(570)),s=l(n(46)),u=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}n(572);var c=h(),d="",f=['meta[name="date"]','meta[name="description"]','link[rel="canonical"]','link[rel="alternate"]','meta[property^="og:"]','meta[property^="fb:"]','meta[name^="twitter:"]'];a.default.pjax.defaults.timeout=6e4,a.default.pjax.defaults.fragment="main",a.default.pjax.defaults.maxCacheLength=0;var p=s.default.getSessionInfo();function h(){return new a.default.Deferred}function m(e){i.default.progress(10),a.default.pjax({url:e,container:"main"})}s.default.isMobileNativeApp(p.renderPlatform)||((0,a.default)(document).on("submit","form.pjaxForm",(function(e){return r.default.info("Handling pjax form submission"),a.default.pjax.submit(e,"main"),!1})),(0,a.default)(document).on("click","a[href]:not([data-pjax-exempt])",(function(e){var t=e.currentTarget;if(r.default.info("Handling click",t.href),o.default.isNavigationEvent(e,location,t)){if(r.default.info("Navigation event detected",t.href),o.default.shouldOpenInNewTab(e,location,t))r.default.info("Opening link in new tab",t.href),window.open(t.href);else{if(o.default.isExemptFromPersistentNavigation(t.href))return r.default.info("Url is exempt from pjax navigation.",t.href),!0;if(e.currentTarget.classList.contains("reload-page"))return r.default.info("Url is exempt from pjax navigation.",t.href),!0;r.default.info("Beginning pjax navigation",t.href),m(u.default.mirrorProtocolAndSubDomain(location,t))}return!1}}))),(0,a.default)(document).on("pjax:send",(function(e,t,n){r.default.info("pjax:send"),i.default.deactivateMainContentArea(),i.default.progress(20);var a=document.createEvent("Event");a.initEvent("npr:pageUnload",!0,!0),document.dispatchEvent(a),c=h()})),(0,a.default)(document).on("pjax:beforeReplace",(function(e,t,n,o,s){r.default.info("pjax:beforeReplace"),i.default.progress(50);var u=(0,a.default)("head"),l=(0,a.default)("body"),c=(0,a.default)(a.default.parseHTML(n.responseText)),p=c.filter('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,a.default)(t).attr("href")})).toArray(),h=u.find('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,a.default)(t).attr("href")})).toArray(),m=(0,a.default)(),g=[];h.forEach((function(e){if(-1===p.indexOf(e)||-1!==e.indexOf("canary")){var t=(0,a.default)('link[rel="stylesheet"][href="'+e+'"]');m=m.add(t)}})),p.forEach((function(e){-1!==h.indexOf(e)&&-1===e.indexOf("canary")||g.push(e)}));var y=n.responseText.match(/<body .*?>/)[0],v=y.match(/id="(.*?)"/)[1],_=y.match(/class="(.*?)"/)[1],E=y.match(/data-pjax-modules="(.*?)"/)[1];delete window.NPR.ServerConstants,delete window.NPR.serverVars,u.find("#npr-vars").remove();var S=n.responseText.match(/<script id="npr-vars"[\s\S]*?<\/script>/)[0];(0,a.default)(S).appendTo(u),NPR&&NPR.serverVars&&NPR.serverVars.persistenceVersion!==d&&location.reload();var b=!0,O=!1,T=void 0;try{for(var P,A=f[Symbol.iterator]();!(b=(P=A.next()).done);b=!0){var w=P.value;u.find(w).remove(),u.append(c.filter(w))}}catch(e){O=!0,T=e}finally{try{!b&&A.return&&A.return()}finally{if(O)throw T}}g.length>0?(r.default.info("Loading new stylesheets",g),i.default.progress(75),(0,a.default)("main").html(""),l.attr("id",v).attr("class",_).data("pjax-modules",E),m.remove(),function(e){a.default.each(e,(function(e,t){(0,a.default)("<link>",{rel:"stylesheet",href:t}).appendTo("head")}));var t=new a.default.Deferred,n=document.createElement("a");n.id="pjax-css-loaded",n.style.display="none",(0,a.default)("body").append(n);var o=(0,a.default)("#pjax-css-loaded");r.default.info("Setting interval to watch for CSS canary");var i=setInterval((function(){"cell"===o.css("cursor")&&(r.default.info("CSS canary detected; clearing interval"),o.remove(),clearInterval(i),t.resolve())}),35);return t.promise()}(g).done((function(){r.default.info("New stylesheets loaded"),i.default.progress(90),s()}))):(r.default.info("No new stylesheets to load"),l.attr("id",v).attr("class",_).data("pjax-modules",E),m.remove(),i.default.progress(90),s()),(0,a.default)(document).trigger("npr:pageReceived")})),(0,a.default)(document).on("pjax:success",(function(e,t,n,a,o){r.default.info("pjax:success"),i.default.progress(100);var s=document.createEvent("Event");s.initEvent("npr:pageLoad",!0,!0),document.dispatchEvent(s),c.resolve()})),(0,a.default)(document).on("pjax:complete",(function(e,t,n,a){i.default.activateMainContentArea()})),(0,a.default)(document).ready((function(){r.default.info("$(document).ready(): "+document.location.href),d=NPR.serverVars.persistenceVersion,(0,a.default)(document).trigger("npr:pageLoad"),c.resolve()})),t.default={getPromise:function(){return c.promise()},navigateTo:m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={storyPageDetected:function(e){return{type:a.STORY_PAGE_DETECTED,payload:{storyId:e}}},endOfStoryRecommendationRequested:function(e){return{type:a.END_OF_STORY_RECOMMENDATION_REQUESTED,payload:{storyId:e}}},endOfStoryRecommendationCompleted:function(e){return{type:a.END_OF_STORY_RECOMMENDATION_COMPLETED,payload:{recommendations:e}}},endOfStoryRecommendationFailed:function(){return{type:a.END_OF_STORY_RECOMMENDATION_FAILED}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE_NATIVE_APP="mobileNativeApp",t.LISTEN_LATER="listenLater",t.NPR_ONE_IOS="nprone_ios",t.NPR_ONE_ANDROID="nprone_android",t.NPR_NEWS_IOS="nprnews_ios"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeFeaturedAudioRequested=function(e,t,n){return{type:a.INITIALIZE_FEATURED_AUDIO_REQUESTED,payload:{featuredAudioProgramUid:e,featuredAudioText:t,featuredAudioImage:n}}},t.initializeFeaturedAudioSucceded=function(e,t,n,r){return{type:a.INITIALIZE_FEATURED_AUDIO_SUCCEEDED,payload:{featuredAudioProgramUid:e,featuredAudioUid:t,featuredAudioText:n,featuredAudioImage:r}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plusDataLoaded=function(e){return{type:a.USER_PLUS_DATA_LOADED,payload:e}},t.localizationResponseReceived=function(e){return{type:a.LOCALIZATION_RESPONSE_RECEIVED,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6),o=(a=r)&&a.__esModule?a:{default:a};t.default={fireScrollOffsetReset:function(){(0,o.default)(document).trigger("npr:fireScrollOffsetReset")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(37));t.default=[a.WAMU,a.WAMU_OC]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsGlobalAlertLastSeenToday=void 0;var a=n(181),r=n(107);t.getIsGlobalAlertLastSeenToday=(0,a.createSelector)([function(e){return e.globalAlerts}],(function(e){return null!==e.globalAlertLastDisplayed&&new Date(e.globalAlertLastDisplayed).toDateString()===new Date(r.currentDay).toDateString()}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BEST_OF_NPR="best-of-npr",t.MUSIC="music",t.EMAIL_SOURCE="npr_newsletter",t.DEFAULT_NEWSLETTERS=["news","breaking-news","best-of-npr"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.centerStageAdStatusDetermined=t.onPageCalloutDeterminationSucceeded=t.onPageCalloutDeterminationRequested=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.onPageCalloutDeterminationRequested=function(){return{type:a.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED}},t.onPageCalloutDeterminationSucceeded=function(e,t){return{type:a.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED,payload:{centerStageVariant:e,endOfStoryVariant:t}}},t.centerStageAdStatusDetermined=function(e){return{type:a.CENTER_STAGE_AD_STATUS_DETERMINED,payload:{calloutType:e}}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(623)),r=s(n(624)),o=s(n(46)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));function s(e){return e&&e.__esModule?e:{default:e}}var u={injected:!1,ecommercePluginInitialized:!1,package:null,callMethod:function(e,t){if(i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)){if(u.injectAnalytics(),!u.package||void 0===u.package[e])throw new RangeError("Method "+e+" not defined on analytics.package");u.package[e].apply(null,t)}},injectAnalytics:function(){if(!u.injected){u.injected=!0;var e=o.default.getSessionInfo();o.default.isMobileNativeApp(e.renderPlatform)?u.package=r.default:u.package=a.default,u.callMethod("init",[])}},setCustomDimensions:function(e){u.callMethod("setCustomDimensions",[e])},eventDefault:function(e,t,n,a,r){u.callMethod("eventDefault",[e,t,n,a,r])},eventSocial:function(e,t,n,a){u.callMethod("eventSocial",[e,t,n,a])},trackPageview:function(e){u.callMethod("trackPageview",[e])},eventWithCustomMetric:function(e,t,n,a,r,o){u.callMethod("eventWithCustomMetric",[e,t,n,a,r,o])},eventEcommerce:function(e,t,n,a,r,o){u.ecommercePluginInitialized||(u.callMethod("requireEcommerce"),u.ecommercePluginInitialized=!0),u.callMethod("ecommerceAddTransaction",[{id:e,revenue:t}]),u.callMethod("ecommerceAddItem",[{id:e,name:n,category:a,price:r,quantity:o}]),u.callMethod("ecommerceSend")}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LISTEN="listen now",t.QUEUE="add to queue",t.LEAVE_BEHIND_LISTEN="leavebehind listen",t.LEAVE_BEHIND_QUEUE="leavebehind queue"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["{","}"],a=e;return t.forEach((function(t,r){a=e.replace(n[0]+r+n[1],t)})),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FIFTEEN_SECONDS:15e3,TWENTY_SECONDS:2e4,ONE_MINUTE:6e4,ONE_HOUR:36e5}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(618)),r=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}function i(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function s(e){if(i())return window.localStorage.getItem(e);throw new a.default("localStorage is not supported on this browser.")}t.default={isSupported:i,get:s,set:function(e,t){if(!i())throw new a.default("localStorage is not supported on this browser.");try{window.localStorage.setItem(e,t)}catch(e){r.default.warning("localStorage.setItem failed: may be full",{},e)}},isSet:function(e){if(i())return null!==s(e);throw new a.default("localStorage is not supported on this browser.")},remove:function(e){if(!i())throw new a.default("localStorage is not supported on this browser.");window.localStorage.removeItem(e)},clear:function(){if(!i())throw new a.default("localStorage is not supported on this browser.");window.localStorage.clear()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(7),o=(a=r)&&a.__esModule?a:{default:a};t.default={Names:{audioButtonPressed:"audioButtonPressed",playAllButtonPressed:"playAllButtonPressed",playlistButtonPressed:"playlistButtonPressed",pageLoaded:"pageLoaded",gaEvent:"gaEvent",gaScreen:"gaScreen"},sendBridgeObject:function(e,t){var n={name:e,attributes:t},a=JSON.stringify(n);"undefined"!=typeof webPlayerInterface&&webPlayerInterface.bridge(a),(0,o.default)(window,"webkit.messageHandlers.bridge.postMessage")&&window.webkit.messageHandlers.bridge.postMessage(a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lowerTheCase=t.getFormattedCurrDate=t.getReferrer=t.processFirstAudioListen=t.buildPageviewCustomDimensions=void 0;var a=d(n(6)),r=d(n(106)),o=d(n(351)),i=d(n(30)),s=d(n(354)),u=n(88),l=d(n(154)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));function d(e){return e&&e.__esModule?e:{default:e}}var f=!1,p=!1;function h(e){return"string"==typeof e?e.toLowerCase():e}function m(){var e=new Date;return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)}function g(e,t){return e||(""===t?"direct":t)}function y(e){return void 0===e?"NULL":e}t.buildPageviewCustomDimensions=function(e){var t,n,d,v,_={dimension1:void 0,dimension2:void 0,dimension3:void 0,dimension4:void 0,dimension5:void 0,dimension6:void 0,dimension7:void 0,dimension8:void 0,dimension9:void 0,dimension10:void 0,dimension11:void 0,dimension12:void 0,dimension13:void 0,dimension14:void 0,dimension15:void 0,dimension16:void 0,dimension17:void 0,dimension18:void 0,dimension19:void 0,dimension20:void 0,dimension21:void 0,dimension22:void 0,dimension23:void 0,dimension24:void 0,dimension25:void 0,dimension39:void 0,dimension40:void 0,dimension41:void 0,dimension42:void 0,dimension43:void 0,dimension44:void 0,dimension51:void 0,dimension52:void 0,dimension53:void 0},E=m(),S="undefined"!==e.pageTypeId?e.pageTypeId:"",b=parseInt(S,10);if([s.default.WEB_FEATURES,s.default.PODCAST_EPISODE].includes(b)&&(_.dimension1=y(e.storyId),_.dimension7=y(e.tagIds),_.dimension8=y(e.byline),_.dimension9=y(e.contentPartnerOrg),_.dimension10=y(e.pubDate),_.dimension22=y(e.storyTitle),_.dimension25=y(e.distributedContentPartner),_.dimension39=y(e.publisherOrgId)),_.dimension2=y(e.topicIds),_.dimension3=y(e.primaryTopic),_.dimension4=y(e.theme),_.dimension5=y(e.programId),_.dimension6=y(e.aggIds),_.dimension11=y(e.pageTypeId),p||(_.dimension26="not active - collapsed",p=!0),e.homePageMetrics&&(_.dimension41=y(e.homePageMetrics)),_.dimension43=e.isLocalStationStory||"false",f||(_.dimension14=e.localizedStation,_.dimension15=e.favoriteStation,_.dimension40=e.localizedStationId,_.dimension51=(0,u.getTimezone)(),_.dimension53=e.localizationConfidenceInterval,_.dimension23=90===window.orientation||-90===window.orientation?"landscape":"portrait",_.dimension24="ontouchstart"in document.documentElement?"Touch":"Traditional"),o.default.isSupported()&&c.hasConsentedTo(c.PERFORMANCE_AND_ANALYTICS)){if("true"!==e.isLoggedIn||f&&e.isLoggedIn===o.default.get("isLoggedIn"))o.default.set("isLoggedIn","false");else{_.dimension20=e.isLoggedIn,o.default.set("isLoggedIn",e.isLoggedIn);var O=(new l.default).getUserId();_.dimension52=O}if(o.default.isSet("isRegistered")||"true"===e.isRegistered&&(o.default.set("isRegistered","true"),_.dimension19="true",o.default.set("regDate",E),_.dimension21=E),!o.default.isSet("originalReferrer")){var T=g(i.default.getUrlParameter("utm_source"),i.default.extractDomain(document.referrer));_.dimension12=T,o.default.set("originalReferrer",T)}if(!o.default.isSet("originalLandingPage")){var P=i.default.extractDomainAndPath(document.URL);_.dimension13=P,o.default.set("originalLandingPage",P)}if(o.default.isSet("firstVisitDate")){if(!f){var A=(t=o.default.get("firstVisitDate"),n=new Date(Number(t.substr(0,4)),Number(t.substr(4,2)),Number(t.substr(6,2))),d=new Date,v=new Date(d.getFullYear(),d.getMonth()+1,d.getDate()),Math.round(Math.abs((v.getTime()-n.getTime())/864e5)).toString());_.dimension17=A,o.default.set("daysSinceFirstVisit",A)}}else _.dimension18=E,o.default.set("firstVisitDate",E),o.default.set("daysSinceFirstVisit",0)}else _.dimension20=e.isLoggedIn,_.dimension19=e.isRegistered;if(window.NPR.serverVars.experimentMetrics&&window.NPR.serverVars.experimentMetrics.constructor===Array){var w=window.NPR.serverVars.experimentMetrics.map((function(e){var t=e[0],n=e[1],r=e[2],o=(0,a.default)("article.hp-item:not(.attachment):visible").index((0,a.default)("#story"+r+n))+1;return"E"+t+n+(o=o<10?"0"+o:o)}));_.dimension37=w.join(",")}else f||(_.dimension37=void 0);return _.dimension44=(!!document.querySelector(".is-DACS-only")).toString(),f=!0,_=(0,r.default)(_,(function(e){return h(e)}))},t.processFirstAudioListen=function(){var e={};return o.default.isSupported()?"true"!==o.default.get("hasListenedToAudio")&&(o.default.set("hasListenedToAudio","true"),e.dimension16="true"):e.dimension16="true",e=(0,r.default)(e,(function(e){return h(e)}))},t.getReferrer=g,t.getFormattedCurrDate=m,t.lowerTheCase=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={WEB_FEATURES:1,TOPIC_MAIN_PAGE:2,PROGRAM_MAIN_PAGE:4,SERIES_MAIN_PAGE:6,BIO_PAGE:7,PODCAST_PAGE:9,BLOG:13,SUB_SERIES:14,PODCAST_EPISODE:15,ARTIST:17,GENRE:18,PROGRAM_ABOUT:19,SUPERSERIES:20,COLLECTION:21,TAG:24,CATEGORY:25,BOOK:26,AUTHOR:27,BOOK_GENRE:28,PROGRAM_SEGMENT:31,PROGRAM_EPISODE:32}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewscastLabel=p,t.getStreamLabel=h,t.getSegmentLabel=m,t.getPercentage=function(e,t){return void 0===e?0:Math.floor(100/t*e)},t.getNextAudioPingTime=function(e){var t=void 0;t=e<30?e+15:30===e?e+30:e<300?e+60:e+300;return t},t.getNextPercentComplete=function(e){if(e>=0&&e<25)return 25;if(e>=25&&e<50)return 50;if(e>=50&&e<75)return 75},t.shouldSendSoundscapesHeartbeat=function(e,t){var n=_(e);return(0,i.isSoundscapes)(n.subtype)&&e.player.position>=t&&0!==t},t.getNextSoundscapesHeartbeat=function(e){return e+15},t.getNextSoundscapesHeartbeatFromPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 15*Math.ceil(e/15)},t.getPingNameFromTime=function(e){var t=void 0;t=e<60?Math.floor(e)+" sec ping":Math.floor(e/60)+" min ping";return t},t.getCommonMetrics=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{category:e,action:t,label:n}},t.getSponsorMetrics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{category:"player sponsorship",action:e,label:t}},t.getPlayedFrom=g,t.getSponsorshipAudioCustomDimensions=function(e){return{dimension30:e.uid,dimension34:String(Math.round(e.duration))}},t.getSegmentAudioCustomDimensions=y,t.getStreamAudioCustomDimensions=v,t.getCustomDimensions=function(e,t,n,a){var o={};e===r.SEGMENT?o=y(t,n,a):e===r.STREAM&&(o=v(t,a));return o},t.createPaneLabel=function(e){var t=void 0;switch(e){case s.NEWSCAST:t=e.replace(/_/g," ").toLowerCase();break;case s.ON_DEMAND:t="playlist";break;case s.STREAMING:t="listen live"}return t+" pane"},t.getAudioMetadata=_,t.getLabel=E,t.getMetricsPlayerState=function(e){var t="";t=!e.player.isExpanded||!e.player.userEverInvokedPlay&&(!(0,c.getConstructedQueue)(e)||(0,c.getConstructedQueue)(e).length<1)&&e.player.env.breakpoint===u.LARGE?"collapsed":"expanded";return t};var a,r=f(n(15)),o=n(156),i=n(103),s=f(n(104)),u=f(n(22)),l=(f(n(180)),f(n(88))),c=n(25),d=n(237);(a=d)&&a.__esModule;function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){var t=e,n="",a="",r=e.match(/^(.*)\sNewscast\s:\s([0-9:]{4,5}\s[AP]M)$/);return r&&(a=(n=l.convertTimeStringTo24Hours(r[2])).substr(0,n.indexOf(":")),t="NPR"===r[1]?"newscast-npr-"+a:"newscast-"+r[1]+"-"+a),t}function h(e){return""+(e.subtype===r.STREAM_STATION?"station-":"npr-")+(e.orgId&&1!==e.orgId?e.orgId+"-":"")+e.title}function m(e){switch(e.subtype){case r.SEGMENT_NEWSCAST:return p(e.title);default:return(0,o.getStoryIdFromUid)(e.uid)}}function g(e,t){var n=void 0;return e.channel&&t.trackSponsorshipPlayedFrom?n="from sponsored selection - "+e.channel:t&&t.playedFrom&&(n=t.playedFrom),n}function y(e,t,n){var a={},i=e.uid,s=void 0,u=void 0,l=g(e,n);switch(e.subtype){case r.SEGMENT_NEWSCAST:s=p(e.title);break;default:s=(0,o.getStoryIdFromUid)(i),u=(0,o.getMediaIdFromUid)(i)}return a.dimension28=s,a.dimension29=u,a.dimension30=e.title,a.dimension31=e.program,e.affiliation?a.dimension32=e.affiliation:e.orgId&&(a.dimension32=String(e.orgId)),a.dimension33=t?t.toLowerCase():"news",a.dimension34=String(Math.round(e.duration)),l&&(a.dimension35=l),a}function v(e,t){var n={},a=g(e,t);return n.dimension36=E(e),a&&(n.dimension35=a),n}function _(e,t){var n=t||e.player.currentUid;return e.metadata[n]}function E(e){var t="";switch(e.type){case r.SEGMENT:t=m(e);break;case r.STREAM:t=h(e);break;case r.SPONSORSHIP:t=e.uid}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={hpLocalStoriesRequested:function(e){return{type:a.HP_LOCAL_STORIES_REQUESTED,payload:e}},hpLocalStoriesSucceeded:function(e,t){return{type:a.HP_LOCAL_STORIES_SUCCEEDED,payload:{orgId:e,stories:t}}},hpLocalStoriesFailed:function(e){return{type:a.HP_LOCAL_STORIES_FAILED,payload:e}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=u(r),i=(u(n(4)),u(n(7))),s=u(n(329));u(n(487));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=(0,i.default)(this.props.org,"name"),t=((0,i.default)(this.props.org,"callLetters"),(0,i.default)(this.props.org,"logoUrl")),n=(0,i.default)(this.props.org,"smallLogoUrl"),a=t||n,r=a&&""!==a;if(this.props.isYourStation&&!r)return null;var u=r?o.default.createElement("img",{src:a,alt:"Station Logo"}):o.default.createElement("b",null,e);return o.default.createElement(s.default,{metricsCategory:this.props.metricsCategory,org:this.props.org,overrideClasses:this.props.overrideClasses||"station__logo",tabIndex:this.props.tabIndex},u)}}]),t}(r.Component);t.default=l,l.defaultProps={tabIndex:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=u(r),i=(u(n(4)),u(n(322))),s=u(n(72));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return o.default.createElement(s.default,{className:this.props.overrideClasses||"station__link station__link--change",href:i.default.STATION_FINDER,metrics:{category:this.props.metricsCategory,action:"click find station",label:"#"},onClickHandler:this.props.onClick},this.props.overrideText||"Set station")}}]),t}(r.Component);t.default=l},function(e,t,n){"use strict";(function(e){var a,r,o,i=n(9),s=(o=i)&&o.__esModule?o:{default:o};a=[n(6),n(18)],void 0===(r=function(e,t){var n=t.create();n.name="images/lazy-load";var a=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;function r(){var t,n;e("source.lazyOnLoad, img.lazyOnLoad").each((function(){try{var t=e(this),n=t.data("original"),r=t.data("template"),i=t.data("format"),u=(c=[],e.each([".imagewrap",".bucketwrap"],(function(e,n){var a=t.closest(n);if(a.length>0)return c=a.get(0),!1})),e(c)),l=function(e){var t=e*(a?2:1);if(t<100)return 100;if(t>3e3)return 3e3;return 100*Math.ceil(t/100)}(u.length>0?u.width():t.width());r?n=function(e,t,n,a,r){t.indexOf("{width}")>=0&&n&&(t=t.replace("{width}",n));t.indexOf("{quality}")>=0&&a&&(t=t.replace("{quality}",a));t.indexOf("{format}")>=0&&r&&(t=t.replace("{format}",r));return t}(0,r,l,85,i):(n=o(n,"s",l),n=o(n,"c",85)),e(this).attr("data-original",n)}catch(e){s.default.error(e)}var c})),t=function(){e(this).hide(),"source"===this.nodeName.toLowerCase()?e(this).attr("srcset",e(this).attr("data-original")):e(this).attr("src",e(this).attr("data-original")),e(this).show()},n=e("div[id^='slideshow__gallery--']"),e(n).each((function(){var n,a,r,o,i,s=e(this);a=(n=s).find(".slideshow__button--forward, .slideshow__button--back, .slideshow__button--fullscreen"),r=function(){e(n).trigger("interaction"),i()},o=function(e){e.preventDefault(),r()},i=function(){a.off("click",o),n.off("click",o),n.off("tap touchstart",r)},a.click(o),n.on("click",o),n.on("tap touchstart",r);var u=s.find("li:nth-child(n+4) img, li:nth-child(n+4) source");s.bind("interaction",(function(){e(u).each((function(){t.apply(this)}))})),e(u).each((function(){e(this).removeClass("lazyOnLoad")}))})),e("source.lazyOnLoad, img.lazyOnLoad").each((function(){try{e(this).attr("src")?e(this).attr("src",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad"):e(this).attr("srcset")&&e(this).attr("srcset",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad")}catch(e){s.default.error(e)}}))}function o(e,t,n){var a=document.createElement("a");a.href=e;var r=a.pathname;if(n){for(var o=r.substring(0,r.lastIndexOf(".")),i=r.substring(r.lastIndexOf(".")),s=o.split("-"),u=null,l=1;l<s.length;l++){var c=s[l];if(0===c.indexOf(t)&&c.length>1&&c.length<6){var d=c.substring(1);isNaN(d)||(u=c)}}r=u?r.replace("-"+u,"-"+t+n):o+"-"+t+n+i}var f=r.replace(/^\/*/g,"");return"//"+a.hostname+"/"+f}return n.onReady=function(){r(),e(document).on("infiniteScrollComplete",r)},n.onUnload=function(){e(document).off("infiniteScrollComplete",r),e("div[id^='slideshow__gallery--']","div[id^='slideshow__gallery--'] *").off()},n.register(),{lazyLoad:r,lazyLoadHiddenImages:function(){e('img[src*="-s100"]').addClass("lazyOnLoad"),r()},addParameterInImageUrl:o}}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=s(r),i=(s(n(4)),s(n(74)));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(){this.props.onLinkClick(this.props.metrics),this.props.callback()}},{key:"render",value:function(){return o.default.createElement("a",{className:this.props.linkClass,href:this.props.href,onClick:this.onClick},this.props.children)}}]),t}(r.Component);t.default=u,u.defaultProps={onLinkClick:function(){},callback:function(){}}},function(e,t,n){"use strict";var a=n(6);!function(e){e.fn.hoverIntent=function(t,n){var r,o,i,s,u={sensitivity:7,interval:100,timeout:0};u=e.extend(u,n?{over:t,out:n}:t);var l=function(e){r=e.pageX,o=e.pageY},c=function(t){var n=a.extend({},t),c=this;c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t)),"mouseenter"==t.type?(i=n.pageX,s=n.pageY,e(c).bind("mousemove",l),1!=c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function t(n,a){if(a.hoverIntent_t=clearTimeout(a.hoverIntent_t),Math.abs(i-r)+Math.abs(s-o)<u.sensitivity)return e(a).unbind("mousemove",l),a.hoverIntent_s=1,u.over.apply(a,[n]);i=r,s=o,a.hoverIntent_t=setTimeout((function(){t(n,a)}),u.interval)}(n,c)}),u.interval))):(e(c).unbind("mousemove",l),1==c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,u.out.apply(t,[e])}(n,c)}),u.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(a),e.exports=a.fn.hoverIntent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return e&&e.name?e.name:r.default.getCallFrequencyBand(e)}t.default={getStationIdentifier:i,renderBranding:function(e){var t=i(e);return e.smallLogoUrl||e.logoUrl?a.default.createElement("span",{className:"logo"},a.default.createElement("img",{alt:t,src:e.smallLogoUrl||e.logoUrl})):e.name.length>8?a.default.createElement("span",{className:"call-letters call-letters--small"},e.name):a.default.createElement("span",{className:"call-letters"},e.name)},renderMetadata:function(e){var t=i(e);return a.default.createElement("span",{className:"text"},t,a.default.createElement("br",null),a.default.createElement("span",{"data-id":e.id,className:"market"},e.marketCity,", ",e.marketState))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=i(n(2)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this._getMetricsObject(),t=this._getMetricsObjectGA4(),n=this.props.onClick||this.onClick;return r.default.createElement("input",{autoFocus:this.props.autoFocus,type:this.props.type,value:this.props.value,className:this.props.className,onClick:n,"data-metrics":e,"data-metrics-ga4":t})}}]),t}(i(n(211)).default);t.default=s,s.defaultProps={onClick:function(){return null},autoFocus:!1},s.propTypes={type:o.default.string.isRequired,value:o.default.string,onClick:o.default.func,autoFocus:o.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:4,name:"Afghanistan",alpha2:"AF",alpha3:"AFG"},{id:8,name:"Albania",alpha2:"AL",alpha3:"ALB"},{id:12,name:"Algeria",alpha2:"DZ",alpha3:"DZA"},{id:20,name:"Andorra",alpha2:"AD",alpha3:"AND"},{id:24,name:"Angola",alpha2:"AO",alpha3:"AGO"},{id:28,name:"Antigua and Barbuda",alpha2:"AG",alpha3:"ATG"},{id:32,name:"Argentina",alpha2:"AR",alpha3:"ARG"},{id:51,name:"Armenia",alpha2:"AM",alpha3:"ARM"},{id:36,name:"Australia",alpha2:"AU",alpha3:"AUS"},{id:40,name:"Austria",alpha2:"AT",alpha3:"AUT"},{id:31,name:"Azerbaijan",alpha2:"AZ",alpha3:"AZE"},{id:44,name:"Bahamas",alpha2:"BS",alpha3:"BHS"},{id:48,name:"Bahrain",alpha2:"BH",alpha3:"BHR"},{id:50,name:"Bangladesh",alpha2:"BD",alpha3:"BGD"},{id:52,name:"Barbados",alpha2:"BB",alpha3:"BRB"},{id:112,name:"Belarus",alpha2:"BY",alpha3:"BLR"},{id:56,name:"Belgium",alpha2:"BE",alpha3:"BEL"},{id:84,name:"Belize",alpha2:"BZ",alpha3:"BLZ"},{id:204,name:"Benin",alpha2:"BJ",alpha3:"BEN"},{id:64,name:"Bhutan",alpha2:"BT",alpha3:"BTN"},{id:68,name:"Bolivia (Plurinational State of)",alpha2:"BO",alpha3:"BOL"},{id:70,name:"Bosnia and Herzegovina",alpha2:"BA",alpha3:"BIH"},{id:72,name:"Botswana",alpha2:"BW",alpha3:"BWA"},{id:76,name:"Brazil",alpha2:"BR",alpha3:"BRA"},{id:96,name:"Brunei Darussalam",alpha2:"BN",alpha3:"BRN"},{id:100,name:"Bulgaria",alpha2:"BG",alpha3:"BGR"},{id:854,name:"Burkina Faso",alpha2:"BF",alpha3:"BFA"},{id:108,name:"Burundi",alpha2:"BI",alpha3:"BDI"},{id:132,name:"Cabo Verde",alpha2:"CV",alpha3:"CPV"},{id:116,name:"Cambodia",alpha2:"KH",alpha3:"KHM"},{id:120,name:"Cameroon",alpha2:"CM",alpha3:"CMR"},{id:124,name:"Canada",alpha2:"CA",alpha3:"CAN"},{id:140,name:"Central African Republic",alpha2:"CF",alpha3:"CAF"},{id:148,name:"Chad",alpha2:"TD",alpha3:"TCD"},{id:152,name:"Chile",alpha2:"CL",alpha3:"CHL"},{id:156,name:"China",alpha2:"CN",alpha3:"CHN"},{id:170,name:"Colombia",alpha2:"CO",alpha3:"COL"},{id:174,name:"Comoros",alpha2:"KM",alpha3:"COM"},{id:178,name:"Congo",alpha2:"CG",alpha3:"COG"},{id:180,name:"Congo, Democratic Republic of the",alpha2:"CD",alpha3:"COD"},{id:188,name:"Costa Rica",alpha2:"CR",alpha3:"CRI"},{id:384,name:"Cte d'Ivoire",alpha2:"CI",alpha3:"CIV"},{id:191,name:"Croatia",alpha2:"HR",alpha3:"HRV"},{id:192,name:"Cuba",alpha2:"CU",alpha3:"CUB"},{id:196,name:"Cyprus",alpha2:"CY",alpha3:"CYP"},{id:203,name:"Czechia",alpha2:"CZ",alpha3:"CZE"},{id:208,name:"Denmark",alpha2:"DK",alpha3:"DNK"},{id:262,name:"Djibouti",alpha2:"DJ",alpha3:"DJI"},{id:212,name:"Dominica",alpha2:"DM",alpha3:"DMA"},{id:214,name:"Dominican Republic",alpha2:"DO",alpha3:"DOM"},{id:218,name:"Ecuador",alpha2:"EC",alpha3:"ECU"},{id:818,name:"Egypt",alpha2:"EG",alpha3:"EGY"},{id:222,name:"El Salvador",alpha2:"SV",alpha3:"SLV"},{id:226,name:"Equatorial Guinea",alpha2:"GQ",alpha3:"GNQ"},{id:232,name:"Eritrea",alpha2:"ER",alpha3:"ERI"},{id:233,name:"Estonia",alpha2:"EE",alpha3:"EST"},{id:748,name:"Eswatini",alpha2:"SZ",alpha3:"SWZ"},{id:231,name:"Ethiopia",alpha2:"ET",alpha3:"ETH"},{id:242,name:"Fiji",alpha2:"FJ",alpha3:"FJI"},{id:246,name:"Finland",alpha2:"FI",alpha3:"FIN"},{id:250,name:"France",alpha2:"FR",alpha3:"FRA"},{id:266,name:"Gabon",alpha2:"GA",alpha3:"GAB"},{id:270,name:"Gambia",alpha2:"GM",alpha3:"GMB"},{id:268,name:"Georgia",alpha2:"GE",alpha3:"GEO"},{id:276,name:"Germany",alpha2:"DE",alpha3:"DEU"},{id:288,name:"Ghana",alpha2:"GH",alpha3:"GHA"},{id:300,name:"Greece",alpha2:"GR",alpha3:"GRC"},{id:308,name:"Grenada",alpha2:"GD",alpha3:"GRD"},{id:320,name:"Guatemala",alpha2:"GT",alpha3:"GTM"},{id:324,name:"Guinea",alpha2:"GN",alpha3:"GIN"},{id:624,name:"Guinea-Bissau",alpha2:"GW",alpha3:"GNB"},{id:328,name:"Guyana",alpha2:"GY",alpha3:"GUY"},{id:332,name:"Haiti",alpha2:"HT",alpha3:"HTI"},{id:340,name:"Honduras",alpha2:"HN",alpha3:"HND"},{id:348,name:"Hungary",alpha2:"HU",alpha3:"HUN"},{id:352,name:"Iceland",alpha2:"IS",alpha3:"ISL"},{id:356,name:"India",alpha2:"IN",alpha3:"IND"},{id:360,name:"Indonesia",alpha2:"ID",alpha3:"IDN"},{id:364,name:"Iran (Islamic Republic of)",alpha2:"IR",alpha3:"IRN"},{id:368,name:"Iraq",alpha2:"IQ",alpha3:"IRQ"},{id:372,name:"Ireland",alpha2:"IE",alpha3:"IRL"},{id:376,name:"Israel",alpha2:"IL",alpha3:"ISR"},{id:380,name:"Italy",alpha2:"IT",alpha3:"ITA"},{id:388,name:"Jamaica",alpha2:"JM",alpha3:"JAM"},{id:392,name:"Japan",alpha2:"JP",alpha3:"JPN"},{id:400,name:"Jordan",alpha2:"JO",alpha3:"JOR"},{id:398,name:"Kazakhstan",alpha2:"KZ",alpha3:"KAZ"},{id:404,name:"Kenya",alpha2:"KE",alpha3:"KEN"},{id:296,name:"Kiribati",alpha2:"KI",alpha3:"KIR"},{id:408,name:"Korea (Democratic People's Republic of)",alpha2:"KP",alpha3:"PRK"},{id:410,name:"Korea, Republic of",alpha2:"KR",alpha3:"KOR"},{id:414,name:"Kuwait",alpha2:"KW",alpha3:"KWT"},{id:417,name:"Kyrgyzstan",alpha2:"KG",alpha3:"KGZ"},{id:418,name:"Lao People's Democratic Republic",alpha2:"LA",alpha3:"LAO"},{id:428,name:"Latvia",alpha2:"LV",alpha3:"LVA"},{id:422,name:"Lebanon",alpha2:"LB",alpha3:"LBN"},{id:426,name:"Lesotho",alpha2:"LS",alpha3:"LSO"},{id:430,name:"Liberia",alpha2:"LR",alpha3:"LBR"},{id:434,name:"Libya",alpha2:"LY",alpha3:"LBY"},{id:438,name:"Liechtenstein",alpha2:"LI",alpha3:"LIE"},{id:440,name:"Lithuania",alpha2:"LT",alpha3:"LTU"},{id:442,name:"Luxembourg",alpha2:"LU",alpha3:"LUX"},{id:450,name:"Madagascar",alpha2:"MG",alpha3:"MDG"},{id:454,name:"Malawi",alpha2:"MW",alpha3:"MWI"},{id:458,name:"Malaysia",alpha2:"MY",alpha3:"MYS"},{id:462,name:"Maldives",alpha2:"MV",alpha3:"MDV"},{id:466,name:"Mali",alpha2:"ML",alpha3:"MLI"},{id:470,name:"Malta",alpha2:"MT",alpha3:"MLT"},{id:584,name:"Marshall Islands",alpha2:"MH",alpha3:"MHL"},{id:478,name:"Mauritania",alpha2:"MR",alpha3:"MRT"},{id:480,name:"Mauritius",alpha2:"MU",alpha3:"MUS"},{id:484,name:"Mexico",alpha2:"MX",alpha3:"MEX"},{id:583,name:"Micronesia (Federated States of)",alpha2:"FM",alpha3:"FSM"},{id:498,name:"Moldova, Republic of",alpha2:"MD",alpha3:"MDA"},{id:492,name:"Monaco",alpha2:"MC",alpha3:"MCO"},{id:496,name:"Mongolia",alpha2:"MN",alpha3:"MNG"},{id:499,name:"Montenegro",alpha2:"ME",alpha3:"MNE"},{id:504,name:"Morocco",alpha2:"MA",alpha3:"MAR"},{id:508,name:"Mozambique",alpha2:"MZ",alpha3:"MOZ"},{id:104,name:"Myanmar",alpha2:"MM",alpha3:"MMR"},{id:516,name:"Namibia",alpha2:"NA",alpha3:"NAM"},{id:520,name:"Nauru",alpha2:"NR",alpha3:"NRU"},{id:524,name:"Nepal",alpha2:"NP",alpha3:"NPL"},{id:528,name:"Netherlands",alpha2:"NL",alpha3:"NLD"},{id:554,name:"New Zealand",alpha2:"NZ",alpha3:"NZL"},{id:558,name:"Nicaragua",alpha2:"NI",alpha3:"NIC"},{id:562,name:"Niger",alpha2:"NE",alpha3:"NER"},{id:566,name:"Nigeria",alpha2:"NG",alpha3:"NGA"},{id:807,name:"North Macedonia",alpha2:"MK",alpha3:"MKD"},{id:578,name:"Norway",alpha2:"NO",alpha3:"NOR"},{id:512,name:"Oman",alpha2:"OM",alpha3:"OMN"},{id:586,name:"Pakistan",alpha2:"PK",alpha3:"PAK"},{id:585,name:"Palau",alpha2:"PW",alpha3:"PLW"},{id:591,name:"Panama",alpha2:"PA",alpha3:"PAN"},{id:598,name:"Papua New Guinea",alpha2:"PG",alpha3:"PNG"},{id:600,name:"Paraguay",alpha2:"PY",alpha3:"PRY"},{id:604,name:"Peru",alpha2:"PE",alpha3:"PER"},{id:608,name:"Philippines",alpha2:"PH",alpha3:"PHL"},{id:616,name:"Poland",alpha2:"PL",alpha3:"POL"},{id:620,name:"Portugal",alpha2:"PT",alpha3:"PRT"},{id:634,name:"Qatar",alpha2:"QA",alpha3:"QAT"},{id:642,name:"Romania",alpha2:"RO",alpha3:"ROU"},{id:643,name:"Russian Federation",alpha2:"RU",alpha3:"RUS"},{id:646,name:"Rwanda",alpha2:"RW",alpha3:"RWA"},{id:659,name:"Saint Kitts and Nevis",alpha2:"KN",alpha3:"KNA"},{id:662,name:"Saint Lucia",alpha2:"LC",alpha3:"LCA"},{id:670,name:"Saint Vincent and the Grenadines",alpha2:"VC",alpha3:"VCT"},{id:882,name:"Samoa",alpha2:"WS",alpha3:"WSM"},{id:674,name:"San Marino",alpha2:"SM",alpha3:"SMR"},{id:678,name:"Sao Tome and Principe",alpha2:"ST",alpha3:"STP"},{id:682,name:"Saudi Arabia",alpha2:"SA",alpha3:"SAU"},{id:686,name:"Senegal",alpha2:"SN",alpha3:"SEN"},{id:688,name:"Serbia",alpha2:"RS",alpha3:"SRB"},{id:690,name:"Seychelles",alpha2:"SC",alpha3:"SYC"},{id:694,name:"Sierra Leone",alpha2:"SL",alpha3:"SLE"},{id:702,name:"Singapore",alpha2:"SG",alpha3:"SGP"},{id:703,name:"Slovakia",alpha2:"SK",alpha3:"SVK"},{id:705,name:"Slovenia",alpha2:"SI",alpha3:"SVN"},{id:90,name:"Solomon Islands",alpha2:"SB",alpha3:"SLB"},{id:706,name:"Somalia",alpha2:"SO",alpha3:"SOM"},{id:710,name:"South Africa",alpha2:"ZA",alpha3:"ZAF"},{id:728,name:"South Sudan",alpha2:"SS",alpha3:"SSD"},{id:724,name:"Spain",alpha2:"ES",alpha3:"ESP"},{id:144,name:"Sri Lanka",alpha2:"LK",alpha3:"LKA"},{id:729,name:"Sudan",alpha2:"SD",alpha3:"SDN"},{id:740,name:"Suriname",alpha2:"SR",alpha3:"SUR"},{id:752,name:"Sweden",alpha2:"SE",alpha3:"SWE"},{id:756,name:"Switzerland",alpha2:"CH",alpha3:"CHE"},{id:760,name:"Syrian Arab Republic",alpha2:"SY",alpha3:"SYR"},{id:762,name:"Tajikistan",alpha2:"TJ",alpha3:"TJK"},{id:834,name:"Tanzania, United Republic of",alpha2:"TZ",alpha3:"TZA"},{id:764,name:"Thailand",alpha2:"TH",alpha3:"THA"},{id:626,name:"Timor-Leste",alpha2:"TL",alpha3:"TLS"},{id:768,name:"Togo",alpha2:"TG",alpha3:"TGO"},{id:776,name:"Tonga",alpha2:"TO",alpha3:"TON"},{id:780,name:"Trinidad and Tobago",alpha2:"TT",alpha3:"TTO"},{id:788,name:"Tunisia",alpha2:"TN",alpha3:"TUN"},{id:792,name:"Turkey",alpha2:"TR",alpha3:"TUR"},{id:795,name:"Turkmenistan",alpha2:"TM",alpha3:"TKM"},{id:798,name:"Tuvalu",alpha2:"TV",alpha3:"TUV"},{id:800,name:"Uganda",alpha2:"UG",alpha3:"UGA"},{id:804,name:"Ukraine",alpha2:"UA",alpha3:"UKR"},{id:784,name:"United Arab Emirates",alpha2:"AE",alpha3:"ARE"},{id:826,name:"United Kingdom of Great Britain and Northern Ireland",alpha2:"GB",alpha3:"GBR"},{id:840,name:"United States of America",alpha2:"US",alpha3:"USA"},{id:858,name:"Uruguay",alpha2:"UY",alpha3:"URY"},{id:860,name:"Uzbekistan",alpha2:"UZ",alpha3:"UZB"},{id:548,name:"Vanuatu",alpha2:"VU",alpha3:"VUT"},{id:862,name:"Venezuela (Bolivarian Republic of)",alpha2:"VE",alpha3:"VEN"},{id:704,name:"Viet Nam",alpha2:"VN",alpha3:"VNM"},{id:887,name:"Yemen",alpha2:"YE",alpha3:"YEM"},{id:894,name:"Zambia",alpha2:"ZM",alpha3:"ZMB"},{id:716,name:"Zimbabwe",alpha2:"ZW",alpha3:"ZWE"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=s(n(2)),o=(s(n(4)),s(n(72))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=window.location.pathname,n=i.PROXY_API_HOST+"/account/login";e.noReturnUrl||(n=n+"?returnUrl="+encodeURIComponent(window.location.href));var s={};return e.tabIndex&&(s.tabIndex=e.tabIndex),r.default.createElement(o.default,a({className:e.overrideClasses,href:n,metrics:{category:e.metricsCategory,action:"click sign in/register",label:t},onClickHandler:e.onClick},s),e.overrideText||"Sign in or register")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE=1002,t.ETHICS_SERIES=688409791,t.MEMMOS_BLOG=603375090,t.MUSIC_HOMEPAGE=1039,t.CONCERTS_TOPIC=1109,t.MUSIC_VIDEO_TOPIC=1110,t.TINY_DESK=92071316,t.ALL_SONGS=164710643,t.MUSIC_LIVE_EVENT=314884013},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=e.modalType;return o.default.createElement("div",{className:"donation"===t?"donation-form donation-form--loading":"localization"===t?"localization-form--loading":null},o.default.createElement("header",{className:"loading-header"},o.default.createElement("img",{alt:"Loading...",src:"//media.npr.org/chrome/loader.gif"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=f(n(2)),o=(f(n(4)),f(n(323))),i=f(n(171)),s=f(n(322)),u=f(n(476)),l=f(n(480)),c=n(88),d=n(32);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;p(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.shouldHideForSpecialDays=function(e){if("wamu"!==e.toLowerCase())return!1;var t=new Date,n=t.getMonth(),a=t.getDate();return 2021===t.getFullYear()&&11===n&&24===a},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props.source,t=0!==this.props.stories.length?" has-local-stories":"",n=(0,c.isWeekend)();return r.default.createElement("div",{className:"localization-container "+t},e===d.STATION_DRAWER&&r.default.createElement("div",{className:"localization localization--localized"},this.props.logoUrl&&r.default.createElement("img",{className:"localization__logo",src:this.props.logoUrl,alt:this.props.name+" logo"}),this.props.logoUrl&&r.default.createElement("div",{className:"localization__station-name"},this.props.name),!this.props.logoUrl&&r.default.createElement("span",{className:"localization__station-call-letters"},this.props.orgCall),r.default.createElement("ul",{className:"localization__options"},this.props.audio&&this.props.audio.primary&&r.default.createElement("li",{className:""},r.default.createElement("div",{className:"bucketwrap resaudio"},r.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&r.default.createElement("li",null,r.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},creativeSlot:"station drawer",overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate"})),r.default.createElement("li",null,r.default.createElement("a",{href:s.default.STATION_FINDER,className:"localization__change-station"},"Change"))),!this.props.isLoggedIn&&r.default.createElement("p",{className:"localization__sign-in"},r.default.createElement(u.default,{metricsCategory:"registration-login",noReturnUrl:!0,overrideClasses:""})," ","to see your station everywhere you enjoy NPR.")),e!==d.STATION_DRAWER&&r.default.createElement("div",{className:"localization localization--localized"},r.default.createElement("span",{className:"localization__card-navigation"},r.default.createElement("span",{className:"localization__card-header--wrap"},r.default.createElement("div",{className:"localization__card-header"},0===this.props.stories.length?r.default.createElement("h2",null,"LOCAL RADIO "):r.default.createElement("h2",null,"LOCAL NEWS "),this.props.name&&r.default.createElement("span",null,r.default.createElement("p",{className:"localization__card-header--station-letters"},"from ",this.props.name)))),r.default.createElement("ul",{className:"localization__options"},this.props.audio&&this.props.audio.primary&&r.default.createElement("li",null,r.default.createElement("div",{className:"bucketwrap resaudio"},r.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&r.default.createElement("li",null,r.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},creativeSlot:"station card",overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate-local-box"})))),0!==this.props.stories.length&&!n&&!this.shouldHideForSpecialDays(this.props.orgCall)&&r.default.createElement("div",{className:"local-stories-wrap"},r.default.createElement(l.default,{displayOnlyOneStory:"wamu"===this.props.orgCall.toLowerCase(),stories:this.props.stories}))))}}]),t}(r.default.PureComponent);m.defaultProps={currentPage:"",logoUrl:"",donateUrl:"",listenCta:"Listen",stories:[],isCardMessageHidden:!1},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(2)),o=(s(n(4)),s(n(72))),i=n(32);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("local-story__image"),t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setAttribute("loading","lazy")}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}},{key:"render",value:function(){var e=this,t=this.props.stories,n="";this.props.displayOnlyOneStory&&(t=this.props.stories.slice(0,1),n="local-stories--one-up");var a=t.map((function(t,n){var a="/local/"+t.href,s={category:i.HOMEPAGE_STATION_CARD,action:"click story "+(n+1),label:a},u={category:"recirculation",action:"homepage_curation_click",clickType:"station card",clickPosition:n+1,clickUrl:a};return r.default.createElement("li",{key:t.id,className:"local-story"},r.default.createElement(o.default,{metrics:s,metricsGA4:u,href:a},t.imageUrl&&r.default.createElement("figure",{className:"thumb-image"},r.default.createElement("div",{className:"image-container"},r.default.createElement("img",{className:"local-story__image",src:t.imageUrl,alt:t.imageTitle}))),r.default.createElement("h3",{className:"title"},t.title),e.props.displayOnlyOneStory&&t.teaser&&r.default.createElement("p",{className:"teaser"},t.teaser)))}));return r.default.createElement("div",{className:"local-stories "+n},r.default.createElement("ul",null,a))}}]),t}(r.default.PureComponent);c.defaultProps={stories:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=p(r),i=(p(n(4)),n(14)),s=f(n(24)),u=f(n(33)),l=p(n(524)),c=n(98),d=n(127);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,d.getBoundHandlers)(n,["onAudioPlayingStatusDirect","onAudioBufferingStarted","onAudioBufferingFinished","onAudioComplete","onAudioDurationChange","onAudioError","onAudioLoaded"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onAudioPlayingStatusDirect",value:function(e,t){this.props.dispatch(s.audioPlayingStatusDirect(e,t))}},{key:"onAudioBufferingStarted",value:function(e){this.props.dispatch(s.audioBufferingStarted(e))}},{key:"onAudioBufferingFinished",value:function(e){this.props.dispatch(s.audioBufferingFinished(e))}},{key:"onAudioComplete",value:function(e){this.props.dispatch(s.audioComplete(e))}},{key:"onAudioDurationChange",value:function(e,t){this.props.dispatch(u.changeDuration(e,t))}},{key:"onAudioLoaded",value:function(e){this.props.dispatch(s.audioPlayed(e))}},{key:"onAudioError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.dispatch(s.audioError(e,t))}},{key:"render",value:function(){var e={};return this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(e=this.props.metadata[this.props.player.currentUid]),e?o.default.createElement(l.default,{player:this.props.player,handlers:this.handlers,audio:e}):null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,c.getDerivedMetadata)(e)}}))(h)},function(e,t,n){var a,r,o;r=[n(6)],void 0===(o="function"==typeof(a=function(e,t){e.fn.jPlayer=function(n){var a="jPlayer",r="string"==typeof n,o=Array.prototype.slice.call(arguments,1),i=this;return n=!r&&o.length?e.extend.apply(null,[!0,n].concat(o)):n,r&&"_"===n.charAt(0)||(r?this.each((function(){var r=e(this).data(a),s=r&&e.isFunction(r[n])?r[n].apply(r,o):r;if(s!==r&&s!==t)return i=s,!1})):this.each((function(){var t=e(this).data(a);t?t.option(n||{}):e(this).data(a,new e.jPlayer(n,this))}))),i},e.jPlayer=function(t,n){if(arguments.length){this.element=e(n),this.options=e.extend(!0,{},this.options,t);var a=this;this.element.bind("remove.jPlayer",(function(){a.destroy()})),this._init()}},"function"!=typeof e.fn.stop&&(e.fn.stop=function(){}),e.jPlayer.emulateMethods="load play pause",e.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",e.jPlayer.emulateOptions="muted volume",e.jPlayer.reservedEvent="ready flashreset resize repeat error warning",e.jPlayer.event={},e.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],(function(){e.jPlayer.event[this]="jPlayer_"+this})),e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],e.jPlayer.pause=function(){e.jPlayer.prototype.destroyRemoved(),e.each(e.jPlayer.prototype.instances,(function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")}))},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var n=function(){this.init()};n.prototype={init:function(){this.options={timeFormat:e.jPlayer.timeFormat}},time:function(e){e=e&&"number"==typeof e?e:0;var t=new Date(1e3*e),n=t.getUTCHours(),a=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*n,r=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*a,o=this.options.timeFormat.padHour&&n<10?"0"+n:n,i=this.options.timeFormat.padMin&&a<10?"0"+a:a,s=this.options.timeFormat.padSec&&r<10?"0"+r:r,u="";return u+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",u+=this.options.timeFormat.showMin?i+this.options.timeFormat.sepMin:"",u+=this.options.timeFormat.showSec?s+this.options.timeFormat.sepSec:""}};var a=new n;e.jPlayer.convertTime=function(e){return a.time(e)},e.jPlayer.uaBrowser=function(e){var t=e.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},e.jPlayer.uaPlatform=function(e){var t=e.toLowerCase(),n=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(t)||[],a=/(ipad|playbook)/.exec(t)||!/(mobile)/.exec(t)&&/(android)/.exec(t)||[];return n[1]&&(n[1]=n[1].replace(/\s/g,"_")),{platform:n[1]||"",tablet:a[1]||""}},e.jPlayer.browser={},e.jPlayer.platform={};var r=e.jPlayer.uaBrowser(navigator.userAgent);r.browser&&(e.jPlayer.browser[r.browser]=!0,e.jPlayer.browser.version=r.version);var o=e.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(e.jPlayer.platform[o.platform]=!0,e.jPlayer.platform.mobile=!o.tablet,e.jPlayer.platform.tablet=!!o.tablet),e.jPlayer.getDocMode=function(){var t;return e.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},e.jPlayer.browser.documentMode=e.jPlayer.getDocMode(),e.jPlayer.nativeFeatures={init:function(){var e,t,n,a=document,r=a.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},i=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=e={support:{w3c:!!a[o.w3c[0]],moz:!!a[o.moz[0]],webkit:"function"==typeof a[o.webkit[3]],webkitVideo:"function"==typeof r[o.webkitVideo[2]],ms:"function"==typeof r[o.ms[2]]},used:{}},t=0,n=i.length;t<n;t++){var s=i[t];if(e.support[s]){e.spec=s,e.used[s]=!0;break}}if(e.spec){var u=o[e.spec];e.api={fullscreenEnabled:!0,fullscreenElement:function(e){return(e=e||a)[u[1]]},requestFullscreen:function(e){return e[u[2]]()},exitFullscreen:function(e){return(e=e||a)[u[3]]()}},e.event={fullscreenchange:u[4],fullscreenerror:u[5]}}else e.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},e.event={}}},e.jPlayer.nativeFeatures.init(),e.jPlayer.focus=null,e.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var i=function(t){var n,a=e.jPlayer.focus;a&&(e.each(e.jPlayer.keyIgnoreElementNames.split(/\s+/g),(function(e,a){if(t.target.nodeName.toUpperCase()===a.toUpperCase())return n=!0,!1})),n||e.each(a.options.keyBindings,(function(n,r){if(r&&e.isFunction(r.fn)&&("number"==typeof r.key&&t.which===r.key||"string"==typeof r.key&&t.key===r.key))return t.preventDefault(),r.fn(a),!1})))};e.jPlayer.keys=function(t){e(document.documentElement).unbind("keydown.jPlayer"),t&&e(document.documentElement).bind("keydown.jPlayer",i)},e.jPlayer.keys(!0),e.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?e(this).unbind(".jPlayerRepeat").bind(e.jPlayer.event.ended+".jPlayer.jPlayerRepeat",(function(){e(this).jPlayer("play")})):e(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(e){e.status.paused?e.play():e.pause()}},fullScreen:{key:70,fn:function(e){(e.status.video||e.options.audioFullScreen)&&e._setOption("fullScreen",!e.options.fullScreen)}},muted:{key:77,fn:function(e){e._muted(!e.options.muted)}},volumeUp:{key:190,fn:function(e){e.volume(e.options.volume+.1)}},volumeDown:{key:188,fn:function(e){e.volume(e.options.volume-.1)}},loop:{key:76,fn:function(e){e._loop(!e.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var n=this;if(this.element.empty(),this.status=e.extend({},this.status),this.internal=e.extend({},this.internal),this.options.timeFormat=e.extend({},e.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=e.jPlayer.platform.ipad||e.jPlayer.platform.iphone||e.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!e.jPlayer.focus&&(e.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},e.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),e.each(this.options.supplied.toLowerCase().split(","),(function(t,a){var r=a.replace(/^\s+|\s+$/g,"");if(n.format[r]){var o=!1;e.each(n.formats,(function(e,t){if(r===t)return o=!0,!1})),o||n.formats.push(r)}})),e.each(this.options.solution.toLowerCase().split(","),(function(t,a){var r=a.replace(/^\s+|\s+$/g,"");if(n.solution[r]){var o=!1;e.each(n.solutions,(function(e,t){if(r===t)return o=!0,!1})),o||n.solutions.push(r)}})),e.each(this.options.auroraFormats.toLowerCase().split(","),(function(t,a){var r=a.replace(/^\s+|\s+$/g,"");if(n.format[r]){var o=!1;e.each(n.aurora.formats,(function(e,t){if(r===t)return o=!0,!1})),o||n.aurora.formats.push(r)}})),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,(function(e,a){n.options[e]!==t&&(n.element.bind(a+".jPlayer",n.options[e]),n.options[e]=t)})),this.require.audio=!1,this.require.video=!1,e.each(this.formats,(function(e,t){n.require[n.format[t].media]=!0})),this.require.video?this.options=e.extend(!0,{},this.optionsVideo,this.options):this.options=e.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),e.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){n.status.video&&!n.status.waitForPlay||n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",(function(){n._trigger(e.jPlayer.event.click)})),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},e.each(this.formats,(function(t,a){n.html.canPlay[a]=n.html[n.format[a].media].available&&""!==n.htmlElement[n.format[a].media].canPlayType(n.format[a].codec),n.aurora.canPlay[a]=e.inArray(a,n.aurora.formats)>-1,n.flash.canPlay[a]=n.format[a].flashCanPlay&&n.flash.available})),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,e.each(this.solutions,(function(t,a){if(0===t)n[a].desired=!0;else{var r=!1,o=!1;e.each(n.formats,(function(e,t){n[n.solutions[0]].canPlay[t]&&("video"===n.format[t].media?o=!0:r=!0)})),n[a].desired=n.require.audio&&!r||n.require.video&&!o}})),this.html.support={},this.aurora.support={},this.flash.support={},e.each(this.formats,(function(e,t){n.html.support[t]=n.html.canPlay[t]&&n.html.desired,n.aurora.support[t]=n.aurora.canPlay[t]&&n.aurora.desired,n.flash.support[t]=n.flash.canPlay[t]&&n.flash.desired})),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,e.each(this.solutions,(function(t,a){e.each(n.formats,(function(e,t){if(n[a].support[t])return n[a].used=!0,!1}))})),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var a,r="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(e.jPlayer.browser.msie&&(Number(e.jPlayer.browser.version)<9||e.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',i=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+r+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];a=document.createElement(o);for(var s=0;s<i.length;s++)a.appendChild(document.createElement(i[s]))}else{var u=function(e,t,n){var a=document.createElement("param");a.setAttribute("name",t),a.setAttribute("value",n),e.appendChild(a)};(a=document.createElement("object")).setAttribute("id",this.internal.flash.id),a.setAttribute("name",this.internal.flash.id),a.setAttribute("data",this.internal.flash.swf),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("tabindex","-1"),u(a,"flashvars",r),u(a,"allowscriptaccess","always"),u(a,"bgcolor",this.options.backgroundColor),u(a,"wmode",this.options.wmode)}this.element.append(a),this.internal.flash.jq=e(a)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",(function(){n._trigger(e.jPlayer.event.click)})))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout((function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(e.jPlayer.event.repeat),n._trigger(e.jPlayer.event.ready)}),100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),e.each(this.css.jq,(function(e,t){t.length&&t.unbind(".jPlayer")})),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===e.jPlayer.focus&&(e.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var t=this;e.each(this.instances,(function(e,n){t.element!==n&&(n.data("jPlayer")||(n.jPlayer("destroy"),delete t.instances[e]))}))},enable:function(){},disable:function(){},_testCanPlayType:function(e){try{return e.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(e){var t;e="string"==typeof e?e:"audio",t=document.createElement(e);try{return"playbackRate"in t&&(t.playbackRate=.5,.5===t.playbackRate)}catch(e){return!1}},_uaBlocklist:function(t){var n=navigator.userAgent.toLowerCase(),a=!1;return e.each(t,(function(e,t){if(t&&t.test(n))return a=!0,!1})),a},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(t,n){var a=this;t.preload=this.options.preload,t.muted=this.options.muted,t.volume=this.options.volume,this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate),t.addEventListener("progress",(function(){n.gate&&(a.internal.cmdsIgnored&&this.readyState>0&&(a.internal.cmdsIgnored=!1),a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.progress))}),!1),t.addEventListener("loadeddata",(function(){n.gate&&(a.androidFix.setMedia=!1,a.androidFix.play&&(a.androidFix.play=!1,a.play(a.androidFix.time)),a.androidFix.pause&&(a.androidFix.pause=!1,a.pause(a.androidFix.time)),a._trigger(e.jPlayer.event.loadeddata))}),!1),t.addEventListener("timeupdate",(function(){n.gate&&(a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.timeupdate))}),!1),t.addEventListener("durationchange",(function(){n.gate&&(a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.durationchange))}),!1),t.addEventListener("play",(function(){n.gate&&(a._updateButtons(!0),a._html_checkWaitForPlay(),a._trigger(e.jPlayer.event.play))}),!1),t.addEventListener("playing",(function(){n.gate&&(a._updateButtons(!0),a._seeked(),a._trigger(e.jPlayer.event.playing))}),!1),t.addEventListener("pause",(function(){n.gate&&(a._updateButtons(!1),a._trigger(e.jPlayer.event.pause))}),!1),t.addEventListener("waiting",(function(){n.gate&&(a._seeking(),a._trigger(e.jPlayer.event.waiting))}),!1),t.addEventListener("seeking",(function(){n.gate&&(a._seeking(),a._trigger(e.jPlayer.event.seeking))}),!1),t.addEventListener("seeked",(function(){n.gate&&(a._seeked(),a._trigger(e.jPlayer.event.seeked))}),!1),t.addEventListener("volumechange",(function(){n.gate&&(a.options.volume=t.volume,a.options.muted=t.muted,a._updateMute(),a._updateVolume(),a._trigger(e.jPlayer.event.volumechange))}),!1),t.addEventListener("ratechange",(function(){n.gate&&(a.options.defaultPlaybackRate=t.defaultPlaybackRate,a.options.playbackRate=t.playbackRate,a._updatePlaybackRate(),a._trigger(e.jPlayer.event.ratechange))}),!1),t.addEventListener("suspend",(function(){n.gate&&(a._seeked(),a._trigger(e.jPlayer.event.suspend))}),!1),t.addEventListener("ended",(function(){n.gate&&(e.jPlayer.browser.webkit||(a.htmlElement.media.currentTime=0),a.htmlElement.media.pause(),a._updateButtons(!1),a._getHtmlStatus(t,!0),a._updateInterface(),a._trigger(e.jPlayer.event.ended))}),!1),t.addEventListener("error",(function(){n.gate&&(a._updateButtons(!1),a._seeked(),a.status.srcSet&&(clearTimeout(a.internal.htmlDlyCmdId),a.status.waitForLoad=!0,a.status.waitForPlay=!0,a.status.video&&!a.status.nativeVideoControls&&a.internal.video.jq.css({width:"0px",height:"0px"}),a._validString(a.status.media.poster)&&!a.status.nativeVideoControls&&a.internal.poster.jq.show(),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a._error({type:e.jPlayer.error.URL,context:a.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))}),!1),e.each(e.jPlayer.htmlEvent,(function(r,o){t.addEventListener(this,(function(){n.gate&&a._trigger(e.jPlayer.event[o])}),!1)}))},_addAuroraEventListeners:function(t,n){var a=this;t.volume=100*this.options.volume,t.on("progress",(function(){n.gate&&(a.internal.cmdsIgnored&&this.readyState>0&&(a.internal.cmdsIgnored=!1),a._getAuroraStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.progress),t.duration>0&&a._trigger(e.jPlayer.event.timeupdate))}),!1),t.on("ready",(function(){n.gate&&a._trigger(e.jPlayer.event.loadeddata)}),!1),t.on("duration",(function(){n.gate&&(a._getAuroraStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.durationchange))}),!1),t.on("end",(function(){n.gate&&(a._updateButtons(!1),a._getAuroraStatus(t,!0),a._updateInterface(),a._trigger(e.jPlayer.event.ended))}),!1),t.on("error",(function(){n.gate&&(a._updateButtons(!1),a._seeked(),a.status.srcSet&&(a.status.waitForLoad=!0,a.status.waitForPlay=!0,a.status.video&&!a.status.nativeVideoControls&&a.internal.video.jq.css({width:"0px",height:"0px"}),a._validString(a.status.media.poster)&&!a.status.nativeVideoControls&&a.internal.poster.jq.show(),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a._error({type:e.jPlayer.error.URL,context:a.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))}),!1)},_getHtmlStatus:function(e,t){var n=0,a=0,r=0,o=0;isFinite(e.duration)&&(this.status.duration=e.duration),n=e.currentTime,a=this.status.duration>0?100*n/this.status.duration:0,"object"==typeof e.seekable&&e.seekable.length>0?(r=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*e.currentTime/e.seekable.end(e.seekable.length-1):0):(r=100,o=a),t&&(n=0,o=0,a=0),this.status.seekPercent=r,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=a,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=e.readyState,this.status.networkState=e.networkState,this.status.playbackRate=e.playbackRate,this.status.ended=e.ended},_getAuroraStatus:function(e,t){var n=0,a=0,r=0,o=0;this.status.duration=e.duration/1e3,n=e.currentTime/1e3,a=this.status.duration>0?100*n/this.status.duration:0,e.buffered>0?(r=this.status.duration>0?e.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?n/(e.buffered*this.status.duration):0):(r=100,o=a),t&&(n=0,o=0,a=0),this.status.seekPercent=r,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=a,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,n,a){var r=e.Event(t);r.jPlayer={},r.jPlayer.version=e.extend({},this.version),r.jPlayer.options=e.extend(!0,{},this.options),r.jPlayer.status=e.extend(!0,{},this.status),r.jPlayer.html=e.extend(!0,{},this.html),r.jPlayer.aurora=e.extend(!0,{},this.aurora),r.jPlayer.flash=e.extend(!0,{},this.flash),n&&(r.jPlayer.error=e.extend({},n)),a&&(r.jPlayer.warning=e.extend({},a)),this.element.trigger(r)},jPlayerFlashEvent:function(t,n){if(t===e.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var a=this.status.currentTime,r=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),a>0&&(r?this.pause(a):this.play(a))}this._trigger(e.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=n.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(e.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case e.jPlayer.event.progress:case e.jPlayer.event.timeupdate:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.click:this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:e.jPlayer.error.URL,context:n.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case e.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration,this.status.remaining=e.duration-e.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(e){e===t?e=!this.status.paused:this.status.paused=!e,e?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));var e="",t=this.status.duration,n=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(n=(t=this.status.media.duration)-this.status.currentTime),e=this.options.remainingDuration?(n>0?"-":"")+this._convertTime(n):this._convertTime(t)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:n.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(e)+'">x</a>',t.firstChild.href},_absoluteMediaUrls:function(t){var n=this;return e.each(t,(function(e,a){a&&n.format[e]&&"data:"!==a.substr(0,5)&&(t[e]=n._qualifyURL(a))})),t},addStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[e])},removeStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[e])},setMedia:function(t){var n=this,a=!1,r=this.status.media.poster!==t.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,t=this._absoluteMediaUrls(t),e.each(this.formats,(function(r,o){var i="video"===n.format[o].media;if(e.each(n.solutions,(function(r,s){if(n[s].support[o]&&n._validString(t[o])){var u="html"===s,l="aurora"===s;return i?(u?(n.html.video.gate=!0,n._html_setVideo(t),n.html.active=!0):(n.flash.gate=!0,n._flash_setVideo(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n.status.video=!0):(u?(n.html.audio.gate=!0,n._html_setAudio(t),n.html.active=!0,e.jPlayer.platform.android&&(n.androidFix.setMedia=!0)):l?(n.aurora.gate=!0,n._aurora_setAudio(t),n.aurora.active=!0):(n.flash.gate=!0,n._flash_setAudio(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.hide(),n.status.video=!1),a=!0,!1}})),a)return!1})),a?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(r?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),"string"==typeof t.title&&(this.css.jq.title.length&&this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(e.jPlayer.event.setmedia)):this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(e.jPlayer.focus=this)},play:function(e){"object"==typeof e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(e):(e="number"==typeof e?e:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(e):this.aurora.active?this._aurora_play(e):this.flash.active&&this._flash_play(e)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(e){e="number"==typeof e?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.aurora.active?this._aurora_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},tellOthers:function(t,n){var a=this,r="function"==typeof n,o=Array.prototype.slice.call(arguments);"string"==typeof t&&(r&&o.splice(1,1),e.jPlayer.prototype.destroyRemoved(),e.each(this.instances,(function(){a.element!==this&&(r&&!n.call(this.data("jPlayer"),a)||this.jPlayer.apply(this,o))})))},pauseOthers:function(e){this.tellOthers("pause",(function(){return this.status.srcSet}),e)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.aurora.active?this._aurora_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},_muted:function(e){this.mutedWorker(e),this.options.globalVolume&&this.tellOthers("mutedWorker",(function(){return this.options.globalVolume}),e)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.aurora.used&&this._aurora_mute(t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(e.jPlayer.event.volumechange))},mute:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(e=e===t||!!e,this._muted(e))},unmute:function(e){e=e===t||!!e,this._muted(!e)},_updateMute:function(e){e===t&&(e=this.options.muted),e?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){this.volumeWorker(e),this.options.globalVolume&&this.tellOthers("volumeWorker",(function(){return this.options.globalVolume}),e)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.aurora.used&&this._aurora_volume(t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var n=e(t.currentTarget),a=n.offset(),r=t.pageX-a.left,o=n.width(),i=n.height()-t.pageY+a.top,s=n.height();this.options.verticalVolume?this.volume(i/s):this.volume(r/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(e){e===t&&(e=this.options.volume),e=this.options.muted?0:e,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*e+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var n=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?e(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),e.each(this.options.cssSelector,(function(e,t){n._cssSelector(e,t)})),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(t,n){var a=this;"string"==typeof n?e.jPlayer.prototype.options.cssSelector[t]?(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=n,this.css.cs[t]=this.options.cssSelectorAncestor+" "+n,this.css.jq[t]=n?e(this.css.cs[t]):[],this.css.jq[t].length&&this[t]&&this.css.jq[t].bind("click.jPlayer",(function(n){n.preventDefault(),a[t](n),a.options.autoBlur?e(this).blur():e(this).focus()})),n&&1!==this.css.jq[t].length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:n,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(e){this.options.toggleDuration&&(this.options.captureDuration&&e.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var n=e(t.currentTarget),a=n.offset(),r=100*(t.pageX-a.left)/n.width();this.playHead(r)}},playbackRate:function(e){this._setOption("playbackRate",e)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var n,a=e(t.currentTarget),r=a.offset(),o=t.pageX-r.left,i=a.width(),s=a.height()-t.pageY+r.top,u=a.height();n=(this.options.verticalPlaybackRate?s/u:o/i)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(n)}},_updatePlaybackRate:function(){var e=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(e.jPlayer.event.repeat))},option:function(n,a){var r=n;if(0===arguments.length)return e.extend(!0,{},this.options);if("string"==typeof n){var o=n.split(".");if(a===t){for(var i=e.extend(!0,{},this.options),s=0;s<o.length;s++){if(i[o[s]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:n,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;i=i[o[s]]}return i}for(var u=r={},l=0;l<o.length;l++)l<o.length-1?(u[o[l]]={},u=u[o[l]]):u[o[l]]=a}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,(function(e,t){n._setOption(e,t)})),this},_setOption:function(t,n){var a=this;switch(t){case"volume":this.volume(n);break;case"muted":this._muted(n);break;case"globalVolume":this.options[t]=n;break;case"cssSelectorAncestor":this._cssSelectorAncestor(n);break;case"cssSelector":e.each(n,(function(e,t){a._cssSelector(e,t)}));break;case"playbackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",n),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",n),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=n=this._limitValue(n,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==n){var r=e.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!r||r&&!this.status.waitForPlay)&&(r||(this.options[t]=n),n?this._requestFullscreen():this._exitFullscreen(),r||this._setOption("fullWindow",n))}break;case"fullWindow":this.options[t]!==n&&(this._removeUiClass(),this.options[t]=n,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===n.cssClass||this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==n.cssClass&&this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"autohide":this.options[t]=e.extend({},this.options[t],n),this._updateAutohide();break;case"loop":this._loop(n);break;case"remainingDuration":this.options[t]=n,this._updateInterface();break;case"toggleDuration":this.options[t]=n;break;case"nativeVideoControls":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=e.extend({},this.options[t],n),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==n&&(this.options[t]=n,n?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=e.extend({},this.options[t],n);break;case"keyEnabled":this.options[t]=n,n||this!==e.jPlayer.focus||(e.jPlayer.focus=null);break;case"keyBindings":this.options[t]=e.extend(!0,{},this.options[t],n);break;case"audioFullScreen":case"autoBlur":this.options[t]=n}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(e.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var e=this,t="mousemove.jPlayer.jPlayerAutohide",n=function(t){var n,a,r=!1;void 0!==e.internal.mouse?(n=e.internal.mouse.x-t.pageX,a=e.internal.mouse.y-t.pageY,r=Math.floor(n)>0||Math.floor(a)>0):r=!0,e.internal.mouse={x:t.pageX,y:t.pageY},r&&e.css.jq.gui.fadeIn(e.options.autohide.fadeIn,(function(){clearTimeout(e.internal.autohideId),e.internal.autohideId=setTimeout((function(){e.css.jq.gui.fadeOut(e.options.autohide.fadeOut)}),e.options.autohide.hold)}))};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(t,n),this.css.jq.gui.bind(t,n),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,n=e.jPlayer.nativeFeatures.fullscreen;n.api.fullscreenEnabled&&n.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(n.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=e.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!e.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.requestFullscreen(t)},_exitFullscreen:function(){var t,n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.exitFullscreen(t)},_html_initMedia:function(t){var n=e(this.htmlElement.media).empty();e.each(t.track||[],(function(e,t){var a=document.createElement("track");a.setAttribute("kind",t.kind?t.kind:""),a.setAttribute("src",t.src?t.src:""),a.setAttribute("srclang",t.srclang?t.srclang:""),a.setAttribute("label",t.label?t.label:""),t.def&&a.setAttribute("default",t.def),n.append(a)})),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setFormat:function(t){var n=this;e.each(this.formats,(function(e,a){if(n.html.support[a]&&t[a])return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1}))},_html_setAudio:function(e){this._html_setFormat(e),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(e)},_html_setVideo:function(e){this._html_setFormat(e),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(e)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))n.play();else{this.internal.cmdsIgnored&&n.play();try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e,n.play()}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.play(e)}),250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.play=!1,e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),n.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.pause(e)}),250))}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this,n=this.htmlElement.media;this._html_load();try{if("object"==typeof n.seekable&&n.seekable.length>0)n.currentTime=e*n.seekable.end(n.seekable.length-1)/100;else{if(!(n.duration>0)||isNaN(n.duration))throw"e";n.currentTime=e*n.duration/100}}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.playHead(e)}),250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(e,t){this.html.audio.available&&(this.htmlElement.audio[e]=t),this.html.video.available&&(this.htmlElement.video[e]=t)},_aurora_setAudio:function(t){var n=this;e.each(this.formats,(function(e,a){if(n.aurora.support[a]&&t[a])return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1})),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(t){this.status.waitForLoad||isNaN(t)||this.aurora.player.seek(t),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(e.jPlayer.event.play)},_aurora_pause:function(t){isNaN(t)||this.aurora.player.seek(1e3*t),this.aurora.player.pause(),t>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(e.jPlayer.event.pause)},_aurora_playHead:function(e){this.aurora.player.duration>0&&this.aurora.player.seek(e*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(e){this.aurora.player.volume=100*e},_aurora_mute:function(e){e?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=e},_flash_setAudio:function(t){var n=this;try{e.each(this.formats,(function(e,a){if(n.flash.support[a]&&t[a]){switch(a){case"m4a":case"fla":n._getMovie().fl_setAudio_m4a(t[a]);break;case"mp3":n._getMovie().fl_setAudio_mp3(t[a]);break;case"rtmpa":n._getMovie().fl_setAudio_rtmp(t[a])}return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_setVideo:function(t){var n=this;try{e.each(this.formats,(function(e,a){if(n.flash.support[a]&&t[a]){switch(a){case"m4v":case"flv":n._getMovie().fl_setVideo_m4v(t[a]);break;case"rtmpv":n._getMovie().fl_setVideo_rtmp(t[a])}return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(e){this._flashError(e)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(e){this._flashError(e)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var e,t=0;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var n=e.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),t=parseInt(n[0],10)+"."+parseInt(n[1],10))}}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*t},_checkForFlash:function(e){var t=!1;return this._getFlashPluginVersion()>=e&&(t=!0),t},_validString:function(e){return e&&"string"==typeof e},_limitValue:function(e,t,n){return e<t?t:e>n?n:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var n;n=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:e.jPlayer.error[n],context:this.internal.flash.swf,message:e.jPlayer.errorMsg[n]+t.message,hint:e.jPlayer.errorHint[n]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(n){this._trigger(e.jPlayer.event.warning,t,n),this.options.warningAlerts&&this._alert("Warning!"+(n.message?"\n"+n.message:"")+(n.hint?"\n"+n.hint:"")+"\nContext: "+n.context)},_alert:function(e){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;e.each(e.jPlayer.emulateMethods.split(/\s+/g),(function(e,n){t.internal.domNode[n]=function(e){t[n](e)}})),e.each(e.jPlayer.event,(function(n,a){var r=!0;e.each(e.jPlayer.reservedEvent.split(/\s+/g),(function(e,t){if(t===n)return r=!1,!1})),r&&t.element.bind(a+".jPlayer.jPlayerHtml",(function(){t._emulateHtmlUpdate();var e=document.createEvent("Event");e.initEvent(n,!1,!0),t.internal.domNode.dispatchEvent(e)}))}))},_emulateHtmlUpdate:function(){var t=this;e.each(e.jPlayer.emulateStatus.split(/\s+/g),(function(e,n){t.internal.domNode[n]=t.status[n]})),e.each(e.jPlayer.emulateOptions.split(/\s+/g),(function(e,n){t.internal.domNode[n]=t.options[n]}))},_destroyHtmlBridge:function(){var t=this;this.element.unbind(".jPlayerHtml");var n=e.jPlayer.emulateMethods+" "+e.jPlayer.emulateStatus+" "+e.jPlayer.emulateOptions;e.each(n.split(/\s+/g),(function(e,n){delete t.internal.domNode[n]}))}},e.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})?a.apply(t,r):a)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mountAudioModules=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(e,t),d(e)},t.unmountAudioModules=function(){l.map((function(e){return e.unmountModules()}))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33)),r=u(n(525)),o=u(n(527)),i=u(n(530)),s=u(n(531));function u(e){return e&&e.__esModule?e:{default:e}}var l=[r.default,o.default,i.default,s.default];function c(e,t){var n,r=l.map((function(n){return n.retrieveMetadataFromDOM(e,t)})),o=(n=[]).concat.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r));e.dispatch(a.metadatasLoaded(o))}function d(e){l.map((function(t){return t.mountModules(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){l=e,window.addEventListener("resize",d),t=window.innerWidth,n=(0,a.default)(c,(function(e){return e.min<=t&&t<=e.max})),void l(i.initialWidthDetected(t,n.name)),void(r.default.hasTouch()&&l(i.touchDetected())),void 0!==document.hidden&&(document.addEventListener("visibilitychange",f),f());var t,n};var a=u(n(137)),r=u(n(126)),o=s(n(22)),i=s(n(24));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var l=void 0,c=[{name:o.SMALL,min:r.default.BREAKPOINT.SMALL.MIN,max:r.default.BREAKPOINT.SMALL.MAX},{name:o.MEDIUM,min:r.default.BREAKPOINT.MEDIUM.MIN,max:r.default.BREAKPOINT.MEDIUM.MAX},{name:o.LARGE,min:r.default.BREAKPOINT.LARGE.MIN,max:1/0}];function d(){var e=window.innerWidth,t=(0,a.default)(c,(function(t){return t.min<=e&&e<=t.max}));l(i.widthDetected(e,t.name))}function f(){l(i.pageVisibilityDetected(!document.hidden))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectEcosystem=h,t.detectRightRail=m,t.detectPage=g,t.init=function(e){f=e;var t=[h,g,m],n=function(){return t.map((function(e){return e()}))};(0,a.default)(document).on("npr:pageReceived",n),n()};var a=d(n(6)),r=d(n(7)),o=c(n(180)),i=c(n(328)),s=c(n(24)),u=d(n(335)),l=c(n(132));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,p=void 0;function h(){var e=(0,a.default)("body").hasClass("music")?o.MUSIC:o.NEWS;e!==p&&(p=e,f(i.ecosystemDetected(p)))}function m(){var e=(0,a.default)("body");e.hasClass("multimedia")||e.hasClass("tmplError")?(f(s.rightRailDetected(!1)),e.addClass("has-no-right-rail")):(f(s.rightRailDetected(!0)),e.removeClass("has-no-right-rail"))}function g(){var e=window.location.href,t=(0,a.default)("body"),n="undefined"!=typeof NPR?(0,r.default)(NPR,"serverVars.storyId",null):null;t.hasClass("id1002")?f(i.pageDetected(l.HOME_PAGE_NEWS,e)):t.hasClass("id1039")?f(i.pageDetected(l.HOME_PAGE_MUSIC,e)):(0,a.default)("ul.podcast-tools").length>0?f(i.pageDetected(l.PODCAST,e)):f(i.pageDetected(l.UNKNOWN,e)),t.hasClass("story-layout")&&n&&f(u.default.storyPageDetected(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){i=e,o=function(){if("undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now)return function(){return window.performance.now()};return Date.now}(),r=o(),setInterval(s,1e3),s()};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(533));var r=void 0,o=void 0,i=void 0;function s(){var e=Date.now(),t=o(),n=t-r;i(a.timerTick(e,n)),r=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=d(r),i=(d(n(4)),n(88)),s=n(210),u=d(n(471)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22)),c=d(n(30));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,a;f(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onPlayPauseRequested=function(){a.props.onPlayPauseRequested(a.props.audio,a.props.playedFrom)},a.getAudioInfoComponents=function(){var e=a.props.isNationalNewscast?"NATIONAL NEWSCAST":"LOCAL NEWSCAST";return o.default.createElement("div",null,o.default.createElement("h2",{className:"playable-item__title",key:1},o.default.createElement("span",{className:"playable-item__origin"},e),a.props.audio.title),o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(a.props.audio.duration),key:2},(0,i.secondsAsHMMSS)(a.props.audio.duration)))},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=["playable-item__play",(0,s.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)];return o.default.createElement("li",{className:"playable-item-wrap"},o.default.createElement("article",{className:"playable-item playable-item--newscast"},o.default.createElement("div",{className:"playable-item__controls"},o.default.createElement("button",{className:e.join(" "),onClick:this.onPlayPauseRequested},"Play"),o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(this.props.audio.duration)},(0,i.secondsAsHMMSS)(this.props.audio.duration))),this.props.breakpoint===l.SMALL&&o.default.createElement("a",{className:"playable-item__link",onClick:this.onPlayPauseRequested},this.getAudioInfoComponents()),this.props.breakpoint!==l.SMALL&&this.props.audio.storyUrl&&o.default.createElement(u.default,{linkClass:"playable-item__link",href:this.props.audio.storyUrl,onLinkClick:this.props.onLinkClick,metrics:{action:"click audio title",label:c.default.getUrlPieces(this.props.audio.storyUrl,!1)}},this.getAudioInfoComponents()),this.props.breakpoint!==l.SMALL&&!this.props.audio.storyUrl&&this.getAudioInfoComponents(),this.props.breakpoint!==l.SMALL&&this.props.smallLogoUrl&&o.default.createElement("img",{src:this.props.smallLogoUrl,alt:this.props.logoAlt,className:"player-item-stream__logo"})))}}]),t}(r.Component);t.default=h,h.defaultProps={onLinkClick:function(){},logoAlt:"",smallLogoUrl:""}},function(e,t,n){"use strict";var a,r,o=i(n(9));i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}a=[n(6)],void 0===(r=function(e){var t=!1,n=[],a=0;function r(){t?t=!1:((n=n.slice(0,a)).push(e(window).scrollTop()),a=n.length)}function i(){"number"==typeof n[a]&&e(window).scrollTop(n[a])}function s(){0===e("#ad-backstage-wrap").length&&0===e("#ad-mainstage-wrap").length&&0===e("#ad-centerstage-wrap").length&&i()}"scrollRestoration"in history&&(history.scrollRestoration="manual",e(document).on("pjax:send",r),e(document).on("npr:fireScrollOffsetReset",i),e(document).on("pjax:success",s),e(document).on("pjax:popstate",(function(r){"forward"===r.detail.direction?(n[a]=e(window).scrollTop(),a++,t=!0):"back"===r.detail.direction?(n[a]=e(window).scrollTop(),a--,t=!0):o.default.warning("Unrecognized direction received in pjax:popstate handler",r)})))}.apply(t,a))||(e.exports=r)},function(e,t,n){"use strict";var a=l(n(18)),r=l(n(6)),o=l(n(9)),i=n(130),s=l(i),u=n(324);function l(e){return e&&e.__esModule?e:{default:e}}var c=a.default.create();c.name="header-bidding";var d=!0,f=!1,p=!1,h=!1,m=function(){o.default.info("HeaderBidding: bidding started",(new Date).toISOString());var e=[];(0,r.default)("[data-ad-config]").each((function(t){var n=(0,r.default)(this).data("ad-config"),a=new s.default(n);(0,u.shouldRenderLocation)(a.canonicalLocation)&&e.push({code:(0,i.constructAdSlotName)(a.location,a.zone),divId:(0,i.constructAdSlotName)(a.location,a.zone),adUnitId:""+a.network+a.site+(a.zone?"/"+a.zone:""),adUnitIndex:""+t,mediaTypes:{banner:{sizes:a.getSizes(!0)}},sizes:a.getSizes(!0)})})),e.length&&("function"==typeof window.PWT.requestBids?window.PWT.requestBids(e,(function(e){o.default.info("HeaderBidding: bidding completed",(new Date).toISOString()),document.dispatchEvent(new CustomEvent("npr:initialHeaderBiddingComplete",{detail:e}))})):(o.default.info("HeaderBidding: requestBids not a function",window.PWT),document.dispatchEvent(new CustomEvent("npr:initialHeaderBiddingError"))))};c.init=function(){window.PWT=window.PWT||{},window.PWT.jsLoaded=function(){p=!0,f&&!h&&(h=!0,m())},document.addEventListener("npr:dfpIsListeningForHeaderBiddingData",(function(){f=!0,p&&!h&&(h=!0,m())}));var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t=new URLSearchParams(window.location.search),n=parseInt(t.get("pwtv"),10);e.src="https://ads.pubmatic.com/AdServer/js/pwt/162268/7835"+(n?"/"+n:"")+"/pwt.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),o.default.info("HeaderBidding: injected pwt.js",(new Date).toISOString())},c.onReady=function(){d?d=!1:m()},c.onUnload=function(){window.PWT.bidIdMap={},window.PWT.adUnits={}},c.register()},function(e,t,n){"use strict";var a=i(n(9)),r=i(n(491)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=[];function u(e){1e3===s.length&&s.shift(),s.push(e)}function l(e){return e.toString()}(0,o.default)(a.default).on("npr:log:info",(function(e,t){u(new r.default({level:"INFO",message:t.message,data:t.data}))})),(0,o.default)(a.default).on("npr:log:warning",(function(e,t){u(new r.default({level:"WARNING",message:t.message,data:t.data,exception:t.exception}))})),(0,o.default)(a.default).on("npr:log:error",(function(e,t){u(new r.default({level:"ERROR",exception:t.exception,data:t.data}))})),void 0===window.NPR&&(window.NPR={}),window.NPR.Log={get:function(e){return"string"!=typeof e?s.map(l):s.filter((function(t){return t.level===e})).map(l)}}},function(e,t,n){"use strict";function a(e){this.level=e.level,this.message=e.message,this.exception=e.exception,this.data=e.data}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype={toString:function(){var e=this.level+": ";return this.message&&(e+=this.message),this.exception&&(e=e+"\n"+JSON.stringify(this.exception)),this.data&&(e=e+"\n"+JSON.stringify(this.data)),e}},t.default=a},function(e,t,n){"use strict";var a=m(n(18)),r=m(n(493)),o=m(n(495)),i=m(n(497)),s=m(n(36)),u=m(n(73)),l=n(14),c=m(n(2)),d=m(n(6)),f=m(n(126)),p=(m(n(54)),m(n(151)),m(n(131))),h=m(n(217));function m(e){return e&&e.__esModule?e:{default:e}}var g=a.default.create();g.name="navigation/global-navigation";var y=(0,h.default)("#main-menu");function v(e,t){var n=document.getElementById(t);if(n){var a=(0,s.default)();u.default.render(c.default.createElement(l.Provider,{store:a},e),n)}}g.onReady=function(){p.default.registerOnChange(_,"intent"),(0,d.default)(document).on("npr:navOverlayOpened",O),(0,d.default)(document).on("npr:navOverlayClosed",T),v(c.default.createElement(r.default,null),"navigation__station-mount"),v(c.default.createElement(i.default,{creativeSlot:"global navigation"}),"navigation__station-donate-mount"),v(c.default.createElement(o.default,null),"user-account-dropdown-mount"),v(c.default.createElement(o.default,null),"user-account-dropdown-mount-two")};var _=function(e){f.default.isScreenLargerOrEqual(f.default.BREAKPOINT.LARGE)&&("keyboard"===e?E():"mouse"===e&&b())},E=function(){var e=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(e,(function(e){e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded")}));var t=document.querySelectorAll(".npr-header .submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}));var n=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(n,(function(e){e.addEventListener("click",S),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false")}))};function S(e){var t=e.target,n=e.target.parentNode.nextElementSibling;t.classList.toggle("is-expanded"),"false"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false");var a=n.classList[2],r=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(r,(function(e){var t=e.querySelectorAll(".submenu")[0],n=t.classList[2],r=t.classList.contains("is-expanded");n!==a&&r&&(e.querySelectorAll(".submenu")[0].classList.toggle("is-expanded"),e.querySelectorAll(".menu__toggle-submenu")[0].classList.toggle("is-expanded"))})),n.classList.toggle("is-expanded")}var b=function(){var e=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("click",S),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.classList.remove("is-expanded")}));var t=document.querySelectorAll(".submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}))},O=function(){y.activate()},T=function(){y.deactivate()};(0,d.default)("body").hasClass("utility")||g.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=h(r),i=(h(n(4)),n(14)),s=h(n(131)),u=h(n(494)),l=p(n(24)),c=p(n(33)),d=p(n(219)),f=n(98);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.navigation.isStationDropdownExpanded||n.toggleDropDown()},n.handleMouseLeave=function(){n.props.navigation.isStationDropdownExpanded&&n.toggleDropDown()},n.toggleDropDown=function(){n.props.dispatch(d.stationDropdownToggled())},n.onLinkClick=function(e){n.props.dispatch(d.stationDropdownToggled())},n.onSwitchInputIntent=function(e){n.props.dispatch(d.closeStationSubnavs())},n.onNowOnStreamsRegistrationRequested=function(e){n.props.dispatch(c.nowOnStreamsRegistrationRequested(e))},n.onNowOnStreamsUnregistrationRequested=function(e){n.props.dispatch(c.nowOnStreamsUnregistrationRequested(e))},n.onPlayPauseRequested=function(e,t){n.props.dispatch(l.playPauseRequested(e,t)),n.props.dispatch(d.stationDropdownToggled())},n.onAudioModuleMounted=function(){n.props.dispatch(l.audioModuleMounted())},n.onMetadataLoaded=function(e){n.props.dispatch(c.metadataLoaded(e))},n.processIntentChange=function(e){n.onSwitchInputIntent()},n.handlers={onNowOnStreamsRegistrationRequested:n.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:n.onNowOnStreamsUnregistrationRequested,onPlayPauseRequested:n.onPlayPauseRequested,onAudioModuleMounted:n.onAudioModuleMounted,onMetadataLoaded:n.onMetadataLoaded,toggleDropDown:n.toggleDropDown,handleMouseEnter:n.handleMouseEnter,handleMouseLeave:n.handleMouseLeave},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){s.default.registerOnChange(this.processIntentChange,"intent")}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.org,a=e.metadata,r=e.navigation,i=e.site;return o.default.createElement(u.default,{metadata:a,org:n,user:t,navigation:r,site:i,handlers:this.handlers})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.org;return{navigation:e.navigation,org:n,site:e.site,user:t,localStations:e.localStations,metadata:(0,f.getDerivedMetadata)(e)}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(2)),r=(f(n(4)),n(149),f(n(7))),o=(f(n(126)),d(n(132))),i=d(n(19)),s=f(n(218)),u=f(n(172)),l=(f(n(469)),f(n(479))),c=n(32);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.navigation,n=e.metadata,d=e.org,f=e.user,p=e.handlers,h=e.site,m=(0,r.default)(t,"isStationDropdownExpanded"),g=s.default.isUserLoggedIn;if((0,r.default)(f,"org.status")===i.PENDING)return a.default.createElement(u.default,null);var y=(0,r.default)(f,"org.id"),v=d[y],_=void 0;if(v){var E=v.logoUrl?v.logoUrl:v.smallLogoUrl,S=(h.currentPage,o.HOME_PAGE_NEWS,function(e,t,n){var r=e.callLetters,o=""!==t,i="station-text";return r.length>20&&(i+=" has-long-name"),o?a.default.createElement("b",null,a.default.createElement("img",{src:t,alt:"Station Logo"})):a.default.createElement("b",{className:i},r)}(v,E)),b=v.callLetters;_=a.default.createElement("button",{onClick:p.toggleDropDown,"data-metrics-category":"global navigation","data-metrics-action":"toggle station drawer","data-metrics-label":b},S)}var O=y?" is-localized":" is-not-localized";O+=m?" chosen":"";var T,P=g(f),A=d[f.org.id]||{},w=(0,r.default)(A,"streams[0]"),I=w&&n?n[w]:null;return _?a.default.createElement("div",{className:"stations"+O,onMouseEnter:p.handleMouseEnter,onMouseLeave:p.handleMouseLeave},_,a.default.createElement("div",{className:"subnav subnav-stations"},a.default.createElement(l.default,{logoUrl:(T=A,T.logoUrl||T.smallLogoUrl),orgCall:A.callLetters,name:A.name,donateUrl:A.donateUrl,metadata:n,handlers:p,audio:I,isLoggedIn:P,source:c.STATION_DRAWER}))):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=d(r),i=(d(n(4)),n(14)),s=d(n(7)),u=d(n(496)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(219)),c=n(127);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,c.getBoundHandlers)(n,["onLinkClick","onUserLoginRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onLinkClick",value:function(){this.props.dispatch(l.closeStationSubnavs())}},{key:"onUserLoginRequested",value:function(){var e=this.props.site,t=(0,s.default)(e,"currentHref")?(0,s.default)(e,"currentHref"):"",n=encodeURIComponent(""+t);window.location.href=(0,s.default)(NPR,"ServerConstants.webHost")+"/account/login?returnUrl="+n}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.user,a=e.site;return o.default.createElement(u.default,{navigation:t,user:n,handlers:this.handlers,currentPage:a.currentPage})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{navigation:e.navigation,user:e.user,site:e.site}}))(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(2)),r=(s(n(4)),s(n(7))),o=n(129),i=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.navigation;var t=e.user,n=e.handlers,s=(e.currentPage,(0,r.default)(t,"view.data.attributes.id")),u=(0,r.default)(t,"oauth.token"),l="/account/profile?uid="+s,c=window.location.pathname,d=NPR.ServerConstants.webHostSecure?NPR.ServerConstants.webHostSecure+"/oauth2/login":void 0;return u?a.default.createElement("div",{className:"user-account is-logged-in"},a.default.createElement(i.default,{className:"user-account__profile",href:l,metrics:{action:"click profile link",label:"account",category:"global navigation"},metricsGA4:{category:"recirculation",action:o.GLOBAL_NAVIGATION_CLICK,clickType:"global navigation",clickName:"profile link",clickUrl:l},onClickHandler:n.onLinkClick},"Profile")):a.default.createElement("div",{className:"user-account"},a.default.createElement(i.default,{href:"#",className:"user-account__sign-in",onClickHandler:n.onUserLoginRequested,metrics:{action:"click sign in/register",label:c,category:"global navigation"},metricsGA4:{category:"recirculation",action:o.GLOBAL_NAVIGATION_CLICK,clickType:"global navigation",clickName:"sign in/register",clickUrl:d}},"Sign In"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=d(r),i=(d(n(4)),n(14)),s=d(n(7)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),l=d(n(171)),c=n(32);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDonateLinkClick=function(){var e=n.getOrgId();e&&n.props.dispatch(u.stationChangeRequested(e))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getOrgId",value:function(){var e=this.props.user;return(0,s.default)(e,"org.id")}},{key:"render",value:function(){var e=this.props.org,t=(0,s.default)(e,""+this.getOrgId());return o.default.createElement(l.default,{metricsCategory:c.GLOBAL_NAVIGATION,onClick:this.onDonateLinkClick,org:t,overrideText:"Donate",creativeSlot:this.props.creativeSlot})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org}}))(f)},function(e,t,n){"use strict";(function(e){var a,r,o,i=n(126),s=(o=i)&&o.__esModule?o:{default:o};a=[n(18),n(6),n(331),n(472)],void 0===(r=function(e,t,n){var a=e.create();function r(e,n){e.children("ul").fadeIn(300),t(n).each((function(e,n){o(t(n).parent("li"))}))}function o(e){e.children("ul").fadeOut()}a.name="globalfooter",a.onReady=function(){var e,a={over:function(){return r(t(this)),!1},timeout:0,out:function(){return o(t(this)),!1},interval:50};n.touch||s.default.isOnPhone()||s.default.isOnTablet()?(e=t(".primary > ul > li.has-subnav > a","#nprfooter")).on("click",(function(n){n.preventDefault();var a=t(this).parent("li"),i=this,s=t.grep(e,(function(e){return e!==i}));a.children("ul").is(":visible")?o(a):r(a,s)})):(e=t(".primary > ul > li.has-subnav","#nprfooter")).hoverIntent(a)},a.onUnload=function(){t(".primary > ul > li","#nprfooter").off("click")},a.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";var a=o(n(6)),r=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}n(500);var i=r.default.create();i.name="fitvids",i.onReady=function(){try{(0,a.default)(".bucketwrap.statichtml").fitVids({customSelector:'iframe[src^="https://www.facebook.com/plugins/video"], iframe[src*="www.funnyordie.com"]'})}catch(e){}},i.register()},function(e,t,n){(function(){
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
!function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',a.appendChild(r.childNodes[1])}return t&&e.extend(n,t),this.each((function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var a=e(this).find(t.join(","));(a=a.not("object object")).each((function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var a="fitvid"+Math.floor(999999*Math.random());t.attr("id",a)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}}))}))}}(n(6)||window.Zepto)}).call(window)},function(e,t,n){"use strict";var a=i(n(6)),r=i(n(18)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));function i(e){return e&&e.__esModule?e:{default:e}}var s=r.default.create();s.name="nielsen";var u=!1;function l(){var e;o.hasConsentedTo(o.TARGETING_AND_SPONSOR)&&!u&&((e=new Image(1,1)).onerror=e.onload=function(){e.onerror=e.onload=null},e.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803244h&cg=0&cc=1&si=",encodeURIComponent(window.location.href),"&rp=",encodeURIComponent(document.referrer),"&ts=compact&rnd=",(new Date).getTime()].join(""),u=!0)}s.onReady=function(){l(),(0,a.default)(document).on("npr:DataConsentChanged",l)},s.onUnload=function(){(0,a.default)(document).off("npr:DataConsentChanged",l),u=!1},s.register()},function(e,t,n){"use strict";var a,r=n(18);var o=((a=r)&&a.__esModule?a:{default:a}).default.create();function i(){return window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.storyId?window.NPR.serverVars.storyId:""}function s(){switch(i()){case"1002":return"homep0";case"1001":return"newsn0";case"1008":return"artsn0";case"129554188":return"npr_e0";case"376751684":return"podca0";case"":switch(document.location.pathname){case"/programs":case"/programs/":return"progr0";case"/podcasts/organizations/1":case"/podcasts/organizations/s1":case"/podcasts/organizations/1/":case"/podcasts/organizations/s1/":return"podca00";default:return""}default:return"NPR Extra"===(window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.blog?window.NPR.serverVars.blog:"")?"npr_e0":""}}o.name="metrics/doubleclickFloodlight",o.onReady=function(){var e=s();if(e){var t="1002"===i()?"homep0":"secti0",n=(1e13*Math.random()).toString().split(".")[0],a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("style","display:none"),a.setAttribute("src","https://6635101.fls.doubleclick.net/activityi;src=6635101;type="+t+";cat="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+n+"?");var r=document.getElementsByTagName("main");r.length&&r[0].appendChild(a)}},o.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=v(n(6)),o=v(n(18)),i=v(n(504)),s=v(n(151)),u=v(n(36)),l=v(n(7)),c=v(n(9)),d=y(n(505)),f=y(n(227)),p=y(n(135)),h=y(n(153)),m=y(n(129)),g=y(n(38));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var _=o.default.create();_.name="jw";var E=[],S=function(){var e=(0,r.default)("ul.playlist").height(),t=(0,r.default)(".playlist-item"),n=null,a=null;t.each((function(o,i){var s=(0,r.default)(this).position().top,u=(0,r.default)(this).height();s>-1&&null==n?(n=this,(0,r.default)(this).addClass("first").siblings().removeClass("first")):s+u>e&&null==a&&(a=(0,r.default)(t[o-1]),(0,r.default)(t[o]).addClass("last").siblings().removeClass("last"))}))},b=function(e,t){var n=void 0,a=void 0;return t.title?(n=t.title,a=O(t.file)):(a=O(e.playlist[0].sources[0].file),n=NPR.serverVars.title),[n,a]},O=function(e){return e=(e=e.substring(e.lastIndexOf("/")+1,e.length)).substring(0,e.indexOf("."))},T=function(e,t,o){n.e(97).then(function(y){var v=n(105);void 0===window.jwplayer&&(window.jwplayer=v),window.jwplayer.key=i.default.getKey(NPR.serverVars.aggIds);var _=window.jwplayer(e).setup(t);E.push(_);var S=!1,O=!1,T=!1,P=!1,A=0,w=1/0,I=!1;function D(){var e=_.getPlaylistItem(),n=Math.floor(_.getDuration()),r=Math.floor(_.getPosition()),o=b(t,e),i=a(o,2),s=i[0],u=i[1],l=h.getVideoCustomDimensions({duration:n,mediaId:u,provider:"jw player",currentTime:r,title:s}),c=p.createVideoVars(l);p.sendGTMEvent(m.VIDEO_SELECT_COMING_UP,c)}function C(e){var n=_.getPlaylistItem(),r=""+_.getDuration(),o=Math.floor(_.getDuration()),i=Math.round(e.offset),s=Math.round(i-w),u="Seek "+s+" seconds",l=n.resId?n.resId.toString():void 0,c=b(t,n),d=a(c,2),f=d[0],y=d[1];g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)&&ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:u,eventLabel:f,eventValue:i,dimension47:l,dimension48:f,dimension49:r});var v=h.getVideoCustomDimensions({currentTime:w,duration:o,mediaId:y,provider:"jw player",seekAmount:s,title:f}),E=p.createVideoVars(v);p.sendGTMEvent(m.VIDEO_SEEK,E),w=1/0}_.on("play",(function(){(0,r.default)("#"+e+" .jw-controlbar.jw-reset").css("display","block");var n=_.getPlaylistItem(),o=Math.floor(_.getDuration()),i=Math.floor(_.getPosition()),s=b(t,n),u=a(s,2),l=u[0],c=u[1];if(i>0&&I){var d=h.getVideoCustomDimensions({duration:o,mediaId:c,provider:"jw player",currentTime:i,title:l}),f=p.createVideoVars(d);p.sendGTMEvent(m.VIDEO_RESUME,f)}else if(0===i){S=!1,O=!1,T=!1,P=!1,I=!1;var g=h.getVideoCustomDimensions({duration:o,mediaId:c,provider:"jw player",title:l}),y=p.createVideoVars(g);p.sendGTMEvent(m.VIDEO_START,y)}})),_.on("ready",(function(){var e=_.getContainer().querySelector(".jw-nextup-container");e&&e.addEventListener("click",D)})),_.on("remove",(function(){var e=_.getContainer().querySelector(".jw-nextup-container");e&&(e.onclick=function(){e.removeEventListener("click",D)})})),_.on("pause",(function(){I=!0;var e=_.getPlaylistItem(),n=Math.floor(_.getDuration()),r=Math.floor(_.getPosition()),o=b(t,e),i=a(o,2),s=i[0],u=i[1],l=h.getVideoCustomDimensions({duration:n,mediaId:u,provider:"jw player",currentTime:r,title:s}),c=p.createVideoVars(l);p.sendGTMEvent(m.VIDEO_PAUSE,c)})),_.on("complete",(function(){var e=_.getPlaylistItem(),n=Math.floor(_.getDuration()),r=b(t,e),o=a(r,2),i=o[0],s=o[1],u=h.getVideoCustomDimensions({duration:n,mediaId:s,provider:"jw player",title:i}),l=p.createVideoVars(u);p.sendGTMEvent(m.VIDEO_COMPLETE,l)})),_.on("buffer",(function(){var e=_.getPlaylistItem(),n=Math.floor(_.getDuration()),r=Math.floor(_.getPosition()),o=b(t,e),i=a(o,2),s=i[0],u=i[1],l=h.getVideoCustomDimensions({duration:n,mediaId:u,provider:"jw player",currentTime:r,title:s}),c=p.createVideoVars(l);p.sendGTMEvent(m.VIDEO_BUFFER,c)})),_.on("time",(function(){var e=Math.floor(_.getPosition()),n=Math.floor(_.getDuration()),r=Math.floor(n/10),o=Math.floor(n/4),i=Math.floor(n/2),s=Math.floor(n/4*3);if(S||e!==r)if(O||e!==o)if(T||e!==i){if(!P&&e===s){var u=_.getPlaylistItem(),l=b(t,u),c=a(l,2),d=c[0],f=c[1],g=h.getVideoCustomDimensions({duration:n,mediaId:f,provider:"jw player",currentTime:e,percent:75,title:d}),y=p.createVideoVars(g);p.sendGTMEvent(m.VIDEO_PROGRESS,y),P=!0}}else{var v=_.getPlaylistItem(),E=b(t,v),A=a(E,2),w=A[0],I=A[1],D=h.getVideoCustomDimensions({duration:n,mediaId:I,provider:"jw player",currentTime:e,percent:50,title:w}),N=p.createVideoVars(D);p.sendGTMEvent(m.VIDEO_PROGRESS,N),T=!0}else{var C=_.getPlaylistItem(),R=b(t,C),M=a(R,2),L=M[0],j=M[1],k=h.getVideoCustomDimensions({duration:n,mediaId:j,provider:"jw player",currentTime:e,percent:25,title:L}),U=p.createVideoVars(k);p.sendGTMEvent(m.VIDEO_PROGRESS,U),O=!0}else{var x=_.getPlaylistItem(),F=b(t,x),B=a(F,2),G=B[0],H=B[1],V=h.getVideoCustomDimensions({duration:n,mediaId:H,provider:"jw player",currentTime:e,percent:10,title:G}),W=p.createVideoVars(V);p.sendGTMEvent(m.VIDEO_PROGRESS,W),S=!0}})),_.on("beforePlay",(function(){var e,n,a=(0,u.default)().getState(),r=(0,l.default)(a,"sponsorship").videoLastPlayedTimestamp;t.videoPrerollAdUrl&&(e=r,n=_.getCurrentTime(),(Date.now()/1e3-e>=f.SPONSORSHIP_INTERVAL||!e)&&0===n)?(c.default.info("JW: Attempting to play an ad. Last played timestamp: "+r),_.playAd(t.videoPrerollAdUrl)):c.default.info("JW: Not playing sponsorship. Last played at: "+r)})),_.on("adComplete",(function(){c.default.info("JW: Preroll ad complete."),(0,u.default)().dispatch(d.videoPrerollEnded())})),_.on("levelsChanged",(function(e){var n=_.getPlaylistItem(),r=""+_.getDuration(),o=Math.floor(_.getDuration()),i=e.levels[e.currentQuality].label,s=Math.floor(_.getPosition()),u=n.resId?n.resId.toString():void 0,l=b(t,n),c=a(l,2),d=c[0],f=c[1];g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)&&ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:"change video quality to "+i,eventLabel:d,dimension47:u,dimension48:d,dimension49:r});var y=h.getVideoCustomDimensions({currentTime:s,duration:o,mediaId:f,provider:"jw player",videoPixelQuality:i,title:d}),v=p.createVideoVars(y);p.sendGTMEvent(m.VIDEO_CHANGE_QUALITY,v)})),_.on("fullscreen",(function(){var e=_.getPlaylistItem(),n=""+_.getDuration(),r=Math.floor(_.getDuration()),o=jwplayer().getFullscreen()?"click fullscreen":"exit fullscreen",i=Math.floor(_.getPosition()),s=e.resId?e.resId.toString():void 0,u=b(t,e),l=a(u,2),c=l[0],d=l[1];g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)&&ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:o,eventLabel:c,dimension47:s,dimension48:c,dimension49:n});var f=h.getVideoCustomDimensions({currentTime:i,duration:r,mediaId:d,provider:"jw player",title:c}),y=p.createVideoVars(f);"click fullscreen"==o?p.sendGTMEvent(m.VIDEO_FULLSCREEN,y):p.sendGTMEvent(m.VIDEO_EXIT_FULLSCREEN,y)})),_.on("seek",(function(e){w===1/0&&(w=Math.floor(_.getPosition())),clearTimeout(A),A=setTimeout((function(e,t){e(t)}),1e3,C,e)})),_.on("volume",(0,s.default)((function(e){var n=_.getPlaylistItem(),r=""+_.getDuration(),o=Math.floor(_.getDuration()),i=Math.floor(_.getPosition()),s=n.resId?n.resId.toString():void 0,u=b(t,n),l=a(u,2),c=l[0],d=l[1];g.hasConsentedTo(g.PERFORMANCE_AND_ANALYTICS)&&ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:"adjust volume",eventLabel:c,eventValue:e.volume,dimension47:s,dimension48:c,dimension49:r});var f=h.getVideoCustomDimensions({currentTime:i,duration:o,mediaId:d,provider:"jw player",volumePosition:e.volume,title:c}),y=p.createVideoVars(f);p.sendGTMEvent(m.VIDEO_ADJUST_VOLUME,y)}),500)),o&&N(_,o)}.bind(null,n)).catch(n.oe)},P=window.matchMedia("(min-width: 768px)"),A=function(e,t){P.matches&&(0,r.default)(".playlist-wrapper").fadeIn().css("height",(0,r.default)(t).height());(0,r.default)(e+" ul.playlist");S(),(0,r.default)(e+" ul.playlist").scroll((function(){(0,r.default)("ul.playlist").scrollTop()>4?(0,r.default)(e+" .playlist__gradient--top").fadeIn():(0,r.default)(e+" .playlist__gradient--top").fadeOut(),(0,r.default)("ul.playlist")[0].scrollHeight-(0,r.default)("ul.playlist").height()<=(0,r.default)("ul.playlist").scrollTop()?(0,r.default)(".playlist__gradient--bottom").fadeOut():(0,r.default)(".playlist__gradient--bottom").fadeIn(),S()}))};function w(){(0,r.default)("[data-jwplayer]").each((function(e,t){var n=i.default.loadFromDiv(t).getConfig();if(n){var a=(0,r.default)(t);T(a.attr("id"),n),a.removeAttr("data-jwplayer")}}))}var I=function(e,t,n){var a=(0,r.default)(n.target).closest("a").data("mediaid"),o=e.findIndex((function(e){return a===e.mediaid}));n.preventDefault(),t.playlistItem(o)},D=function(e,t){var n=t.item.mediaid,a=(0,r.default)(e+" .playlist").find("[data-mediaid='"+n+"']").closest("li");a.addClass("active").siblings().removeClass("active");var o=(0,r.default)(e+" ul.playlist").scrollTop()+a.offset().top;if(o-=(0,r.default)(e+" ul.playlist").offset().top,P.matches)(0,r.default)(e+" ul.playlist").animate({scrollTop:o},400);else{var i=(0,r.default)(e+" ul.playlist").scrollLeft()+a.offset().left;i-=(0,r.default)(e+" ul.playlist").offset().left+10,(0,r.default)(e+" ul.playlist").animate({scrollLeft:i},400)}},N=function(e,t){var n={};n.playlist=e.getPlaylist(),(0,r.default)(t+" .playlist-wrapper").on("click",".playlist-item-link",I.bind(void 0,n.playlist,e)),e.on("playlistItem",D.bind(void 0,t))};function C(){var e=this;(0,r.default)("[data-jwplayer-playlist]").each((function(t,n){var a=i.default.loadPlaylistFromDiv(n).getPlaylistConfig();if(a){var o=(0,r.default)(n),s=o.attr("data-player-id"),u="#"+s,l="#"+o.attr("data-playlist-id");T(s,a,l),function e(t,n){(0,r.default)(t).height()?n():setTimeout((function(){e(t,n)}),100)}(u,A.bind(e,l,u)),o.removeAttr("data-jwplayer-playlist"),window.onresize=function(){P.matches?(0,r.default)(".playlist-wrapper").fadeIn().css("height",(0,r.default)("#"+s).height()):(0,r.default)(".playlist-wrapper").css("height","auto")}}}))}(0,r.default)(".playlist").keydown((function(e){13===e.which?document.activeElement.click():40===e.which?(0,r.default)(".playlist-item.active").next().find("a").trigger("click"):38===e.which&&(0,r.default)(".playlist-item.active").prev().find("a").trigger("click")})),_.onReady=function(){C(),w()},_.onUnload=function(){var e=void 0;if(E.length){for(e=0;e<E.length;e+=1)E[e].remove();E=[]}},_.register(),t.default={initPlayers:w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6),o=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(477));var s={JW_KEY:"Su8xStwAXR9gtor+0mdECJBHFZPPRE5MZo9e4feYE9O8a9Gg",JW_MUSIC_KEY:"GdFmEh97a/VGRu/sVb+wXsioVUZxKEoYiOF7lWfzEcW4Uznb"},u=[i.MUSIC_HOMEPAGE,i.CONCERTS_TOPIC,i.MUSIC_VIDEO_TOPIC,i.TINY_DESK,i.ALL_SONGS,i.MUSIC_LIVE_EVENT],l=function(e){this.skinSource=e.skinSource,this.width=e.width,this.height=e.height,this.image=e.image,this.sources=e.sources,this.videoPrerollAdUrl=e.videoPrerollAdUrl,this.shareUrl=e.shareUrl,this.embedLink=e.embedLink,this.tracks=e.tracks,this.webHost=e.webHost,this.resId=e.resId};l.prototype.getConfig=function(){var e=this._getBaseConfig();return e.playlist=[{image:this.image,sources:this.sources,tracks:this.tracks}],e},l.prototype._getBaseConfig=function(){var e={controls:!0,aspectratio:"16:9",repeat:!1,width:this.width,height:this.height,ga:{}};return e=this._addSkin(e),e=this._addSharing(e),e=this._addSponsorship(e)},l.prototype.getPlaylistConfig=function(){var e=this._getBaseConfig();return e.playlist=this.playlist,this.playlist&&(e.repeat=!0,e=this._addSharingForPlaylist(e)),e},l.prototype._addSkin=function(e){return e.skin={name:"npr",url:this.skinSource},e},l.prototype._addSharing=function(e){if(this.embedLink){var t="news";if("undefined"!=typeof URL&&"undefined"!=typeof window&&"undefined"!==window.location)t=new URL(window.location).searchParams.get("jwMediaType"),NPR.serverVars.aggIds&&NPR.serverVars.aggIds.some((function(e){return u.indexOf(parseInt(e,10))>=0}))&&(t="music");e.sharing={link:this.webHost+"MEDIAID?jwsource=cl",code:'<iframe id="jw_embed" width="600" height="338" src="'+this.embedLink+"&jwMediaType="+t+'" frameborder="0" scrolling="no"></iframe>'}}return e},l.prototype._addSharingForPlaylist=function(e){return this.embedLink&&(e.sharing={link:this.webHost+"MEDIAID?jwsource=cl"}),e},l.prototype._addSponsorship=function(e){return this.videoPrerollAdUrl&&(e.advertising={client:"googima",admessage:"Sponsor Message. Your video will begin shortly."},e.videoPrerollAdUrl=this.videoPrerollAdUrl),e};t.default={JWModel:l,loadFromDiv:function(e){return new l((0,o.default)(e).data("jwplayer"))},loadPlaylistFromDiv:function(e){var t=(0,o.default)(e).data("jwplayer-playlist"),n=new l(t[0]),a=function(e){var t=[];return e.forEach((function(e){t.push({image:e.image,sources:e.sources,tracks:e.tracks,title:e.title,description:e.description,duration:e.duration,mediaid:e.mediaid,resId:parseInt(e.resId,10)})})),t}(t);return n.playlist=a,n},getKey:function(e){if("undefined"!=typeof URL&&"undefined"!==window&&"undefined"!==window.location){var t=new URL(window.location).searchParams.get("jwMediaType");if(!e&&"music"!==t)return s.JW_KEY;if(e&&e.some((function(e){return u.indexOf(parseInt(e,10))>=0}))||"music"===t)return s.JW_MUSIC_KEY}return s.JW_KEY},Constants:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoPrerollEnded=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.videoPrerollEnded=function(){return{type:a.VIDEO_PREROLL_ENDED}}},function(e,t,n){"use strict";var a=l(n(18)),r=l(n(6)),o=l(n(154)),i=n(233),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38)),u=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var c=a.default.create();c.name="data-management-platform";var d="",f=!1,p=!1,h=function(){if(p)u.default.info("DMP: Permutive already injected");else{u.default.info("DMP: Injecting permutive JS"),p=!0;var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.id="permutive-js-tag",e.src="https://e1cef1f0-495f-4973-ba1c-880786e73a66.edge.permutive.app/e1cef1f0-495f-4973-ba1c-880786e73a66-web.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},m=function(){},g=function(){if(s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)&&!f){window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),u.default.info("DMP: sending permutive events"),f=!0;var e=NPR.serverVars.contentPartnerOrgFullName?NPR.serverVars.contentPartnerOrgFullName.split("|")[0]:"1",t=NPR.serverVars.aggIds?NPR.serverVars.aggIds:[],n=NPR.serverVars.byline?NPR.serverVars.byline:[],a=new o.default,i="not active - collapsed";(0,r.default)(".has-expanded-engaged-player").length>0&&(i="active");var l=a.getUserId();l&&window.permutive.identify([{id:l,tag:"userid",priority:1}]),window.permutive.addon("web",{page:{playerState:i,user:{localizedStation:d,loginStatus:a.getIsLoggedIn()},content:{Type:NPR.serverVars.pageTypeId,byline:n,parents:t,publishTime:(c=NPR.serverVars.pubDate,null!=c?c.substr(0,4)+"-"+c.substr(4,2)+"-"+c.substr(6,2)+"T"+c.substr(8,2)+":00:00-05:00":(new Date).toISOString()),publisher:e,storyId:NPR.serverVars.storyId}}}),h()}var c},y=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){if(0===window.googletag.pubads().getTargeting("permutive").length){u.default.info("DMP: setting permutive targeting"),window.headertag=window.headertag||{},window.headertag.cmd=window.headertag.cmd||[],window.headertag.cmd.push((function(){try{var e=JSON.parse(localStorage._pdfps||"[]").slice(0,250);window.headertag.setUserKeyValueData({segments:{permutive:e}})}catch(e){u.default.info("DMP: Error setting user key value data "+e)}}));var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[]);var t=window.localStorage.getItem("permutive-id");t&&(window.googletag.pubads().setTargeting("puid",t),window.googletag.pubads().setTargeting("ptime",Date.now().toString())),window.permutive.config.viewId&&window.googletag.pubads().setTargeting("prmtvvid",window.permutive.config.viewId),window.permutive.config.workspaceId&&window.googletag.pubads().setTargeting("prmtvwid",window.permutive.config.workspaceId)}else u.default.info("DMP: Permutive targeting is: "+window.googletag.pubads().getTargeting("permutive"))}))},v=function(){window.permutive.readyWithTimeout=window.permutive.readyWithTimeout||function(e,t,n){var a=!1,r=function(){a||(e(),a=!0)};(n=n||1/0)!==1/0&&window.setTimeout(r,n),permutive.ready(r,t)}},_=function(){u.default.info("DMP: Data consent changed"),s.hasConsentedTo(s.TARGETING_AND_SPONSOR)?(window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),v(),h(),y(),m()):(window.permutive.readyWithTimeout=void 0,window.googletag.pubads().clearTargeting("permutive"),window.googletag.pubads().clearTargeting("puid"),window.googletag.pubads().clearTargeting("ptime"),window.googletag.pubads().clearTargeting("prmtvvid"),window.googletag.pubads().clearTargeting("prmtvwid"),window.permutive&&(window.permutive.consent({opt_in:!1}),u.default.info("DMP: Removed permutive consent")))};c.init=function(){document.addEventListener("npr:LocalizationCompleted",(function(){u.default.info("DMP: localization completed. active groups "+window.OnetrustActiveGroups),d=(0,i.getLocalizedStationId)(),g(),m=function(){return g()}})),document.addEventListener("npr:DataConsentChanged",_),s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)&&(window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),v())},c.onReady=function(){s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)&&(u.default.info("DMP: pjax onReady. OnetrustActiveGroups:"+window.OnetrustActiveGroups),y(),m())},c.onUnload=function(){f=!1},c.register()},function(e,t,n){"use strict";var a=p(n(2)),r=p(n(73)),o=n(14),i=p(n(6)),s=p(n(18)),u=p(n(36)),l=p(n(508)),c=p(n(481)),d=n(483);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=[f(n(484)),f(n(485)),f(n(486)),f(n(534)),f(n(535)),f(n(537)),f(n(538))],m=s.default.create();m.name="persistent-audio";var g=(0,u.default)();m.init=function(){h.map((function(e){return e.init(g.dispatch)})),(0,i.default)(document).on("newAudioModules",(function(){return(0,d.mountAudioModules)(g)})),(0,i.default)("#globalheader").length&&((0,i.default)("#globalheader").before('<div id="player-react-mount"></div>'),r.default.render(a.default.createElement("div",{className:"player-react-mount-inner"},a.default.createElement(o.Provider,{store:g},a.default.createElement(c.default,null)),a.default.createElement(o.Provider,{store:g},a.default.createElement(l.default,null))),document.getElementById("player-react-mount")))},m.onReady=function(){(0,d.mountAudioModules)(g)},m.onUnload=function(){(0,d.unmountAudioModules)()},m.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=k(r),i=(k(n(4)),n(14)),s=n(149),u=k(n(217)),l=j(n(24)),c=j(n(33)),d=j(n(100)),f=j(n(152)),p=j(n(150)),h=j(n(231)),m=j(n(66)),g=j(n(178)),y=j(n(15)),v=j(n(104)),_=j(n(128)),E=k(n(509)),S=k(n(516)),b=k(n(517)),O=k(n(520)),T=k(n(521)),P=j(n(22)),A=j(n(101)),w=k(n(523)),I=n(98),D=n(89),N=n(127),C=n(130),R=n(103),M=n(45),L=n(25);function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}var U=o.default.lazy((function(){return Promise.all([n.e(7),n.e(98)]).then(n.t.bind(null,1198,7))})),x=o.default.lazy((function(){return Promise.all([n.e(7),n.e(99)]).then(n.t.bind(null,1199,7))})),F=o.default.lazy((function(){return n.e(102).then(n.t.bind(null,1200,7))})),B=o.default.lazy((function(){return n.e(101).then(n.t.bind(null,1201,7))})),G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,N.getBoundHandlers)(n,["onToggleExpanded","onTogglePlay","onRewind","onFastForward","onScrubBegin","onSeek","onScrubEnd","onPreviousAudioPlayRequested","onSkip","onSponsorshipSlotAvailable","onMobileSponsorshipSlotAvailable","onSoundscapesBannerClick","onMetadataLoaded","onPlayPauseRequested","onAddToQueue","onRemoveFromQueue","onLinkClick","onDonateLinkClick","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","newscastRequested","onAutoplayEnabled","onAutoplayDisabled","onSetAudioPlayerVolume","onPaneSelectedStreaming","onChangeStationSmallBp"]),n.focusTrap=(0,u.default)("#player-react-mount"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onToggleExpanded",value:function(){this.props.dispatch(l.toggleExpanded())}},{key:"onTogglePlay",value:function(e){this.props.dispatch(l.togglePlay(e,{playedFrom:"from play head"}))}},{key:"onRewind",value:function(e){this.props.dispatch(l.rewind(e))}},{key:"onFastForward",value:function(e){this.props.dispatch(l.fastForward(e))}},{key:"onScrubBegin",value:function(e){this.props.dispatch(l.scrubBegin(e))}},{key:"onSeek",value:function(e,t){this.props.dispatch(l.seek(e,t))}},{key:"onScrubEnd",value:function(e){this.props.dispatch(l.scrubEnd(e))}},{key:"onPreviousAudioPlayRequested",value:function(){this.props.dispatch(h.previousAudioPlayRequested())}},{key:"onSkip",value:function(){this.props.dispatch(l.skip())}},{key:"onSponsorshipSlotAvailable",value:function(){this.props.dispatch(f.sponsorshipSlotAvailable())}},{key:"onMobileSponsorshipSlotAvailable",value:function(){this.props.dispatch(f.setMobileSponsorshipSlotAvailable())}},{key:"onSoundscapesBannerClick",value:function(){this.props.dispatch(f.soundscapesBannerClicked(this.props.player.currentUid))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(c.metadataLoaded(e))}},{key:"onPlayPauseRequested",value:function(e,t){this.props.dispatch(l.playPauseRequested(e,{playedFrom:t}))}},{key:"onAddToQueue",value:function(e){this.props.dispatch(d.queueButtonPressed(e,_.PLAYER))}},{key:"onRemoveFromQueue",value:function(e){this.props.dispatch(d.removeOneFromQueue(e))}},{key:"onLinkClick",value:function(e){this.props.dispatch(p.linkClicked(e))}},{key:"onDonateLinkClick",value:function(e){this.props.dispatch(m.stationChangeRequested(e))}},{key:"onAutoplayEnabled",value:function(){this.props.dispatch(g.enableContinuousListening())}},{key:"onAutoplayDisabled",value:function(){this.props.dispatch(g.disableContinuousListening())}},{key:"onSetAudioPlayerVolume",value:function(e){this.props.dispatch(l.setAudioPlayerVolume(e))}},{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(c.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(c.nowOnStreamsUnregistrationRequested(e))}},{key:"onPaneSelectedStreaming",value:function(){this.props.dispatch(p.streamingPaneSelectedWithPlay())}},{key:"onChangeStationSmallBp",value:function(){this.props.dispatch(p.paneChangeWithExpand(v.STREAMING))}},{key:"getLocalStationCount",value:function(){return this.props.localStations.stations.length}},{key:"getPlayerControls",value:function(e,t){var n=!this.props.queue.length,a=!this.props.history.length||this.props.historyHeadPosition===this.props.history.length;switch(e.type){case y.SEGMENT:return o.default.createElement(r.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(U,{handlers:t,player:this.props.player,site:this.props.site,audio:e,isQueueEmpty:n,isHistoryEmpty:a,ecosystem:this.props.site.ecosystem,isMobileDevice:this.props.isMobileDevice}));case y.STREAM:return o.default.createElement(r.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(x,{handlers:t,player:this.props.player,site:this.props.site,audio:e,org:this.props.org,currentAudio:e,ecosystem:this.props.site.ecosystem}));case y.SPONSORSHIP:return(0,R.isSoundscapes)(e.subtype)?o.default.createElement(r.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(B,{handlers:t,player:this.props.player,audio:e,sponsorship:this.props.sponsorship})):o.default.createElement(r.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(F,{handlers:t,player:this.props.player,audio:e}));default:return o.default.createElement("div",null)}}},{key:"newscastRequested",value:function(e){this.props.dispatch(NewscastActions.newscastRequested(e))}},{key:"render",value:function(){var e=new Set,t=!this.props.sponsorship.sponsorshipDiv&&this.props.player.env.breakpoint!==P.SMALL,n=this.props.player.env.breakpoint===P.SMALL&&(this.props.sponsorship.isPlayingSponsorship||this.props.player.isExpanded);this.props.player.isEngaged&&(e.add("has-engaged-player"),this.props.player.isExpanded&&e.add("has-expanded-engaged-player"));var a=this.props.player.isEngaged,r={};this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(r=this.props.metadata[this.props.player.currentUid]);var i=void 0;if(this.props.sponsorship.loadCustomAdBackground){var u=(0,C.getUidFromAdSlotName)(A.PLAYER_PRIMARY,this.props.sponsorship.sponsorshipDiv);i=this.props.metadata[u]}var l=!!this.props.player.currentUid&&this.getPlayerControls(r,this.handlers),c=new Set;return r.type===y.STREAM&&c.add("has-live-radio"),this.props.sponsorship.isPlayingSponsorship&&c.add("is-playing-sponsorship"),this.props.sponsorship.mobileSponsorshipDiv&&c.add("has-mobile-sponsorship"),this.props.player.isPaneExpanded&&c.add("has-expanded-pane"),this.props.player.isExpanded&&this.props.player.env.breakpoint===P.SMALL?this.focusTrap.activate():this.focusTrap.deactivate(),o.default.createElement("div",{className:"player-wrap-outer "+Array.from(e).join(" ")},o.default.createElement("div",{className:"player-wrap-inner"},o.default.createElement(w.default,{player:this.props.player,handlers:this.handlers},o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionEnterTimeout:250,transitionLeaveTimeout:250},o.default.createElement("section",{id:"npr-player",className:"npr-player "+Array.from(c).join(" "),"aria-label":"NPR audio player"},o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:250,transitionEnterTimeout:250,transitionLeaveTimeout:250},(!a||!this.props.player.currentUid)&&o.default.createElement(E.default,{metadata:this.props.metadata,localOrg:this.props.org[this.props.user.org.id],orgStatus:this.props.user.org.status,site:this.props.site,handlers:this.handlers,queue:this.props.queue,player:this.props.player,localStationCount:this.getLocalStationCount()})),o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionEnterTimeout:250,transitionLeaveTimeout:250},a&&l),o.default.createElement(S.default,null),o.default.createElement(b.default,null),o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},this.props.sponsorship.mobileSponsorshipDiv&&o.default.createElement("div",null,!this.props.sponsorship.isPlayingSponsorship&&o.default.createElement("p",{className:"mobile-sponsorship-message"},"Sponsor Message"),o.default.createElement(T.default,{show:n,handlers:this.handlers,isMobileSlot:this.props.player.env.breakpoint===P.SMALL,divName:this.props.sponsorship.mobileSponsorshipDiv,leaveBehind:""}))),this.props.sponsorship.sponsorshipDiv&&o.default.createElement(T.default,{show:!0,divName:this.props.sponsorship.sponsorshipDiv,metadata:i,handlers:this.handlers}),this.props.sponsorship.leaveBehindDiv&&o.default.createElement("div",{className:"ad-leave-behind-container"},o.default.createElement("div",{className:"ad-leave-behind"},o.default.createElement(T.default,{show:t,divName:this.props.sponsorship.leaveBehindDiv,handlers:this.handlers}),t&&o.default.createElement("div",{className:"sponsorship-info"},o.default.createElement("b",null,"Sponsor Message"),o.default.createElement("a",{href:(0,M.getWebHost)()+"/about-npr/186948703/corporate-sponsorship"},"Become an NPR sponsor")))))))))}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.player,n=e.org,a=e.site,r=e.sponsorship,o=e.user,i=e.localStations;return{player:t,org:n,site:a,queue:(0,L.getConstructedQueue)(e),history:(0,L.getPlayerHistory)(e),historyHeadPosition:(0,L.getCurrentPlayerHistoryHeadPosition)(e),sponsorship:r,user:o,localStations:i,metadata:(0,I.getDerivedMetadata)(e),isMobileDevice:(0,D.isMobileDevice)(e)}}))(G)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=m(r),i=(m(n(4)),m(n(134))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19)),u=m(n(510)),l=m(n(511)),c=m(n(512)),d=m(n(513)),f=m(n(172)),p=n(514),h=m(n(515));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getInitialComponent",value:function(){if(this.props.player.currentUid){var e=this.props.metadata[this.props.player.currentUid];if((0,p.canResumeAudio)(e,this.props.player.position))return o.default.createElement(c.default,{handlers:this.props.handlers,audioToResume:e,player:this.props.player})}if(this.props.queue&&this.props.queue.length){var t=(0,i.default)(this.props.queue),n=this.props.metadata[t];return o.default.createElement(l.default,{handlers:this.props.handlers,headOfQueue:n,player:this.props.player})}if(this.props.player.featuredAudio.featuredAudioProgramUid&&this.props.metadata[this.props.player.featuredAudio.featuredAudioUid]&&!this.props.localOrg){var a=this.props.metadata[this.props.player.featuredAudio.featuredAudioUid];return o.default.createElement(h.default,{handlers:this.props.handlers,audioToFeature:a,player:this.props.player})}return this.props.orgStatus!==s.PENDING&&this.props.localStationCount>0&&!this.props.localOrg?o.default.createElement("div",null,o.default.createElement(d.default,{handlers:this.props.handlers,player:this.props.player,metadata:this.props.metadata})):this.props.orgStatus!==s.PENDING?o.default.createElement("div",null,o.default.createElement(u.default,{handlers:this.props.handlers,localOrg:this.props.localOrg,metadata:this.props.metadata,player:this.props.player})):o.default.createElement(f.default,null)}},{key:"render",value:function(){return o.default.createElement("div",{className:"player-initial"},this.getInitialComponent())}}]),t}(r.Component);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=p(r),i=(p(n(4)),n(560)),s=n(561),u=n(562),l=f(n(136)),c=p(n(99)),d=f(n(22));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){if(e.localOrg){var t=(0,i.pick)(e.metadata,e.localOrg.streams);return(0,u.find)(t,{primary:!0})}},m=function(e){var t=h(e);t&&e.handlers.onNowOnStreamsRegistrationRequested(t)},g=function(e){var t=h(e);t&&e.handlers.onNowOnStreamsUnregistrationRequested(t)},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.bindAll)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){c.default.bind(["mod+shift+space"],this.onClick),m(this.props)}},{key:"componentDidUpdate",value:function(e){var t=h(e),n=h(this.props);!t||!t.uid||n&&n.uid===t.uid||g(e),!n||!n.uid||t&&t.uid===n.uid||m(this.props)}},{key:"componentWillUnmount",value:function(){c.default.unbind(["mod+shift+space"],this.onClick),g(this.props)}},{key:"onClick",value:function(e){e.preventDefault();var t=h(this.props)||l.STREAM_24_HOUR_PROGRAM_METADATA;this.props.handlers.onPlayPauseRequested(t,"from initial state station stream")}},{key:"getNowPlayingText",value:function(){var e=h(this.props);return e&&e.nowPlayingText}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;return h(this.props)?(e=this.props.localOrg.name,t=this.getNowPlayingText()||"On Air Now"):(e=l.STREAM_24_HOUR_PROGRAM_METADATA.title,t="On Air Now",n="program-stream"),o.default.createElement("article",{className:"player-item item-initial item-news"},this.props.player.env.breakpoint===d.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one "+n},e),o.default.createElement("b",{className:"tag-two"},t))))}}]),t}(r.Component);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=l(r),i=(l(n(4)),l(n(74))),s=l(n(99)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.headOfQueue,"from initial state first item in queue")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-play-queue"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Start Listening"),o.default.createElement("b",{className:"tag-two"},"Play Your Playlist"))))}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=l(r),i=(l(n(4)),l(n(74))),s=l(n(99)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToResume,"from initial state - resume")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-resume"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Resume Listening"),o.default.createElement("b",{className:"tag-two"},this.props.audioToResume.title))))}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=u(r),i=(u(n(4)),u(n(99))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){i.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){i.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-liveradio"},this.props.player.env.breakpoint===s.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Close")),this.props.player.env.breakpoint===s.SMALL&&o.default.createElement("button",{className:"toggle-expanded-initial-player toggle-expanded-initial-player--two",onClick:this.props.handlers.onPaneSelectedStreaming,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Open"),o.default.createElement("button",{className:"play-initial",onClick:this.props.handlers.onPaneSelectedStreaming},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},o.default.createElement("span",null,"Play Live Radio")))))}}]),t}(r.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canResumeAudio=function(e,t){return e&&(e.type===a.STREAM||e.duration-t>10)};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=l(r),i=(l(n(4)),l(n(74))),s=l(n(99)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToFeature,"from initial state - featured audio")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-featured-audio"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial player-initial--featured-audio",onClick:this.onClick},o.default.createElement("b",{className:"tag-wrapper-featured-audio"},o.default.createElement("b",{className:"tag-one tag-one--featured-audio"},"Today's Top Headlines In"===this.props.player.featuredAudio.featuredAudioText?this.props.player.featuredAudio.featuredAudioText+=" "+Math.floor(this.props.audioToFeature.duration/60).toString()+" Minutes.":this.props.player.featuredAudio.featuredAudioText),o.default.createElement("b",{className:"image-wrapper-featured-audio"},o.default.createElement("img",{className:"image-featured-audio",src:this.props.player.featuredAudio.featuredAudioImage})))))}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=w(r),i=(w(n(4)),n(14)),s=n(149),u=w(n(90)),l=A(n(104)),c=A(n(128)),d=A(n(15)),f=A(n(24)),p=A(n(152)),h=A(n(150)),m=A(n(66)),g=A(n(178)),y=A(n(33)),v=A(n(100)),_=A(n(212)),E=n(98),S=n(89),b=A(n(22)),O=n(76),T=n(25),P=A(n(37));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=o.default.lazy((function(){return n.e(92).then(n.t.bind(null,1202,7))})),C=o.default.lazy((function(){return n.e(93).then(n.t.bind(null,1203,7))})),R=o.default.lazy((function(){return n.e(96).then(n.t.bind(null,1204,7))})),M=function(e){function t(){var e,n,a;I(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=D(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onSoundscapesBannerClick=function(){a.props.onSoundscapesBannerClick(a.props.player.currentUid)},a.getCurrentAudioMetadata=function(){return a.props.player.currentUid&&a.props.metadata[a.props.player.currentUid]?a.props.metadata[a.props.player.currentUid]:{}},a.getAvailableLocalNewscastId=function(){var e=a.props.user.org.id;return a.props.metadata[(0,O.getNewscastUidForOrg)(e)]?e:0},a.getContentForPanel=function(){var e=a.props.user.org.id,t=e&&e!==P.NPR?a.props.org[e]:{},n=!(a.props.player.env.breakpoint===b.SMALL&&(0,u.default)(t)&&!a.props.player.currentUid);switch(a.props.currentPane){case l.STREAMING:return o.default.createElement(N,{metadata:a.props.metadata,orgs:a.props.org,localStations:a.props.localStations,userOrg:t,onPlayPauseRequested:a.props.onPlayPauseRequested,onNowOnStreamsRegistrationRequested:a.props.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:a.props.onNowOnStreamsUnregistrationRequested,breakpoint:a.props.player.env.breakpoint,isPaneExpanded:!0===a.props.player.isPaneExpanded,collapsePane:a.props.collapsePane,stationChangeRequested:a.props.stationChangeRequested,findAnotherStationCallback:a.findAnotherStationCallback,onLinkClick:a.props.onLinkClick,availableLocalNewscastId:a.getAvailableLocalNewscastId(),shouldRenderOverlayCloseButton:n});case l.ON_DEMAND:return o.default.createElement(C,{metadata:a.props.metadata,queue:a.props.queue,isAudioRecommendationFunc:a.props.isAudioRecommendationFunc,history:a.props.history,isAutoplayEnabled:a.props.isAutoplayEnabled,onPlayPauseRequested:a.props.onPlayPauseRequested,onAddToQueue:a.props.onAddToQueue,onRemoveFromQueue:a.props.onRemoveFromQueue,onLinkClick:a.props.onLinkClick,onAutoplayEnabled:a.props.onAutoplayEnabled,onAutoplayDisabled:a.props.onAutoplayDisabled,isSmallBreakpoint:a.props.isSmallBreakpoint});case l.NEWSCAST:return o.default.createElement(R,{metadata:a.props.metadata,onPlayPauseRequested:a.props.onPlayPauseRequested,onNewscastRequested:a.props.newscastRequested,orgs:a.props.org,userOrg:t,isPlaying:a.props.player.isPlaying,onLinkClick:a.props.onLinkClick,isAutoplayEnabled:a.props.isAutoplayEnabled,onAutoplayEnabled:a.props.onAutoplayEnabled,onAutoplayDisabled:a.props.onAutoplayDisabled,isMobileDevice:a.props.isMobileDevice,isSmallBreakpoint:a.props.isSmallBreakpoint});default:return null}},a.findAnotherStationCallback=function(){a.props.player.env.breakpoint===b.SMALL&&a.props.collapsePane()},a.shouldRenderContentArea=function(){var e=a.getCurrentAudioMetadata(),t=a.props.player,n=t.isEngaged,r=t.isExpanded,o=t.isPaneExpanded;return n&&r&&o&&e.type!==d.SPONSORSHIP},D(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},o.default.createElement(r.Suspense,{fallback:o.default.createElement("div",{className:"player-details player-details--lazy","aria-label":"loading"})},this.shouldRenderContentArea()&&this.getContentForPanel()))}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,org:e.org,user:e.user,localStations:e.localStations,isAudioRecommendationFunc:function(t){return(0,T.isAudioRecommendation)(e,t)},currentPane:(0,T.getCurrentPane)(e),queue:(0,T.getConstructedQueue)(e),history:(0,T.getPlayerHistory)(e),metadata:(0,E.getDerivedMetadata)(e),isSmallBreakpoint:(0,S.isSmallBreakpoint)(e),isMobileDevice:(0,S.isMobileDevice)(e),isAutoplayEnabled:(0,T.shouldEnableContinuousListening)(e)}}),(function(e){return{onSoundscapesBannerClick:function(t){return e(p.soundscapesBannerClicked(t))},onPlayPauseRequested:function(t,n){return e(f.playPauseRequested(t,{playedFrom:n}))},onAddToQueue:function(t){return e(v.queueButtonPressed(t,c.PLAYER))},onRemoveFromQueue:function(t){return e(v.removeOneFromQueue(t))},onLinkClick:function(t){return e(h.linkClicked(t))},onAutoplayEnabled:function(){return e(g.enableContinuousListening())},onAutoplayDisabled:function(){return e(g.disableContinuousListening())},onNowOnStreamsRegistrationRequested:function(t){return e(y.nowOnStreamsRegistrationRequested(t))},onNowOnStreamsUnregistrationRequested:function(t){return e(y.nowOnStreamsUnregistrationRequested(t))},newscastRequested:function(t){return e(_.newscastRequested(t))},collapsePane:function(){return e(h.collapsePane())},stationChangeRequested:function(t){return e(m.stationChangeRequested(t))}}}))(M)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=m(r),i=(m(n(4)),n(14)),s=h(n(22)),u=m(n(518)),l=m(n(519)),c=h(n(150)),d=n(76),f=h(n(212)),p=h(n(37));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,a;g(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.getCurrentAudioMetadata=function(){return a.props.player.currentUid&&a.props.metadata[a.props.player.currentUid]?a.props.metadata[a.props.player.currentUid]:{}},a.getAvailableLocalNewscastId=function(){var e=a.props.user.org.id;return a.props.metadata[(0,d.getNewscastUidForOrg)(e)]?e:0},a.getContentForPanel=function(){var e=a.props.player.env.breakpoint,t=a.getCurrentAudioMetadata(),n=a.props.user.org.id,r=n&&n!==p.NPR?a.props.org[n]:{};return e!==s.SMALL?o.default.createElement(u.default,{onPaneSelectedStreaming:a.props.onPaneSelectedStreaming,onPaneSelectedOnDemand:a.props.onPaneSelectedOnDemand,onPaneSelectedNewscast:a.props.onPaneSelectedNewscast}):o.default.createElement(l.default,{onPaneSelectedStreaming:a.props.onPaneSelectedStreaming,onNewscastPaneSelectedWithPlaySmallBp:a.props.onNewscastPaneSelectedWithPlaySmallBp,onNewscastRequested:a.props.newscastRequested,currentAudio:t,availableLocalOrgId:a.getAvailableLocalNewscastId(),userOrg:r})},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return o.default.createElement("span",{className:"player-extras-wrap"},this.getContentForPanel())}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,metadata:e.metadata,user:e.user,org:e.org}}),(function(e){return{onPaneSelectedStreaming:function(){return e(c.streamingPaneSelectedWithPlay())},onPaneSelectedOnDemand:function(){return e(c.onDemandPaneSelectedWithPlay())},onPaneSelectedNewscast:function(){return e(c.newscastPaneSelectedWithPlay())},onNewscastPaneSelectedWithPlaySmallBp:function(t){return e(c.newscastPaneSelectedWithPlaySmallBp(t))},newscastRequested:function(t){return e(f.newscastRequested(t))}}}))(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=(o(n(4)),o(n(170)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onPaneSelectedStreaming,n=e.onPaneSelectedOnDemand,o=e.onPaneSelectedNewscast;return a.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},a.default.createElement("li",null,a.default.createElement(r.default,{metrics:{},onClick:o,className:"btn-newscast"},a.default.createElement("b",null,"Hourly News"))),a.default.createElement("li",null,a.default.createElement(r.default,{metrics:{},onClick:t,className:"btn-live-radio"},a.default.createElement("b",null,"Listen Live"))),a.default.createElement("li",null,a.default.createElement(r.default,{metrics:{},onClick:n,className:"btn-playlist"},a.default.createElement("b",null,"Playlist"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=f(r),i=(f(n(4)),f(n(170))),s=d(n(15)),u=d(n(37)),l=n(76),c=f(n(90));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;p(this,t);for(var r=arguments.length,c=Array(r),d=0;d<r;d++)c[d]=arguments[d];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onNewscastSelected=function(e){return function(){a.props.onNewscastPaneSelectedWithPlaySmallBp(e)}},a.getContent=function(){var e=a.props.currentAudio,t=e.type,n=e.subtype,r=e.uid,c=[],d=o.default.createElement("li",{key:1},o.default.createElement(i.default,{metrics:{},onClick:a.props.onPaneSelectedStreaming,className:"btn-live-radio"},o.default.createElement("b",null,"Listen Live"))),f=o.default.createElement("li",{key:2},o.default.createElement(i.default,{metrics:{},onClick:a.onNewscastSelected(u.NPR),className:"btn-newscast"},o.default.createElement("b",null,"Hourly News"))),p=a.props.availableLocalOrgId?o.default.createElement("li",{key:3},o.default.createElement(i.default,{metrics:{},onClick:a.onNewscastSelected(a.props.availableLocalOrgId),className:"btn-newscast"},o.default.createElement("b",null,"Local News"))):null;return a.props.currentAudio?t!==s.SPONSORSHIP&&(t===s.SEGMENT?(c.push(d),n===s.SEGMENT_NEWSCAST?r===(0,l.getNewscastUidForOrg)(u.NPR)?c.push(p):c.push(f):c.push(p,f)):c.push(p,f)):c.push(d,p,f),c.filter((function(e){return!!e}))},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){(0,c.default)(this.props.userOrg)||this.props.onNewscastRequested(this.props.userOrg.id),this.props.onNewscastRequested(u.NPR)}},{key:"render",value:function(){return o.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},this.getContent())}}]),t}(r.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),r=(i(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22))),o=n(220);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--lazy"},a.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(e.player.env.breakpoint,e.player.env.hasRightRail)&&a.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:e.handlers.onToggleExpanded,"aria-expanded":e.player.isExpanded,"aria-label":"Toggle more player options"},!e.player.isExpanded&&"Open",e.player.isExpanded&&"Close"),e.player.env.breakpoint!==r.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),a.default.createElement("div",{className:"player-controls"},a.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),a.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),e.player.env.breakpoint===r.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),a.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),a.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),a.default.createElement("b",{className:"track"},a.default.createElement("b",{className:"track-inner"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=s(r),i=(s(n(4)),s(n(522)));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isMobileSlot?this.props.handlers.onMobileSponsorshipSlotAvailable():this.props.handlers.onSponsorshipSlotAvailable()}},{key:"render",value:function(){var e=this.props.isMobileSlot?["ad-player-mobile"]:["ad-player"];return this.props.show||e.push("hidden"),o.default.createElement("div",{className:e.join(" "),id:this.props.divName},this.props.metadata&&o.default.createElement(i.default,{sponsorClickthrough:this.props.metadata.sponsorClickthrough,animationIframeUrl:this.props.metadata.animationIframeUrl,onSoundscapesBannerClick:this.props.handlers.onSoundscapesBannerClick}))}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(2));o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,a;i(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onSoundscapesBannerClick=function(){a.props.onSoundscapesBannerClick()},s(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return r.default.createElement("div",{className:"custom-sponsorship-slot-content"},r.default.createElement("div",{className:"iframe-container"},r.default.createElement("iframe",{src:this.props.animationIframeUrl,scrolling:"no"})),r.default.createElement("div",{className:"sponsor-clickthrough full-height"},r.default.createElement("a",{href:this.props.sponsorClickthrough,rel:"noopener noreferrer",target:"_blank",onClick:this.onSoundscapesBannerClick},"")),r.default.createElement("div",{className:"custom-audio-help-link"}," ","What's this?"),r.default.createElement("div",{className:"sponsorship-disclaimer"},"The message you are hearing is from the sponsor, which is solely responsible for the content."))}}]),t}(r.default.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(2)),o=(u(n(4)),n(220)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(22)),s=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),s.default.error("NPR - error - player-container-error-boundary.jsx componentDidCatch: ","error: "+e+" errorInfo: "+t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.player.env.breakpoint!==i.LARGE||(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)?"":"has-engaged-player has-expanded-engaged-player";return r.default.createElement("div",{className:"player-wrap-outer "+e},r.default.createElement("div",{className:"player-wrap-inner"},r.default.createElement("section",{id:"npr-player",className:"npr-player","aria-label":"NPR audio player"},r.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--error"},r.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)&&r.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:this.props.handlers.onToggleExpanded,"aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close"),this.props.player.env.breakpoint!==i.SMALL&&r.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),r.default.createElement("div",{className:"player-controls"},r.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),r.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),this.props.player.env.breakpoint===i.SMALL&&r.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),r.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),r.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),r.default.createElement("div",{className:"audio-info"},r.default.createElement("b",{className:"audio-program-label"},"Sorry, an error occurred"),r.default.createElement("b",{className:"audio-title"},"Please reload the page and try again.")),r.default.createElement("b",{className:"track"},r.default.createElement("b",{className:"track-inner"})))))))}return this.props.children}}]),t}(r.default.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=f(r),i=(f(n(4)),f(n(6))),s=f(n(90));n(482);var u=f(n(9)),l=f(n(30)),c=n(102),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15));function f(e){return e&&e.__esModule?e:{default:e}}var p=navigator.userAgent.match(/android/i),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.audioplayerRef=o.default.createRef(),n.state={didUpdateFirstTime:!1,initialVolume:e.player.volume},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;this.timeUpdateThreshold=1,(0,i.default)(this.audioplayerRef.current).jPlayer({supplied:"mp3",wmode:"window",autoBlur:!1,ended:function(){return e.props.handlers.onAudioComplete(e.props.audio)},playing:function(){return e.props.handlers.onAudioPlayingStatusDirect(!0,e.props.audio)},pause:function(){return e.props.handlers.onAudioPlayingStatusDirect(!1,e.props.audio)},durationchange:function(t){return e.props.handlers.onAudioDurationChange(e.props.audio.uid,t.jPlayer.status.duration)},error:function(t){return e.handleError(t)},loadeddata:function(){return e.handleSuccessfulLoad()}}),this.enableBufferingCheck(),this.setAudioPlayerVolume(this.state.initialVolume)}},{key:"resetBuffering",value:function(){this.lastPlayPosition=0,this.bufferingDetected=!1}},{key:"enableBufferingCheck",value:function(){var e=this;this.resetBuffering();setInterval(function(){var t=(0,i.default)(e.audioplayerRef.current).data().jPlayer.status.currentTime;!e.bufferingDetected&&t<e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!0,e.props.handlers.onAudioBufferingStarted(e.props.audio)),e.bufferingDetected&&t>e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!1,e.props.handlers.onAudioBufferingFinished(e.props.audio)),e.lastPlayPosition=t}.bind(this),600)}},{key:"componentWillUpdate",value:function(e,t){var n=(0,i.default)(this.audioplayerRef.current).data().jPlayer,a=(0,c.getAudioUrlToPlay)(e.audio);if(this.state.didUpdateFirstTime){if(e.audio&&((!this.props.audio.isAudioReady&&e.audio.isAudioReady||e.audio.isAudioReady&&this.props.audio.uid!==e.audio.uid||e.audio.isAudioReady&&(0,s.default)(n.status.media))&&this.load(a,!1),(n.status.paused||n.status.waitForPlay)&&e.audio.isPlaying&&this.play(a),n.status.paused||e.audio.isPlaying||this.pause(),e.player.volume!==this.props.player.volume&&this.setAudioPlayerVolume(e.player.volume),this.props.player.env.isPageVisible&&Math.abs(e.player.position-this.props.player.position)>2*this.timeUpdateThreshold)){var r=e.player.position/this.props.audio.duration*100;this.seek(r)}}else this.setState({didUpdateFirstTime:!0})}},{key:"play",value:function(e){var t=(0,i.default)(this.audioplayerRef.current);this.props.audio.type===d.STREAM?(p||(t.jPlayer("clearMedia"),this.load(e,!0)),t.jPlayer("play")):t.jPlayer("play",this.props.player.position)}},{key:"pause",value:function(){(0,i.default)(this.audioplayerRef.current).jPlayer("pause")}},{key:"load",value:function(e,t){if(e){var n=t?l.default.addUrlParameter(e,"ck",(new Date).getTime()):e;(0,i.default)(this.audioplayerRef.current).jPlayer("setMedia",{mp3:n}),this.resetBuffering()}}},{key:"seek",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("playHead",e)}},{key:"setAudioPlayerVolume",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("volume",e)}},{key:"handleSuccessfulLoad",value:function(){this.props.player.userEverInvokedPlay&&this.props.handlers.onAudioLoaded(this.props.audio)}},{key:"handleError",value:function(e){var t=e.jPlayer.error,n=(0,c.getAudioUrlToPlay)(this.props.audio);switch(t.type){case i.default.jPlayer.error.FLASH:case i.default.jPlayer.error.FLASH_DISABLED:case i.default.jPlayer.error.NO_SOLUTION:u.default.error(new Error("Persistent audio player failed to start jPlayer."),{version:e.jPlayer.version});break;case i.default.jPlayer.error.NO_SUPPORT:case i.default.jPlayer.error.URL_NOT_SET:u.default.error(new Error("Failed to find any supported audio formats at "+n),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;case i.default.jPlayer.error.URL:u.default.error(new Error("Failed retrieving "+n+" for playback."),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;default:u.default.warning("Unhandled jPlayer error",{type:t.type,message:t.message})}}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:0,height:0},id:"audio-player",ref:this.audioplayerRef})}}]),t}(r.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(2)),o=c(n(73)),i=n(14),s=c(n(6)),u=n(176),l=c(n(325));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;t.default={retrieveMetadataFromDOM:function(e,t){return d=[],(0,s.default)("[data-audio]").each((function(){var e=(0,s.default)(this).data("audio"),n=(0,s.default)(this).data("audio-metrics"),r=(0,s.default)(this).data("audio-cta-override-text");e.hasOwnProperty("skipSponsorship")||(e.skipSponsorship=t),e.available&&(e.audioUrl&&(e.audioUrl=(0,u.deObfuscateUrl)(e.audioUrl)),(0,s.default)(this).removeAttr("data-audio"),(0,s.default)(this).removeAttr("data-audio-cta-override-text"),d.push(a({metadata:e,metrics:n},r?{callToActionOverrideText:r}:{},{domNode:this})))})),d.map((function(e){return e.metadata}))},mountModules:function(e){d.map((function(t){return o.default.render(r.default.createElement(i.Provider,{store:e},r.default.createElement(l.default,{audio:t.metadata,metrics:t.metrics,callToActionOverrideText:t.callToActionOverrideText?t.callToActionOverrideText:null})),t.domNode)}))},unmountModules:function(){d.map((function(e){return o.default.unmountComponentAtNode(e.domNode)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=f(r),i=(f(n(4)),f(n(74))),s=n(88),u=n(210),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(336)),c=f(n(46)),d=n(102);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onPlayPauseClick","onQueueClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.handlers.onAudioModuleMounted()}},{key:"onPlayPauseClick",value:function(){this.props.handlers.onPlayPausePressed(this.props.audio)}},{key:"onQueueClick",value:function(){this.props.handlers.onQueue(this.props.audio.uid)}},{key:"renderQueueButton",value:function(){var e=["audio-module-queue"],t="icn-playlist",n="Playlist";return l.NPR_ONE_IOS===this.props.renderPlatform&&(e.push("listen-later"),n="Listen Later"),this.props.audio.userQueuedStatus===d.USER_QUEUED_STATUS.ADDED?(e.push("queued"),n="Added",t="icn-playlist-added"):this.props.audio.userQueuedStatus===d.USER_QUEUED_STATUS.LOADING&&(n="",t="icn-playlist-loading"),o.default.createElement("button",{className:e.join(" "),onClick:this.onQueueClick},o.default.createElement("b",{className:"audio-module-queue-inner"},o.default.createElement("b",{className:t}),o.default.createElement("b",{className:"audio-module-queue-text"},n)))}},{key:"render",value:function(){var e=this.props.audio.isPlaying?"audio-module-listen is-playing":"audio-module-listen",t=["audio-module-listen-icon",(0,u.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)],n=c.default.isMobileNativeApp(this.props.renderPlatform);return o.default.createElement("div",{className:"audio-module-controls"},o.default.createElement("button",{className:e,onClick:this.onPlayPauseClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),o.default.createElement("b",{className:"audio-module-listen-text"},this.props.callToActionOverrideText?o.default.createElement("b",{className:"audio-module-cta",dangerouslySetInnerHTML:{__html:this.props.callToActionOverrideText}}):o.default.createElement("b",{className:"audio-module-cta"},"Listen"),!!this.props.audio.duration&&o.default.createElement("b",{className:"audio-module-listen-duration"}," ",(0,s.secondsAsHMMSS)(this.props.audio.duration))))),!!this.props.audio.duration&&!n&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsFormattedText)(this.props.audio.duration)),!!this.props.audio.duration&&n&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsHMMSS)(this.props.audio.duration)),!this.props.audio.duration&&o.default.createElement("time",{className:"audio-module-duration",dateTime:"0"},"Listen"),(n||!this.props.isSmallBreakpoint)&&this.renderQueueButton())}}]),t}(r.Component);t.default=p,p.defaultProps={renderPlatform:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(2)),o=c(n(73)),i=n(14),s=c(n(6)),u=n(176),l=c(n(528));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;t.default={retrieveMetadataFromDOM:function(){d=[];var e=[];return(0,s.default)("[data-play-all]").each((function(){var t=(0,s.default)(this).data("play-all");if((0,s.default)(this).removeAttr("data-play-all"),t.audioData){var n=t.audioData.map((function(e){return e.audioUrl?Object.assign({},e,{audioUrl:(0,u.deObfuscateUrl)(e.audioUrl)}):""})),r=a({},t,{audioData:n});d.push({deobfuscatedPlayAllData:r,domNode:this}),e=e.concat(n)}})),e},mountModules:function(e){d.map((function(t){return o.default.render(r.default.createElement(i.Provider,{store:e},r.default.createElement(l.default,t.deobfuscatedPlayAllData)),t.domNode)}))},unmountModules:function(){d.map((function(e){return o.default.unmountComponentAtNode(e.domNode)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=E(r),i=(E(n(4)),n(14)),s=E(n(74)),u=E(n(134)),l=E(n(529)),c=_(n(100)),d=_(n(24)),f=n(98),p=n(89),h=E(n(326)),m=E(n(172)),g=_(n(128)),y=n(92),v=E(n(46));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["onAddFullToQueue","onAddSegmentsToQueue","onClickPlayAllFull","onClickPlayAllSegments","onCountryRequested"]),n.state={allAddedToQueue:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onAddFullToQueue",value:function(){var e=this,t=(0,u.default)(this.props.full);this.props.dispatch(c.queueButtonPressed(t,g.PAGE)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onAddSegmentsToQueue",value:function(){var e=this;this.props.dispatch(c.addManyToQueue(this.props.segments,g.PAGE)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onClickPlayAllFull",value:function(){var e=(0,u.default)(this.props.full),t=this.props.metadata[e];this.props.dispatch(d.playPauseRequested(t,{playedFrom:"from listen to all"}))}},{key:"onClickPlayAllSegments",value:function(){this.props.dispatch(c.addManyToTopOfQueue(this.props.segments,{origin:g.PAGE}));var e=(0,u.default)(this.props.segments),t=this.props.metadata[e];this.props.dispatch(d.playPauseRequested(t,{playedFrom:"from listen to all"}))}},{key:"onCountryRequested",value:function(){this.props.dispatch(d.countryRequested())}},{key:"render",value:function(){if("episode"===this.props.type&&this.props.full.length)return o.default.createElement(l.default,{onAddToQueue:this.onAddFullToQueue,onClickPlay:this.onClickPlayAllFull,isMobileDevice:this.props.isMobileDevice,allAddedToQueue:this.state.allAddedToQueue,cta:"Listen to Full Show"});if(!this.props.isMobileDevice&&!v.default.isMobileNativeApp(this.props.renderPlatform)&&this.props.segments.length){var e="Listen to all";"firstListen"===this.props.type&&(e="Listen to Full Album"),"episode"===this.props.type&&(e="Listen to Full Show");var t=o.default.createElement(l.default,{onAddToQueue:this.onAddSegmentsToQueue,onClickPlay:this.onClickPlayAllSegments,isSmallBreakpoint:this.props.isSmallBreakpoint,allAddedToQueue:this.state.allAddedToQueue,cta:e}),n=this.props.audioData.find((function(e){return e.geofencedRegions&&e.geofencedRegions.length}));return n?o.default.createElement(h.default,{geofencedRegions:n.geofencedRegions,country:this.props.player.env.country,inside:t,outside:o.default.createElement(m.default,null),onCountryRequested:this.onCountryRequested}):t}return o.default.createElement(m.default,null)}}]),t}(r.Component);S.defaultProps={renderPlatform:""},t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,f.getDerivedMetadata)(e),isMobileDevice:(0,p.isMobileDevice)(e),isSmallBreakpoint:(0,p.isSmallBreakpoint)(e),renderPlatform:(0,y.getRenderPlatform)(e)}}))(S)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(2));r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cta,n=e.onClickPlay,r=e.onAddToQueue,o=e.allAddedToQueue,i=e.isSmallBreakpoint;return a.default.createElement("div",{className:"audio-module-controls play-all-controls"},a.default.createElement("button",{className:"audio-module-listen",onClick:n},a.default.createElement("b",{className:"audio-module-listen-inner"},a.default.createElement("b",{className:"audio-module-listen-icon icn-play"}),a.default.createElement("b",{className:"audio-module-listen-text"},a.default.createElement("b",{className:"audio-module-cta"},t)))),!i&&a.default.createElement("button",{className:"audio-module-queue",onClick:r},a.default.createElement("b",{className:"audio-module-queue-inner"},a.default.createElement("b",{className:o?"icn-playlist-added":"icn-playlist"}),a.default.createElement("b",{className:"audio-module-queue-text"},o?"":a.default.createElement("b",{className:"audio-module-queue-text-extra"},"Add to "),o?"Added":"Playlist",o?a.default.createElement("b",{className:"audio-module-queue-text-extra"}," to Playlist"):""))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(2)),r=c(n(73)),o=n(14),i=c(n(6)),s=n(76),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(212)),l=c(n(325));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;t.default={retrieveMetadataFromDOM:function(e,t){return d=[],(0,i.default)("[data-newscast-audio]").each((function(){var n=(0,i.default)(this).data("newscast-audio").orgId;if((0,i.default)(this).removeAttr("data-newscast-audio"),n){var a=(0,s.getNewscastUidForOrg)(n);e.dispatch(u.newscastRequested(n)),d.push({audio:{uid:a,skipSponsorship:t},domNode:this})}})),[]},mountModules:function(e){d.map((function(t){return r.default.render(a.default.createElement(o.Provider,{store:e},a.default.createElement(l.default,{audio:t.audio})),t.domNode)}))},unmountModules:function(){d.map((function(e){return r.default.unmountComponentAtNode(e.domNode)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(2)),r=u(n(73)),o=n(14),i=u(n(6)),s=u(n(532));function u(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default={retrieveMetadataFromDOM:function(){return l=[],(0,i.default)("[data-stream-audio]").each((function(){var e=(0,i.default)(this).data("stream-audio"),t=(0,i.default)(this).data("audio-metrics");(0,i.default)(this).removeAttr("data-stream-audio"),l.push({metadata:e,metrics:t,domNode:this})})),l.map((function(e){return e.metadata}))},mountModules:function(e){l.map((function(t){return r.default.render(a.default.createElement(o.Provider,{store:e},a.default.createElement(s.default,{audio:t.metadata,metrics:t.metrics})),t.domNode)}))},unmountModules:function(){l.map((function(e){return r.default.unmountComponentAtNode(e.domNode)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=m(r),i=(m(n(4)),n(14)),s=m(n(7)),u=h(n(24)),l=h(n(33)),c=m(n(323)),d=m(n(327)),f=n(98),p=n(127);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,p.getBoundHandlers)(n,["onPlayPauseRequested","onMetadataLoaded","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","onAudioModuleMounted"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsUnregistrationRequested(e))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(u.audioModuleMounted())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"onPlayPauseRequested",value:function(e){this.props.dispatch(u.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(l.metadataLoaded(e))}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];return!1===e.available?o.default.createElement(d.default,{message:e.unavailableText}):o.default.createElement(c.default,{handlers:this.handlers,audio:e})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{metadata:(0,f.getDerivedMetadata)(e)}}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timerTick=function(e,t){return{type:a.TIMER,payload:{now:e,sinceLastTick:t}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){l=e};var a=u(n(24)),r=u(n(100)),o=u(n(328)),i=u(n(66)),s=u(n(232));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=void 0,c={};window.MobileNative=c,c.bridge=function(e){var t=null;try{t=JSON.parse(e)}catch(t){return void console.error("Unable to JSON.parse bridge object: "+e+", error:",t)}if(t&&t.name)if("string"==typeof t.attributes||null==t.attributes){var n=t.attributes;switch(t.name){case"audioLoading":l(a.mobileNativeDidStartLoading(n));break;case"audioPlaying":l(a.mobileNativeDidStartPlaying(n));break;case"audioStopped":l(a.mobileNativeDidStopPlaying(n));break;case"playlistAdded":l(r.mobileNativeDidAddToPlaylist(n));break;case"playlistRemoved":l(r.mobileNativeDidRemoveFromPlaylist(n));break;case"playlistLoading":l(s.mobileNativeDidStartLoadingPlaylist(n));break;case"accessToken":var u=Math.round((new Date).getTime()/1e3);l(i.mobileNativeAccessTokenReceived(n,u)),l(o.mobileNativeDetected());break;default:console.error("Unknown bridge object name, no action taken. Bridge object:",t)}}else console.error('Bridge object is invalid. Property "attributes" is incorrect.',t);else console.error('Bridge object is invalid. Missing "name" property.',t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){e(a.initialStateCorrection())};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(536))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStateCorrection=function(){return{type:a.INITIAL_STATE_CORRECTION}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){$(document).on("npr:player:getfeaturedaudio",(function(e,t,n,a){i.dispatch((0,r.initializeFeaturedAudioRequested)(t,n,a))}))};var a,r=n(337),o=n(36);var i=(0,((a=o)&&a.__esModule?a:{default:a}).default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){$(document).on("npr:player:removeNewscastFromContinuousListening",(function(){i.dispatch((0,r.removeNewscastFromContinuousListening)())}))};var a,r=n(539),o=n(36);var i=(0,((a=o)&&a.__esModule?a:{default:a}).default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNewscastFromContinuousListening=function(){return{type:a.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";var a=g(n(6)),r=g(n(2)),o=g(n(73)),i=n(14),s=g(n(18)),u=m(n(343)),l=n(223),c=m(n(177)),d=g(n(541)),f=g(n(544)),p=g(n(36)),h=g(n(339));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=(0,p.default)(),v=s.default.create();v.name="callout/on-page-callouts",v.onReady=function(){(0,a.default)(window).on("centerStageAdNotRendered",(function(){(0,p.default)().dispatch(u.centerStageAdStatusDetermined(c.NONE))})),(0,a.default)(window).on("centerStageAdRendered",(function(){(0,p.default)().dispatch(u.centerStageAdStatusDetermined(c.AD))})),(0,a.default)(window).on("centerStageIneligible",(function(){(0,p.default)().dispatch(u.centerStageAdStatusDetermined(c.INELIGIBLE))}));var e=(0,l.getPageData)(),t=e.station,n=e.newsletter,s=e.podcast,m=document.getElementById("callout-end-of-story-mount");m&&o.default.render(r.default.createElement(i.Provider,{store:y},r.default.createElement(d.default,{station:t,podcast:s,newsletter:n})),m),(0,a.default)(document).on("npr:onPageCalloutDeterminationSucceeded",(function(e){!function(e,t,n){var a=document.getElementById("callout-center-stage-mount");a&&o.default.render(r.default.createElement(i.Provider,{store:y},r.default.createElement(f.default,{station:e,podcast:t,newsletter:n})),a),h.default.fireScrollOffsetReset()}(t,s,n)}))},v.onUnload=function(){(0,a.default)(window).off("centerStageAdNotRendered"),(0,a.default)(window).off("centerStageAdRendered"),(0,a.default)(window).off("centerStageIneligible"),(0,a.default)(document).off("npr:onPageCalloutDeterminationSucceeded");var e=document.getElementById("callout-center-stage-mount"),t=document.getElementById("callout-end-of-story-mount");t&&o.default.unmountComponentAtNode(t),e&&o.default.unmountComponentAtNode(e)},v.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=_(r),i=(_(n(4)),n(14)),s=v(n(230)),u=v(n(75)),l=_(n(213)),c=_(n(543)),d=_(n(330)),f=_(n(214)),p=_(n(215)),h=n(25),m=n(174),g=n(223),y=n(32);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){return E(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"_getReformattedStation",value:function(e){return{id:e.id,name:e.name,donateUrl:e.donationUrl,orgUrl:e.homepageUrl,callLetters:e.abbr}}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.station,a=e.podcast,r=e.endOfStoryVariant,i=e.donationVariantId,h=this.props.newsletter,g=this.props.org[this.props.user.org.id]||null,v=null;switch(r){case s.DONATION:var _=(0,m.getEndOfStoryCtaInfo)();if(i.includes(y.DONATION_EMBED)){v=o.default.createElement("div",{className:"donation-portal-endofstory"},o.default.createElement(p.default,{station:g,metricsCategory:u.END_OF_STORY}));break}v=o.default.createElement(f.default,{donation:_[i],station:g,metricsCategory:u.END_OF_STORY});break;case s.STATION:v=o.default.createElement(c.default,{station:this._getReformattedStation(n)});break;case s.PODCAST:v=o.default.createElement(d.default,{podcast:a});break;case s.NEWSLETTER:v=o.default.createElement(l.default,{newsletter:h,user:t})}return v}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.session,a=e.org,r=(0,h.getCurrentPage)(e),o=(0,h.getVariantIDToShowOnThisPage)(e),i=(0,h.getVariantTypeToShowOnThisPage)(e);return{user:t,session:n,org:a,centerStageVariant:(0,h.getCenterStageVariant)(e),endOfStoryVariant:(0,h.getEndOfStoryVariant)(e),isDFPComplete:(0,h.getIsDFPComplete)(e),isGlobalAlertsComplete:(0,h.getIsGlobalAlertsComplete)(e),currentPage:r,variantIDToShowOnThisPage:o,variantTypeToShowOnThisPage:i,wasOnPageCalloutDeterminationRequested:!1,donationVariantId:(0,g.shouldDisplayDonationCta)(e,r,o,i)}}))(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=m(r),i=(m(n(4)),m(n(7))),s=m(n(344)),u=n(14),l=m(n(218)),c=h(n(19)),d=m(n(333)),f=h(n(37)),p=n(77);h(n(342));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.triggerRecaptcha=function(e){e.preventDefault(),n.setState({tempFormData:e.target},(function(){if((0,p.isCaptchaEnabled)()&&!n.props.renderingForMobileNative)try{(0,p.triggerRecaptchaManually)()}catch(e){n.onSubscribe()}else n.onSubscribe()}))},n.isValidEmail=function(e){var t=e.trim();return!(t.length>=0)||l.default.isEmail(t)},n.onSubscribe=n.onSubscribe.bind(n),n.doSubscribe=n.doSubscribe.bind(n),n.handlers=e.handlers,n.state={brandingLogo:null,isExternalNewsletter:!1,additionalHiddenFields:[],externalAction:null,emailInput:{},marketingHeader:"",emailFieldName:null,newsletterId:null,marketingShortDescription:"",stickyDescription:"",errorMessage:"",termsText:"",tempFormData:null};var a=n.props.newsletter,r=(a.newsletterId,a.organizationId),o={};((o=r!==f.NPR?d.default[r]:d.default[n.props.user.org.id])&&!o.enabled||!NPR.serverVars.isLocalStationStory||"false"===NPR.serverVars.isLocalStationStory)&&(o={});return n.state.isExternalNewsletter=(0,i.default)(o,"enabled",!1),n.state.externalAction=(0,i.default)(o,"url"),n.state.termsText=(0,i.default)(o,"termsText",'By subscribing, you agree to <a href="/about-npr/179876898/terms-of-use">NPR\'s terms of use</a> and <a href="/about-npr/179878450/privacy-policy">privacy policy</a>. NPR may share your name and email address with your NPR station. <a href="https://www.npr.org/about-npr/179878450/privacy-policy#disclosure">See Details</a>.'),n.state.emailFieldName=(0,i.default)(o,"emailFieldName","email"),n.state.marketingHeader=(0,i.default)(o,"marketingHeader",n.props.newsletter.marketingHeader),n.state.stickyDescription=(0,i.default)(o,"stickyDescription",n.props.newsletter.stickyDescription),n.state.marketingShortDescription=(0,i.default)(o,"shortDescription",n.props.newsletter.shortDescription),n.state.newsletterId=(0,i.default)(o,"id",n.props.newsletter.newsletterId),n.state.organizationId=(0,i.default)(o,"organizationId",n.props.newsletter.organizationId),n.state.additionalHiddenFields=(0,i.default)(o,"hiddenFields",[]),n.state.additionalHiddenFields.push({name:"newsletterId",value:n.props.newsletter.newsletterId}),n.state.brandingLogo=(0,i.default)(o,"logo"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;window.onNewsletterSubmitRecaptcha=function(){e.onSubscribe()},window.onNewsletterErrorRecaptcha=function(){(0,p.loadCaptcha)()}}},{key:"componentWillUnmount",value:function(){window.onNewsletterSubmitRecaptcha=function(){},window.onNewsletterErrorRecaptcha=function(){}}},{key:"onSubscribe",value:function(){this.state.externalAction?this.doExternalSubscribe():this.doSubscribe()}},{key:"doExternalSubscribe",value:function(){var e=new FormData(this.state.tempFormData),t=this.state.emailInput.value;this.isValidEmail(t)?(this.setState({errorMessage:""}),this.handlers.onExternalSubscriptionRequested(t,this.state.newsletterId,this.state.organizationId,this.state.externalAction,e)):(this.setState({errorMessage:"Please enter a valid email address."}),(0,p.loadCaptcha)())}},{key:"doSubscribe",value:function(){var e=this.state.emailInput.value;this.isValidEmail(e)?(this.setState({errorMessage:""}),this.handlers.onSubscriptionRequested(e,this.state.newsletterId)):this.setState({errorMessage:"Please enter a valid email address."})}},{key:"render",value:function(){var e=this,t="callout callout--newsletter callout--"+this.state.newsletterId+" "+(this.state.isExternalNewsletter?"callout--newsletter-station":""),n=(0,l.default.isUserLoggedIn)(this.props.user),a="",r=!1,u="",d=!1;if(n&&(u=(0,i.default)(this.props.user,"view.data.attributes.email"),!this.state.isExternalNewsletter)){var f=(0,i.default)(this.props.user,"view.data.attributes.subscriptions");f&&(0,s.default)(f,this.state.newsletterId)>=0&&(d=!0)}var p=(0,i.default)(this.props.user,"newsletter.status");p===c.FAILED&&(a="An error has occurred. Please try subscribing again."),(d||p===c.RESOLVED)&&(r=!0);var h=function(){var t=e.state.additionalHiddenFields;return Object.keys(t).map((function(e){return o.default.createElement("input",{type:"hidden",id:t[e].id,name:t[e].name,value:t[e].value,key:e})}))},m=void 0,g=this.state.errorMessage||a;m=r?o.default.createElement("div",{className:"callout__subscribed"},o.default.createElement("div",{className:"callout__subscribed-text"},"Thank you for subscribing!"),o.default.createElement("a",{href:"//npr.org/newsletters",className:"callout__subscribed-more"},"See more newsletters")):u?o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},u&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input callout__input--populated",type:"text",name:e.state.emailFieldName,placeholder:"What's your email?",readOnly:!0,value:u}),h(),u&&o.default.createElement("div",{className:"g-recaptcha","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha","data-size":"invisible"}),u&&o.default.createElement("button",{className:"callout__submit callout__submit--populated",type:"submit",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing as "+u:"subscribe as "+u))):o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},!u&&o.default.createElement("label",{htmlFor:"callout__input"},"E-mail address"),h(),!u&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input",id:"callout__input",type:"email",name:e.state.emailFieldName,placeholder:"What's your email?"}),!u&&o.default.createElement("div",{className:"g-recaptcha","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha","data-size":"invisible"}),!u&&o.default.createElement("button",{className:"callout__submit",type:"submit",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing":"subscribe")));var y="";y=this.state.isExternalNewsletter?'This sign-up box is protected by reCAPTCHA, use of which is governed by the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a>.':'This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a> apply.';var v=this.state.brandingLogo?"callout__main":"callout__main callout__main--no-image";return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},this.state.brandingLogo?o.default.createElement("div",{className:"callout__branding"},o.default.createElement("img",{className:"callout__branding-logo",src:this.state.brandingLogo,alt:"Newsletter logo"})):"",o.default.createElement("div",{className:v},this.props.isStickybar?o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.stickyDescription)):o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.marketingHeader)),this.props.isStickybar?"":o.default.createElement("div",null,o.default.createElement("p",{className:"callout__description",dangerouslySetInnerHTML:{__html:this.state.marketingShortDescription}})),g?o.default.createElement("b",{className:"callout__error"},this.state.errorMessage||a):"",m,r?"":o.default.createElement("footer",{className:"callout__footer"},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.termsText+" "+y}})))))}}]),t}(r.Component);t.default=(0,u.connect)()(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=f(r),i=(f(n(4)),n(14)),s=f(n(7)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),l=f(n(171)),c=f(n(329)),d=n(32);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStationDonateLinkClick=n.onStationDonateLinkClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onStationDonateLinkClick",value:function(){var e=(0,s.default)(this.props,"station.id");e&&this.props.dispatch(u.stationChangeRequested(e))}},{key:"render",value:function(){var e=this.props.station;if(!e)return null;var t="callout callout--org callout--org-"+e.id,n="Support "+e.name,a=d.STATION_CONTENT_BOX;return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},o.default.createElement("h2",{className:"callout__header"},n),o.default.createElement("p",{className:"callout__description"},"Stories like these are made possible by contributions from readers and listeners like you."),o.default.createElement("ul",{className:"callout__links"},o.default.createElement("li",null,o.default.createElement(l.default,{metricsCategory:a,org:e,creativeSlot:"station callout",onClick:this.onStationDonateLinkClick,overrideClasses:"callout__link callout__link--donate"})),o.default.createElement("li",null,o.default.createElement(c.default,{metricsCategory:a,org:e,overrideClasses:"callout__link callout__link--homepage"},"Visit the station")))))}}]),t}(r.Component);t.default=(0,i.connect)((function(){return{}}))(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=d(r),i=(d(n(4)),n(14)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(177)),u=d(n(213)),l=d(n(330)),c=n(25);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.podcast,a=(e.station,e.centerStageVariant),r=this.props.newsletter,i=(this.props.org[this.props.user.org.id],null);switch(a){case s.NEWSLETTER:i=o.default.createElement(u.default,{newsletter:r,user:t});break;case s.PODCAST:i=o.default.createElement(l.default,{podcast:n})}return i}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org,centerStageVariant:(0,c.getCenterStageVariant)(e)}}))(h)},function(e,t,n){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=E(n(6)),o=E(n(345)),i=E(n(18)),s=E(n(563)),u=E(n(9)),l=E(n(7)),c=n(130),d=E(c),f=_(n(101)),p=E(n(36)),h=E(n(340)),m=n(88),g=n(103),y=n(222),v=n(324);_(n(38));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var S=i.default.create();S.name="dfp";var b={},O={},T=[],P={devicemotion:[],resize:[],message:[]},A=r.default.Event("centerStageAdNotRendered"),w=r.default.Event("centerStageAdRendered"),I=r.default.Event("centerStageIneligible"),D=!1,N=[],C="880a45f2-0015-49d2-b38f-2d26be44ae09",R={},M=[],L=!1,j=!1,k=[];function U(){L||(L=!0,googletag.cmd.push((function(){M.length?window.PWT.addKeyValuePairsToGPTSlots(M):u.default.info("DFP: activating ads without header bidding",(new Date).toISOString()),T.forEach((function(e){googletag.display(e.getAdSlotName()),u.default.info("DFP: called display() on ad slot '"+e.getAdSlotName()+"'")})),(0,v.visibilityCheck)((function(){var e;(e=new r.default.Deferred,T.forEach((function(t){!0===t.deferred?N.push(new o.default({element:(0,r.default)(t.getAdSelector()).get(0),handler:function(){return e.resolve()},offset:o.default.viewportHeight()+200})):e.resolve()})),e.promise()).done((function(){googletag.cmd.push((function(){var e=function(){var e=T.map((function(e){return e.slot}));D||(D=!0,googletag.pubads().addEventListener("slotRenderEnded",B)),(0,g.canHaveEventListener)()&&window.addEventListener("message",y.playerMessageEventCallback,!1),u.default.info("DFP: calling refresh() on all ad slots",(new Date).toISOString()),googletag.pubads().refresh(e)};window.permutive&&window.permutive.readyWithTimeout?(u.default.info("DFP: waiting for permutive",(new Date).toISOString()),window.permutive.readyWithTimeout((function(){u.default.info("DFP: permutive is ready",(new Date).toISOString()),e()}),"realtime",500)):(u.default.info("DFP: Activating ads without permutive timeout"),e())})),V()}))}))})))}function x(e){window.addEventListener("devicemotion",v.deviceMotionEventCallback.bind(null,e)),window.addEventListener("resize",v.resizeEventCallback.bind(null,e)),P.devicemotion.push(v.deviceMotionEventCallback),P.resize.push(v.resizeEventCallback)}function F(e,t){e.isEmpty||((0,v.addSponsorLanguage)(t),(0,r.default)(window).trigger(w))}function B(e){var t=e.slot.getSlotElementId();if((0,v.isRenderedSlot)(f.CENTERSTAGE,t,O))!function(e,t){var n=(0,p.default)().getState(),a=(0,l.default)(n,"user.org.id",!1);e.isEmpty?h.default.find((function(e){return e===a}))&&!(0,m.isWeekend)()?(u.default.info("DFP: Do not replace centerstage for participating station stories"),(0,r.default)(window).trigger(I)):(u.default.info("DFP: No Centerstage ad returned"),(0,r.default)(window).trigger(A)):((0,r.default)(".ad-header.centerstage").addClass("visible"),(0,r.default)(".centerstage-outer-wrap").addClass("visible"),(0,v.checkForClickToPlaySponsorship)(t,O[t].site),x(t),window.addEventListener("message",v.receiveExpandMessage,!1),P.message.push(v.receiveExpandMessage),u.default.info("DFP: Centerstage ad returned"),(0,r.default)(window).trigger(w))}(e,f.CENTERSTAGE);else if((0,v.isRenderedSlot)(f.BACKSTAGE,t,O))!function(e,t){if(e.isEmpty)if(u.default.info("DFP: No Centerstage ad returned"),(0,r.default)((0,r.default)(".ad-"+t).get(0)).data("ad-config").isBetweenContent){var n=(0,r.default)((0,r.default)("#ad-"+t+"-wrap").get(0)),a=document.createElement("div");a.setAttribute("id","callout-center-stage-mount"),n[0].appendChild(a),(0,r.default)(window).trigger(A)}else(0,r.default)(window).trigger(I);else(0,v.addSponsorLanguage)(t),(0,v.checkForClickToPlaySponsorship)(t,O[t].site),x(t),window.addEventListener("message",v.receiveExpandMessage,!1),P.message.push(v.receiveExpandMessage),u.default.info("DFP: Centerstage ad returned"),(0,r.default)(window).trigger(w)}(e,f.BACKSTAGE);else if((0,v.isRenderedSlot)(f.MAINSTAGE,t,O))!function(e){if(!e.isEmpty){(0,r.default)(".ad-header.mainstage").addClass("visible"),(0,r.default)(".mainstage-outer-wrap").addClass("visible");var t=O[f.MAINSTAGE].site;(0,v.checkForClickToPlaySponsorship)(f.MAINSTAGE,t),window.addEventListener("message",v.receiveExpandMessage,!1),P.message.push(v.receiveExpandMessage)}}(e);else if((0,v.isRenderedSlot)(f.STANDARD,t,O))!function(e,t){if(e.isEmpty)document.querySelector("#ad-"+t+"-wrap").classList.add("hidden");else{document.querySelector("#ad-"+t+"-wrap").classList.remove("hidden"),u.default.info("DFP: Standard ad. isBackfill: "+e.slot.getResponseInformation().isBackfill+", nextRefreshDiff: "+(O[t].nextRefreshTimestamp-Date.now()));if(e.slot.getResponseInformation().isBackfill&&O[t].nextRefreshTimestamp-Date.now()<1&&(G(e),O[t].nextRefreshTimestamp=Date.now()+6e4),(0,s.default)(e.size,[300,600])){var n=O[f.STANDARD].site;(0,v.checkForClickToPlaySponsorship)(f.STANDARD,n),(0,g.makeAdScrollable)(f.STANDARD)}}}(e,f.STANDARD);else if((0,v.isRenderedSlot)(f.SECONDARY,t,O))!function(e,t){if(e.isEmpty)(0,v.removeSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.add("hidden"),u.default.info("DFP: No Secondary ad returned"),O[t].nextRefreshTimestamp-Date.now()<1&&G(e);else{u.default.info("DFP: Secondary ad returned. isBackfill: "+e.slot.getResponseInformation().isBackfill+", nextRefreshDiff: "+(O[t].nextRefreshTimestamp-Date.now()));e.slot.getResponseInformation().isBackfill&&O[t].nextRefreshTimestamp-Date.now()<1&&(G(e),O[t].nextRefreshTimestamp=Date.now()+6e4),(0,v.addSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.remove("hidden"),(0,v.checkForClickToPlaySponsorship)(t,O[t].site),(0,r.default)(window).trigger(w)}}(e,f.SECONDARY);else if((0,v.isRenderedSlot)(f.PODCASTS_SHOWS_DIRECTORY_ONE,t,O))F(e,f.PODCASTS_SHOWS_DIRECTORY_ONE);else if((0,v.isRenderedSlot)(f.PODCASTS_SHOWS_DIRECTORY_TWO,t,O))F(e,f.PODCASTS_SHOWS_DIRECTORY_TWO);else if((0,v.isRenderedSlot)(f.THIRD,t,O))!function(e,t){e.isEmpty?((0,v.removeSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.add("hidden")):(0,v.addSponsorLanguage)(t)}(e,f.THIRD);else if((0,v.isRenderedSlot)(f.OVERFLOW,t,O)){var n=(0,c.getOverflowCountFromAdSlotName)(t);!function(e,t){e.isEmpty?((0,v.removeSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.add("hidden")):(0,v.addSponsorLanguage)(t)}(e,f.OVERFLOW+"-"+n)}}function G(e){u.default.info("DFP: Slot ID '"+e.slot.getSlotElementId()+"' will refresh in 60s");var t=window.setTimeout((function(){googletag.cmd.push((function(){var t=!1,n=function(){t||(t=!0,(0,v.visibilityCheck)((function(){u.default.info("DFP: calling refresh() on slot '"+e.slot.getSlotElementId()+"'"),googletag.pubads().refresh([e.slot])})))},a=Date.now();"function"==typeof window.PWT.removeKeyValuePairsFromGPTSlots?(window.PWT.removeKeyValuePairsFromGPTSlots(googletag.pubads().getSlots()),window.PWT.requestBids(window.PWT.generateConfForGPT(T.map((function(e){return e.slot}))),(function(e){window.PWT.addKeyValuePairsToGPTSlots(e),n(),u.default.info("DFP: OpenWrapDebug: Time spent header bidding: "+(Date.now()-a)+"ms")}))):(u.default.warning("DFP: OpenWrapDebug: removeKeyValuePairsFromGPTSlots not a function",window.PWT),n());var r=setTimeout((function(){n()}),1500);k.push(r)}))}),6e4);k.push(t)}function H(e){if((0,l.default)(e,"data.key","")===C&&e.data&&Object.prototype.hasOwnProperty.call(e.data,"blocked"))if(!0===e.data.blocked){var t=(0,c.getLocationFromAdSlotName)(e.data.el);R[t]=Object.hasOwnProperty.call(R,t)?R[t]+1:1,u.default.info("DFP: OpenWrapDebug: Blocked ad ID '"+e.data.el+"' "+R[t]+" time(s) GE data: "+JSON.stringify(e.data));var n=T.flatMap((function(e){return e.location===t?e.slot:[]})),r=a(n,1)[0];R[t]<3&&function(e){u.default.info('DFP: OpenWrapDebug: Prebidding and refreshing blocked ad slot "'+e.getSlotElementId()+'"');var t=!1,n=function(e){t||(t=!0,googletag.cmd.push((function(){googletag.pubads().refresh([e])})))};"function"==typeof window.PWT.removeKeyValuePairsFromGPTSlots?(window.PWT.removeKeyValuePairsFromGPTSlots([e]),window.PWT.requestBids(window.PWT.generateConfForGPT([e]),(function(t){window.PWT.addKeyValuePairsToGPTSlots(t),n(e)}))):(u.default.warning("DFP: OpenWrapDebug: removeKeyValuePairsFromGPTSlots not a function"),n(e));var a=setTimeout((function(){n(e)}),1500);k.push(a)}(r)}else u.default.info("DFP: OpenWrapDebug: Scanned ad ID '"+e.data.el+"'. GE data: "+JSON.stringify(e.data))}function V(){N.forEach((function(e){e.destroy()})),N=[],o.default.refreshAll()}S.init=function(){document.addEventListener("npr:initialHeaderBiddingComplete",(function(e){M=e.detail,j&&!L&&(u.default.info("DFP: activating ads from bid complete event ",(new Date).toISOString()),U())})),document.addEventListener("npr:initialHeaderBiddingError",(function(){U()})),document.dispatchEvent(new CustomEvent("npr:dfpIsListeningForHeaderBiddingData"));var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.grumi=window.grumi||{cfg:{advs:{19566752:!0,4952276315:!0,88382072:!0,5056504790:!0,5116496584:!0,5212620189:!0}},key:C};var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://rumcdn.geoedge.be/"+C+"/grumi-ip.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a),u.default.info("DFP: injected gpt.js",(new Date).toISOString()),window.addEventListener("message",H,!1)},S.onReady=function(){(0,r.default)("[data-ad-config]").each((function(){var e=(0,r.default)(this).data("ad-config"),t=new d.default(e);(0,v.shouldRenderLocation)(t.canonicalLocation)&&(t.location===f.STANDARD?T.unshift(t):T.push(t))})),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e=navigator.userAgent.toLowerCase();e.indexOf("android")>-1?googletag.pubads().setTargeting("device","android"):e.match(/(iPad|iPhone|iPod)/i)&&googletag.pubads().setTargeting("device","ios"),googletag.pubads().enableLazyLoad({fetchMarginPercent:100,renderMarginPercent:100,mobileScaling:1}),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.enableServices()}));var e=!0;googletag.cmd.push((function(){if(T.forEach((function(t){[f.CENTERSTAGE,f.BACKSTAGE].includes(t.location)&&(e=!1);var n=t.getAdSlotName();Object.prototype.hasOwnProperty.call(b,n)?(Object.assign(t,{slot:b[n]}),t.slot.clearTargeting()):t.createAdSlot();var a=t.slot.getSlotElementId(),r=Object.assign({},t.targets,(0,v.getAdditionalTargeting)(t.canonicalLocation));Object.getOwnPropertyNames(r).forEach((function(e){t.slot.setTargeting(e,r[e])})),O[t.location]={slotElementId:a,site:t.site,nextRefreshTimestamp:0}})),j=!0,M.length)u.default.info("DFP: activating ads (bid data available)",(new Date).toISOString()),U();else{u.default.info("DFP: waiting for header bidding data ",(new Date).toISOString());var t=setTimeout((function(){U()}),1500);k.push(t)}(0,v.logSponsorship)(T),e&&(0,r.default)(window).trigger(I)}))},S.onUnload=function(){V(),window.removeEventListener("message",y.playerMessageEventCallback,!1),googletag.cmd.push((function(){var e=[];T.forEach((function(t){var n=t.getAdSlotName();e.push(t.slot),b[n]=t.slot})),T=[],googletag.pubads().clear(e)})),Object.keys(P).forEach((function(e){P[e].forEach((function(t){window.removeEventListener(e,t)})),P[e]=[]})),k.forEach((function(e){clearTimeout(e)})),O={},R={},M=[],L=!1,j=!1},S.register()},function(e,t,n){"use strict";var a=m(n(18)),r=m(n(2)),o=m(n(73)),i=m(n(547)),s=m(n(554)),u=n(173),l=m(n(6)),c=n(14),d=m(n(36)),f=n(179),p=n(133),h=n(341);function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,d.default)(),y=a.default.create();y.name="global-alerts";var v=function e(){(0,h.getIsGlobalAlertLastSeenToday)(g.getState())?(0,l.default)(window).off("scroll",e):g.dispatch((0,u.checkGlobalAlerts)(window.scrollY))};y.init=function(){(0,l.default)(document).on("npr:globalAlerts:stickybar",(function(){return g.dispatch((0,u.showGlobalStickybar)())})),(0,l.default)(document).on("npr:globalAlerts:modal",(function(){return g.dispatch((0,u.showGlobalModal)())})),(0,l.default)(document).on("npr:globalAlerts:hide",(function(){return g.dispatch((0,u.hideGlobalAlerts)())}))},y.onReady=function(){var e=(0,f.isWithinAnyModalPeriod)(),t=(0,p.isWithinAnyStickybarPeriod)();(e||t)&&(0,l.default)(window).on("scroll",v);var n=document.getElementById("global-modal-mount");n&&o.default.render(r.default.createElement(c.Provider,{store:g},r.default.createElement(i.default,null)),n);var a=document.getElementById("global-stickybar-mount");a&&o.default.render(r.default.createElement(c.Provider,{store:g},r.default.createElement(s.default,null)),a)},y.onUnload=function(){var e=(0,f.isWithinAnyModalPeriod)(),t=(0,p.isWithinAnyStickybarPeriod)();(e||t)&&(0,l.default)(window).off("scroll",v);var n=document.getElementById("global-modal-mount");n&&o.default.unmountComponentAtNode(n);var a=document.getElementById("global-stickybar-mount");a&&o.default.unmountComponentAtNode(a)},y.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),i=P(o),s=(P(n(4)),n(14)),u=P(n(217)),l=P(n(99)),c=T(n(173)),d=P(n(221)),f=P(n(332)),p=n(149),h=T(n(66)),m=T(n(338)),g=n(25),y=P(n(214)),v=P(n(548)),_=T(n(75)),E=n(179),S=n(32),b=P(n(215)),O=P(n(549));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}var A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeModal=function(e){n.props.hideGlobalAlerts(e)},n.closeWithoutMetrics=function(){n.setState({isLinkClicked:!0})},n.componentSelector=function(e,t){if(e.includes(S.LOCALIZATION_EMBED))return i.default.createElement("div",{id:"localize-modal"},i.default.createElement(O.default,a({closeModal:n.closeModal},n.props)));if(e.includes(S.DONATION_EMBED))return i.default.createElement(b.default,{station:t,metricsCategory:_.MODAL,onClick:function(){return n.closeModal("maybe later")}});if(e.includes("Shop")){var r=(0,E.getModalInfo)();return i.default.createElement(v.default,{donation:r[e],station:t,metricsCategory:_.MODAL,onClick:n.closeWithoutMetrics})}var o=(0,E.getModalInfo)();return i.default.createElement(y.default,{donation:o[e],station:t,metricsCategory:_.MODAL,onClick:n.closeWithoutMetrics})},n.state={isLinkClicked:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.focusTrap=(0,u.default)("#global-modal-mount",{clickOutsideDeactivates:!0}),l.default.bind(["esc"],(function(){return e.closeModal()}))}},{key:"componentDidUpdate",value:function(){this.props.alertVariant!==_.MODAL||this.props.isAlertDismissed||this.state.isLinkClicked?this.focusTrap.deactivate():this.focusTrap.activate()}},{key:"componentWillUnmount",value:function(){var e=this;l.default.unbind(["esc"],(function(){return e.closeModal()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAlertDismissed,a=t.alertVariant,r=t.org,o=t.user,s=t.variantIDToShowOnThisPage;if(!n&&!this.state.isLinkClicked&&a===_.MODAL){var u=r[o.org.id]||null;return i.default.createElement(p.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},i.default.createElement("section",{className:s.includes(S.DONATION_EMBED)?"global-modal donation-portal-modal":"global-modal",role:"dialog","aria-labelledby":"callout__text--title","aria-describedby":"callout__text--body"},i.default.createElement("div",{className:"global-modal__inner"},!s.includes(S.LOCALIZATION_EMBED)&&i.default.createElement("button",{className:"global-modal__dismiss",onClick:function(){return e.closeModal()},"aria-label":"close dialog box"},i.default.createElement("span",{className:"global-modal__dismiss-text"},"Close")),this.componentSelector(s,u)),i.default.createElement("div",{className:"global-modal__overlay",onClick:function(){return e.closeModal()}})))}return null}}]),t}(o.Component);t.default=(0,s.connect)((function(e){var t=e.org,n=e.user,r=e.localStations,o=e.stationSearch,i=e.donations,s=e.plusLocalization;return a({org:t,user:n,localStations:r,stationSearch:o,plusLocalization:s},i,{alertVariant:(0,g.getAlertVariant)(e),isAlertDismissed:(0,g.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,g.getVariantIDToShowOnThisPage)(e)})}),(function(e){return{hideGlobalAlerts:function(t){return e(c.hideGlobalAlerts(t))},handleReduxSetState:function(t){return e(d.default.handleSetState(t))},stationSearchRequested:function(t){return e(f.default.stationSearchRequested(t))},userSelectsStation:function(t){return e(f.default.userSelectsStation(t))},onStationChangeRequested:function(t){return e(h.stationChangeRequested(t))},stationChangeCompleted:function(t){return e(h.stationChangeCompleted(t))},localizationResponseReceived:function(t){return e(m.localizationResponseReceived(t))}}}))(A)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),r=(i(n(4)),i(n(72))),o=n(174);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return a.default.createElement("section",{className:"callout callout--donation"},a.default.createElement("div",{className:"callout__inner"},a.default.createElement("div",{className:"callout__main"},a.default.createElement("div",null,a.default.createElement("p",{className:"callout__header",id:"callout__header"},e.donation.donationInfo.title)),a.default.createElement("div",null,a.default.createElement("p",{className:"callout__description",id:"callout__description"},e.donation.donationInfo.description)),a.default.createElement("div",{className:"callout__links"},a.default.createElement(r.default,{href:"https://shopnpr.org",className:"callout__link callout__link--donate",onClickHandler:e.onClick,metrics:{category:"shop modal",action:"click shop"}},a.default.createElement("span",null,"shop now"))))))};s.defaultProps={donation:(0,o.getEndOfStoryCtaInfo)().default},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=m(n(2)),i=(m(n(4)),m(n(550))),s=m(n(551)),u=m(n(552)),l=n(19),c=n(216),d=m(n(54)),f=n(32),p=n(553),h=m(n(47));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mountStations=function(){var e=n.props.stationSearch,t=e.term,a=e.results;n.state.cachedStation?n.handleSetStations(n.props.org,[n.props.plusLocalization.station.id]):n.state.isLocalized?n.handleSetStations(n.props.org,[a[t]]):(0,p.hasFinishedGeolocation)(n.props.localStations.requestStatus)&&(0,p.isGeolocatedToCountryOutsideUsa)(n.props.localStations)?n.handleSetState({progressBar:1,country:(0,p.getCountryCode)(n.props.localStations),isNotUnitedStates:!0}):n.handleSetStations(n.props.org,n.props.localStations.stations),n.setStationsMounted()},n.handleSetState=function(e){n.props.handleReduxSetState(e)},n.setStationsMounted=function(){n.setState({stationsMounted:!0})},n.handleSetStations=function(e,t){var a=n.state.isLocalized&&!n.state.cachedStation?[e[t[0]]].filter((function(e){return e})):[e[t[0]],e[t[1]],e[t[2]]].filter((function(e){return e}));n.handleSetState({stations:a,stationSelection:a[0]})},n.changeSearchQuery=function(e){var t=e.target.value;n.handleSetState({searchQuery:t})},n.setPreviousTerm=function(e){n.setState({previousTerm:e})},n.handlePlusUpdate=function(e){var t=n.props.plusLocalization,a=t.userId,r=t.isPlusSubscriber,o=t.plusOptInDate,i=t.sfToken,s=n.props,u=s.localizationResponseReceived,l=s.closeModal,c={userId:a,plusLocalizationDate:r&&!o?(new Date).toISOString():null,stationId:e,sfToken:i},d={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};(0,h.default)(15e3,"/account/profile/update/plusLocalization",d).then((function(e){e.ok?u({submitError:!1}).then((function(){return l()})):u({submitError:!0}),n.setState({loadingOnSubmit:!1})})).catch((function(){n.setState({loadingOnSubmit:!1}),u({submitError:!0})}))},n.submitUserData=function(){var e=n.props,t=e.stations,a=e.stationSearch,r=a.term,o=a.status,i=a.results,s=a.selectedStationId,u=e.org,l={status:o,localizedStations:t,searchedForStations:(0,c.userInputStationSearch)(i[r],u),results:i,previousTerm:n.state.previousTerm,org:u,stationsMounted:n.state.stationsMounted,term:r},p=(0,c.findMostRecentSearchResults)(l),h=(0,c.findSelectedStation)(u,p,s);d.default.trackEvent({category:f.LOCALIZATION_EMBED,action:"station selected",label:h.name}),n.changeStationId(h.id),n.props.stationChangeCompleted(h.id),n.setState({loadingOnSubmit:!0}),n.handlePlusUpdate(h.id)},n.changeStationId=function(e){n.setState({activeStationId:e})},n.state={previousTerm:"",activeStationId:null,cachedStation:(0,c.isLocalizedStationCached)(n.props.org,n.props.plusLocalization.station.id),stationsMounted:!1,isLocalized:(0,c.userLocalizationStatus)(n.props.plusLocalization.station.id),loadingOnSubmit:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.plusLocalization.station.call;this.state.cachedStation||this.props.stationSearchRequested(e),this.mountStations()}},{key:"componentDidUpdate",value:function(){this.state.stationsMounted||(this.mountStations(),this.setState({stationsMounted:!0}))}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.stationSearch,r=n.term,c=n.status,d=n.results,f=c===l.RESOLVED&&!d[r].length&&"NPR"!==r;return o.default.createElement("div",{className:"localization-modal",onClick:function(e){return e.stopPropagation()}},o.default.createElement("button",{className:"localization-modal__close",onClick:t}),o.default.createElement("div",{className:"localization-modal__content"},o.default.createElement(i.default,a({handleSetStations:this.handleSetStations,changeSearchQuery:this.changeSearchQuery,setPreviousTerm:this.setPreviousTerm,handleSetState:this.handleSetState,handleReduxSetState:this.props.handleReduxSetState,previousTerm:this.state.previousTerm,stationSearch:this.props.stationSearch,searchErrorFlag:f},this.props)),o.default.createElement(s.default,a({changeStationId:this.changeStationId,handleSetStations:this.handleSetStations,handleSetState:this.handleSetState,previousTerm:this.state.previousTerm,activeStationId:this.state.activeStationId,stationsMounted:this.state.stationsMounted,loadingOnSubmit:this.state.loadingOnSubmit},this.props)),!f&&o.default.createElement(u.default,{plusLocalization:this.props.plusLocalization,status:c,submitUserData:this.submitUserData})))}}]),t}(o.default.Component);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(2)),o=(l(n(4)),l(n(54))),i=n(32),s=n(175),u=l(n(91));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,a;c(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleStationSearchSubmit=function(){var e=a.props,t=e.searchQuery,n=e.stationSearchRequested;t&&(n(t),u.default.looksLikeZipCode(t)?o.default.trackEvent({category:i.LOCALIZATION_EMBED,action:"station search",label:"zip"}):u.default.looksLikeCallLetters(t)?o.default.trackEvent({category:i.LOCALIZATION_EMBED,action:"station search",label:"call letters"}):o.default.trackEvent({category:i.LOCALIZATION_EMBED,action:"station search",label:"location"}))},a.handleQuery=function(e){a.props.setPreviousTerm(a.props.stationSearch.term),a.handleStationSearchSubmit(e),a.props.userSelectsStation(null)},a.toggleIsSearchInputSelected=function(){a.props.handleSetState({isSearchInputSelected:!0})},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isSearchInputSelected,a=t.searchErrorFlag,o=t.changeSearchQuery;return r.default.createElement("div",null,r.default.createElement("label",{className:"find-station__item find-station__item--search "+(a?"find-station__item--has-error":""),id:"localize-find-station__search"},r.default.createElement("span",{className:"find-station__label-text"},"Find your station."),r.default.createElement("input",{type:"text",name:"searchQuery",spellCheck:"false",onFocus:this.toggleIsSearchInputSelected,onKeyUp:function(t){"Enter"===t.key&&e.handleQuery(t),o(t)},className:"find-station__input "+(a?"find-station__input--has-error":""),id:"localize__input",placeholder:"Enter Station, ZIP Code or City & State","aria-describedby":a?"find-station__input--has-error":""}),n&&r.default.createElement("button",{onClick:function(t){e.handleQuery(t)},type:"button",className:"find-station__submit"},"submit station search"),a&&r.default.createElement("span",{id:"find-station__error-text--station-search",className:"find-station__error-text",role:"alert"},s.ERROR_FLAGS.NO_SEARCH_RESULTS)))}}]),t}(r.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=c(n(2)),o=(c(n(4)),c(n(473))),i=c(n(474)),s=n(216),u=c(n(478)),l=n(19);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.stations,n=e.activeStationId,a=e.stationSearch,c=a.term,d=a.status,f=a.selectedStationId,p=a.results,h=e.org,m=e.previousTerm,g=e.userSelectsStation,y=e.isNotUnitedStates,v=e.stationsMounted,_=e.changeStationId,E=e.loadingOnSubmit,S={status:d,localizedStations:t,searchedForStations:(0,s.userInputStationSearch)(p[c],h),results:p,previousTerm:m,org:h,stationsMounted:v,term:c},b=(0,s.findMostRecentSearchResults)(S),O="station-picker-item station-picker-item--active",T=!b.length&&d===l.RESOLVED||!0===y&&d===l.NOT_STARTED,P=E||!b&&d!==l.RESOLVED||d===l.PENDING,A=b.map((function(e,t){return r.default.createElement("li",{key:e.id},r.default.createElement("label",{className:null===f&&0===t||n===e.id?O:"station-picker-item"},r.default.createElement(i.default,{type:"radio",className:"station-picker__input",onClick:function(){g(e.id),_(e.id)},metrics:{category:"localize portal",action:"station selected from list",label:e.callLetters}}),o.default.renderMetadata(e),o.default.renderBranding(e)))}));return r.default.createElement("div",{className:"station-picker"},r.default.createElement("p",{className:"find-station__text"},E?"Processing...":d===l.PENDING?"Searching...":T?"There are no stations near you.":"Stations near you"),r.default.createElement("ul",null,P?r.default.createElement(u.default,{modalType:"localization"}):!1===y||!0===y&&d===l.RESOLVED?A:null))}}]),t}(r.default.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=(o(n(4)),n(216));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.submitUserData,n=e.plusLocalization,o=n.email,i=n.submitError,s=(0,r.shouldRenderDataShareForm)(o);return a.default.createElement("div",{className:"data-share"},s&&a.default.createElement("form",null,a.default.createElement("p",{className:"data-share__email"},"Email:"),a.default.createElement("input",{className:"data-share__input",type:"text",readOnly:"readonly",value:o})),a.default.createElement("button",{type:"button",className:"shareDataButton",onClick:t},"Make this my station"),i&&a.default.createElement("span",{role:"alert",className:"submit_localization__error-text--main submit_localization__error-text"},"There's been an error processing your request. Please try again. If the issue persists contact us at"," ",a.default.createElement("a",{href:"https://help.npr.org",target:"_blank"},"help.npr.org")),s&&a.default.createElement("p",{className:"terms"},"By choosing your NPR station, you agree to",a.default.createElement("a",{href:"/about-npr/179876898/terms-of-use",target:"_blank"}," ","NPR's terms of use")," ","and"," ",a.default.createElement("a",{href:"/about-npr/179878450/privacy-policy",target:"_blank"},"privacy policy.")," ","By opting in, NPR may share your name, email address, and your subscription, listening and usage information with your NPR station."))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryCode=t.isGeolocatedToCountryOutsideUsa=t.geolocatedCountryCode=t.hasFinishedGeolocation=void 0;var a=i(n(7)),r=i(n(475)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19));function i(e){return e&&e.__esModule?e:{default:e}}t.hasFinishedGeolocation=function(e){return e===o.RESOLVED};var s=t.geolocatedCountryCode=function(e){return(0,a.default)(e,"localizationInfo.countryCode")};t.isGeolocatedToCountryOutsideUsa=function(e){return s(e)&&!["999","0","840"].includes(s(e))},t.getCountryCode=function(e){return(0,a.default)(r.default.find((function(t){return t.id===+s(e)})),"alpha2")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=S(r),i=(S(n(4)),n(14)),s=E(n(173)),u=S(n(213)),l=S(n(214)),c=S(n(215)),d=S(n(555)),f=S(n(556)),p=n(133),h=n(25),m=n(149),g=S(n(151)),y=S(n(99)),v=E(n(75)),_=n(32);S(n(54));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkHeight=function(){var e=document.querySelectorAll(".global-stickybar")[0];if(e){var t=e.offsetHeight;n.setState({isTallerThanViewport:t>=window.innerHeight})}},n.closeStickybar=function(e){n.props.hideGlobalAlerts(e)},n.closeStickybarWithoutMetrics=function(){n.setState({isLinkClicked:!0})},n.getStickybarComponent=function(){var e=n.props,t=e.isAlertDismissed,a=e.alertVariant,r=e.variantIDToShowOnThisPage,i=e.user,s=e.org;if(!t&&!n.state.isLinkClicked&&a===v.STICKYBAR){var h=(0,p.getStickybarNewsletterInfo)(),m=(0,p.getStickybarEmbeddedDonationInfo)(),g=(0,p.getStickybarDonationInfo)(),y=(0,p.getStickybarGenericInfo)(),E=(0,p.getStickyBarPlusInfo)(),S=r in h,b=r in g||r in m,O=r in y,T=r in E,P=s[i.org.id]||null,A="",w=null;if(b)r.includes(_.DONATION_EMBED)?(A="global-stickybar donation-portal-stickybar",w=o.default.createElement(c.default,{station:P,metricsCategory:v.STICKYBAR,onClick:function(){return n.closeStickybar("maybe later")}})):(A="global-stickybar donations-stickybar",w=o.default.createElement(l.default,{donation:g[r],station:P,metricsCategory:v.STICKYBAR,onClick:n.closeStickybarWithoutMetrics}));else if(S)if(A="global-stickybar newsletter-stickybar",h[r].newsletterInfo===(0,p.getStickybarUsePageNewsletter)()){var I=document.getElementById("newsletter-acquisition-callout-data"),D=I?I.getAttribute("data-newsletter"):null,N=JSON.parse(D)||null;N&&(w=o.default.createElement(u.default,{newsletter:N,user:i,isStickybar:!0}))}else w=o.default.createElement(u.default,{newsletter:h[r].newsletterInfo,user:i,isStickybar:!0});else O?(A="global-stickybar generic-stickybar",w=o.default.createElement(d.default,{variantID:r,headerText:y[r].genericInfo.headerText,subText:y[r].genericInfo.subText,buttonText:y[r].genericInfo.buttonText,buttonUrl:y[r].genericInfo.buttonUrl,metricsCategory:v.STICKYBAR,onClick:n.closeStickybarWithoutMetrics})):T&&(A="global-stickybar generic-stickybar",w=o.default.createElement(f.default,{headerText:E[r].genericInfo.headerText,subText:E[r].genericInfo.subText,buttonText:E[r].genericInfo.buttonText,buttonUrl:E[r].genericInfo.buttonUrl,eventLabel:E[r].genericInfo.eventLabel,onClick:n.closeStickybarWithoutMetrics}));if(n.state.isTallerThanViewport&&(A+=" is-tall"),w)return o.default.createElement("section",{className:A},o.default.createElement("button",{className:"global-stickybar__dismiss",onClick:function(){return n.closeStickybar()},"aria-label":"close dialog box"},"X"),o.default.createElement("div",{className:"global-stickybar__inner"},w))}return null},n.state={isLinkClicked:!1,isTallerThanViewport:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;y.default.bind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,g.default)(this.checkHeight,300))}},{key:"componentWillUnmount",value:function(){var e=this;y.default.unbind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,g.default)(this.checkHeight,300))}},{key:"render",value:function(){return o.default.createElement(m.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},this.getStickybarComponent())}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.org;return{alertVariant:(0,h.getAlertVariant)(e),isAlertDismissed:(0,h.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,h.getVariantIDToShowOnThisPage)(e),globalAlertAlreadyVisibleThisPage:(0,h.getGlobalAlertAlreadyVisibleThisPage)(e),user:t,org:n}}),(function(e){return{hideGlobalAlerts:function(t){return e(s.hideGlobalAlerts(t))}}}))(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=(o(n(4)),o(n(170)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return a.default.createElement("section",{className:"callout callout--generic"},a.default.createElement("div",{className:"callout__inner"},a.default.createElement("div",null,a.default.createElement("p",{className:"callout__header"},e.headerText)),a.default.createElement("div",null,a.default.createElement("p",{className:"callout__description"},e.subText)),a.default.createElement("div",{className:"callout__links"},a.default.createElement(r.default,{className:"callout__link",metrics:{category:"generic "+e.metricsCategory,action:"click button",label:e.variantID},onClick:function(){return function(e,t,n){if(n(),e){var a=new URL(e);a.searchParams.set("utm_source","npr.org"),a.searchParams.set("utm_medium","referral"),a.searchParams.set("utm_term",t),window.open(a.href,"_blank")}}(e.buttonUrl,e.metricsCategory,e.onClick)}},a.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),r=(o(n(4)),o(n(170)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return a.default.createElement("section",{className:"callout callout--generic"},a.default.createElement("div",{className:"callout__inner"},a.default.createElement("div",null,a.default.createElement("p",{className:"callout__header"},e.headerText)),a.default.createElement("div",null,a.default.createElement("p",{className:"callout__description"},e.subText)),a.default.createElement("div",{className:"callout__links"},a.default.createElement(r.default,{className:"callout__link",metrics:{category:"npr plus",action:"click stickybar promo",label:e.eventLabel},onClick:function(){return t=e.buttonUrl,(0,e.onClick)(),void(t&&window.open(t,"_blank"));var t}},a.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},function(e,t,n){"use strict";(function(e){var a,r;a=[n(18),n(6)],void 0===(r=function(e,t){var n=e.create();n.name="we-are-hiring",n.init=function(){NPR.serverVars.isHiring&&console.log("\n%cWe are hiring!\n\n%chttps://n.pr/tech-jobs\n","font-size: 22px; font-family: Helvetica, Arial, sans-serif;","font-size: 12px")},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";var a=s(n(18)),r=s(n(36)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(559)),i=s(n(228));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.default)(),l=a.default.create();l.name="data-consent",l.init=function(){document.addEventListener("npr:DataConsentChanged",(function(){u.dispatch(o.dataConsentUpdated()),i.default.get("OptanonConsent")&&(document.querySelector("body").classList.contains("id179878450")||document.querySelector("body").classList.contains("id609131973"))&&location.reload()}))},l.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataConsentUpdated=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.dataConsentUpdated=function(){return{type:a.DATA_CONSENT_UPDATED}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SUBTYPE_YOUR_STATION:"yours",SUBTYPE_SEARCH:"search"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var r={getLocalStationsRequested:function(){return{type:a.GET_LOCAL_STATIONS_REQUESTED}},getLocalStationsSkipped:function(){return{type:a.GET_LOCAL_STATIONS_SKIPPED}},getLocalStationsSucceeded:function(e){return{type:a.GET_LOCAL_STATIONS_SUCCEEDED,payload:e}},preExistingLocalStationsDetected:function(){return{type:a.PRE_EXISTING_LOCAL_STATIONS_DETECTED}},getLocalStationsFailed:function(){return{type:a.GET_LOCAL_STATIONS_FAILED}},stationDataLoaded:function(e){return{type:a.STATION_DATA_LOADED,payload:e}},stationNetworkLookupRequested:function(e,t){return{type:a.STATION_NETWORK_LOOKUP_REQUESTED,payload:{stationId:e,subtype:t}}},stationNetworkResultsLoaded:function(e,t,n){return{type:a.STATION_NETWORK_RESULTS_LOADED,payload:{stationId:e,results:t,subtype:n}}},stationNetworkLookupFailed:function(e){return{type:a.STATION_NETWORK_LOOKUP_FAILED,payload:{subtype:e}}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=l(n(47)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),i=n(175),s=l(n(226)),u=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.STRIPE_SERVICE_HOST;t.default={getPaymentIntentToken:function(e){var t=c+"/transactions",n={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return(0,r.default)(2e4,t,n).then((function(e){return e.ok?Promise.resolve(e.json()):429===e.status?Promise.reject(i.ERROR_FLAGS.TO_MANY_REQUEST):402===e.status?Promise.reject(i.ERROR_FLAGS.INVALID_DETAILS):Promise.reject(i.ERROR_FLAGS.UNAVAILABLE)})).catch((function(e){return u.default.info(e),Promise.reject("object"===(void 0===e?"undefined":a(e))||e.includes("TIMEOUT")?i.ERROR_FLAGS.UNAVAILABLE:e)}))},updateMetadata:function(e){var t=c+"/metadata",n={method:"PATCH",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return(0,r.default)(2e4,t,n).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(i.ERROR_FLAGS.UNAVAILABLE_COMMENT)})).catch((function(e){return Promise.reject(e)}))},getStationDonationType:function(e){var t=void 0;if(e)if(t="referral to station website",e.id)for(var n in s.default.stations)s.default.stations[n].id===e.id&&(t="on site donation form");else t="on site donation form";return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programScheduleRequested=function(){return{type:a.PROGRAM_SCHEDULE_REQUESTED}},t.programScheduleLoaded=function(e){return{type:a.PROGRAM_SCHEDULE_LOADED,payload:e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreamsRequested=function(){return{type:a.MUSIC_STREAMS_REQUESTED}},t.musicStreamsRequestReceived=function(e){return{type:a.MUSIC_STREAMS_REQUEST_SUCCEEDED,payload:e}},t.musicStreamsStatusReset=function(){return{type:a.MUSIC_STREAMS_STATUS_RESET}},t.musicStreamsRequestFailed=function(){return{type:a.MUSIC_STREAMS_REQUEST_FAILED}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(30),o=(a=r)&&a.__esModule?a:{default:a};var i=["dmg_wmref_em.php","pdf","png","gif","jpg","jpeg","mp3","mp4","wav","mpeg","mov","rpm"],s=["/account/login","/account/logout","/account/signup","/donations/support","/podcast.php","/rss.php"];function u(e){if(!this||void 0===this.length)return!1;var t=this.indexOf("?")>-1?this.split("?")[0]:this,n=t.endsWith("/")?t.substring(0,t.length-1):t;return n.substring(n.length-e.length).toLowerCase()===e.toLowerCase()}function l(e){return e.replace(/#.*/,"")}t.default={isNavigationEvent:function(e,t,n){if(n.href.indexOf("#")>-1&&l(n.href)===l(t.href))return!1;if(-1!==n.href.indexOf("javascript:void(0)"))return!1;if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;if(e.isDefaultPrevented())return!1;var a=t.protocol+"//"+t.hostname,r=t.protocol+"//"+n.hostname;return!o.default.isNavigationBetweenSecureAndInsecure(a,r)},isExemptFromPersistentNavigation:function(e){return!!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||s.some(u,e)},shouldOpenInNewTab:function(e,t,n){var a=e.currentTarget.getAttribute("target");return!!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)||(null!=a&&a.indexOf("_blank")>-1||(!(!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||"/"===n.href)||(!!document.getElementsByTagName("body")[0].classList.contains("NPR-One")||(!(!n.pathname||!n.pathname.startsWith("/newsletter/")||-1!==n.pathname.indexOf("/subscribe")||-1!==n.pathname.indexOf("/unsubscribe")||-1!==n.pathname.indexOf("/userStatusData")||-1!==n.pathname.indexOf("/refresh"))||!o.default.shouldDomainBeMirrored(t.hostname,n.hostname)&&(t.hostname!==n.hostname||!0===i.some(u,n.href))))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6),o=(a=r)&&a.__esModule?a:{default:a},i=n(571);var s=null,u=new i.Nanobar({bg:"#6d8ac4",id:"loading-bar"});function l(){(0,o.default)('<div id="loading-activity">').prependTo("body")}(0,o.default)(window).on("unload",(function(){u.go(100)})),t.default={progress:function(e){u.go(e),(0,o.default)("#loading-activity","body").remove(),clearTimeout(s),100!==e&&(s=setTimeout(l,1500))},activateMainContentArea:function(){(0,o.default)("main").css({opacity:1})},deactivateMainContentArea:function(){(0,o.default)("main").css({opacity:.6})}}},function(e,t,n){!function(e){e.Nanobar=function(){"use strict";var e,t,n,a,r,o,i={width:"100%",height:"4px",zIndex:9999,top:"0"},s={width:0,height:"100%",clear:"both",transition:"height .3s"};return e=function(e,t){var n;for(n in t)e.style[n]=t[n];e.style.float="left"},a=function(){var e=this,t=this.width-this.here;t<.1&&t>-.1?(r.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout((function(){e.cont.el.removeChild(e.el)}),300))):(r.call(this,this.width-t/4),setTimeout((function(){e.go()}),16))},r=function(e){this.width=e,this.el.style.width=this.width+"%"},o=function(){var e=new t(this);this.bars.unshift(e)},(t=function(t){this.el=document.createElement("div"),this.el.style.backgroundColor=t.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=t,e(this.el,s),t.el.appendChild(this.el)}).prototype.go=function(e){e?(this.here=e,this.moving||(this.moving=!0,a.call(this))):this.moving&&a.call(this)},(n=function(t){var n,a=this.opts=t||{};a.bg=a.bg||"#000",this.bars=[],n=this.el=document.createElement("div"),e(this.el,i),a.id&&(n.id=a.id),n.style.position=a.target?"relative":"fixed",a.target?a.target.insertBefore(n,a.target.firstChild):document.getElementsByTagName("body")[0].appendChild(n),o.call(this)}).prototype.go=function(e){this.bars[0].go(e),100==e&&o.call(this)},n}(),e.Nanobar}(t)},function(e,t,n){var a=n(6);
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */!function(e){function t(t,a,r){var o=this;return this.on("click.pjax",t,(function(t){var i=e.extend({},_(a,r));i.container||(i.container=e(this).attr("data-pjax")||o),n(t,i)}))}function n(t,n,a){a=_(n,a);var r=t.currentTarget;if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&v(r)==v(location)||t.isDefaultPrevented())){var i={url:r.href,container:e(r).attr("data-pjax"),target:r},s=e.extend({},i,a),u=e.Event("pjax:click");e(r).trigger(u,[s]),u.isDefaultPrevented()||(o(s),t.preventDefault(),e(r).trigger("pjax:clicked",[s]))}}function r(t,n,a){a=_(n,a);var r=t.currentTarget;if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:r.method.toUpperCase(),url:r.action,container:e(r).attr("data-pjax"),target:r};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(r),i.processData=!1,i.contentType=!1;else{if(e(r).find(":file").length)return;i.data=e(r).serializeArray()}o(e.extend({},i,a)),t.preventDefault()}function o(t){t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n,a=t.target,r=y(t.url).hash,i=t.context=E(t.container);function u(t,n,r){r||(r={}),r.relatedTarget=a;var o=e.Event(t,r);return i.trigger(o,n),!o.isDefaultPrevented()}t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:i.selector}):t.data._pjax=i.selector,t.beforeSend=function(e,a){if("GET"!==a.type&&(a.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",i.selector),!u("pjax:beforeSend",[e,a]))return!1;a.timeout>0&&(n=setTimeout((function(){u("pjax:timeout",[e,t])&&e.abort("timeout")}),a.timeout),a.timeout=0);var o=y(a.url);r&&(o.hash=r),t.requestUrl=g(o)},t.complete=function(e,a){n&&clearTimeout(n),u("pjax:complete",[e,a,t]),u("pjax:end",[e,t])},t.error=function(e,n,a){var r=O("",e,t),o=u("pjax:error",[e,n,a,t]);"GET"==t.type&&"abort"!==n&&o&&s(r.url)},t.success=function(n,a,l){var c=o.state,d="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,f=l.getResponseHeader("Content-Type");if(f&&-1!==f.indexOf("text/html")){var p=l.getResponseHeader("X-PJAX-Version");if(d&&p&&d!==p)s(t.requestUrl);else{var m=O(n,l,t),g=y(m.url);r&&(g.hash=r,m.url=g.href);var v=e(b(n.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));if(m.contents)if(!v||v.toArray().find((function(e){return e&&"object"==typeof e&&e.tagName&&"META"===e.tagName&&e.name&&"npr-pjax"===e.name}))){o.state={id:t.id||h(),url:m.url,title:m.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,m.title,m.url);try{document.activeElement.blur()}catch(e){}m.title&&(document.title=m.title),u("pjax:beforeReplace",[m.contents,l,t,function(){try{i.html(m.contents)}catch(e){window.location.reload()}var o=i.find("input[autofocus], textarea[autofocus]").last()[0];o&&document.activeElement!==o&&o.focus(),e("script[src][data-pjax-script]").remove(),function(t){if(!t)return;var n=e("script[src]");t.each((function(){var t=this.src;if(!n.filter((function(){return this.src===t})).length){var a=document.createElement("script"),r=e(this).attr("type");r&&(a.type=r),a.src=e(this).attr("src"),e(a).attr("data-pjax-script",!0),document.head.appendChild(a)}}))}(m.scripts);var s=t.scrollTo,c=!1;if(document.querySelector("body").classList.contains("liveBlog")&&(c=!0),r&&c&&window.location.hash&&(nprLiveBlogTargetHash=window.location.hash,window.history.replaceState(null,null,"#")),r&&!c){var d=decodeURIComponent(r.slice(1)),f=document.getElementById(d)||document.getElementsByName(d)[0];f&&(s=e(f).offset().top)}"number"==typeof s&&e(window).scrollTop(s),u("pjax:success",[n,a,l,t])}],{state:o.state,previousState:c})}else s(m.url);else s(m.url)}}else s(t.requestUrl)},o.state||(o.state={id:h(),url:window.location.href,title:document.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),p(o.xhr),o.options=t;var l,c,d=o.xhr=e.ajax(t);return d.readyState>0&&(t.push&&!t.replace&&(l=o.state.id,c=m(i),T[l]=c,A.push(l),w(P,0),w(A,o.defaults.maxCacheLength),window.history.pushState(null,"",t.requestUrl)),u("pjax:start",[d,t]),u("pjax:send",[d,t])),o.xhr}function i(t,n){var a={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(a,_(t,n)))}function s(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}var u=!0,l=window.location.href,c=window.history.state;function d(t){u||p(o.xhr);var n,a=o.state,r=t.state;if(r&&r.container){if(u&&l==r.url)return;if(a){if(a.id===r.id)return;n=a.id<r.id?"forward":"back"}var i=T[r.id]||[],c=e(i[0]||r.container),d=i[1];if(c.length){a&&function(e,t,n){var a,r;T[t]=n,"forward"===e?(a=A,r=P):(a=P,r=A);a.push(t),(t=r.pop())&&delete T[t];w(a,o.defaults.maxCacheLength)}(n,a.id,m(c));const t=new CustomEvent("pjax:popstate",{detail:{state:r,direction:n}});document.dispatchEvent(t);var f={id:r.id,url:r.url,container:c,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(d){c.trigger("pjax:start",[null,f]),o.state=r,r.title&&(document.title=r.title);var h=e.Event("pjax:beforeReplace",{state:r,previousState:a});c.trigger(h,[d,f]);try{c.html(d)}catch(e){window.location.reload()}c.trigger("pjax:end",[null,f])}else o(f);c[0].offsetHeight}else s(location.href)}u=!1}function f(t){var n=e.isFunction(t.url)?t.url():t.url,a=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===a?"GET":"POST",action:n,style:"display:none"});"GET"!==a&&"POST"!==a&&r.append(e("<input>",{type:"hidden",name:"_method",value:a.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),(function(t,n){var a=n.split("=");r.append(e("<input>",{type:"hidden",name:a[0],value:a[1]}))}));else if(e.isArray(o))e.each(o,(function(t,n){r.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))}));else if("object"==typeof o){var i;for(i in o)r.append(e("<input>",{type:"hidden",name:i,value:o[i]}))}e(document.body).append(r),r.submit()}function p(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function h(){return(new Date).getTime()}function m(e){var t=e.clone();return t.find("script").each((function(){this.src||a._data(this,"globalEval",!1)})),[e.selector,t.contents()]}function g(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function y(e){var t=document.createElement("a");return t.href=e,t}function v(e){return e.href.replace(/#.*/,"")}function _(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=E(n.container)),n}function E(t){if((t=e(t)).length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function S(e,t){return e.filter(t).add(e.find(t))}function b(t){return e.parseHTML(t,document,!0)}function O(t,n,a){var r={},o=/<html/i.test(t),i=n.getResponseHeader("X-PJAX-URL");if(r.url=i?g(y(i)):a.requestUrl,o)var s=e(b(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),u=e(b(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else s=u=e(b(t));if(0===u.length)return r;if(r.title=S(s,"title").last().text(),a.fragment){if("body"===a.fragment)var l=u;else l=S(u,a.fragment).first();l.length&&(r.contents="body"===a.fragment?l:l.contents(),r.title||(r.title=l.attr("title")||l.data("title")))}else o||(r.contents=u);return r.contents&&(r.contents=r.contents.not((function(){return e(this).is("title")})),r.contents.find("title").remove(),r.scripts=S(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=e.trim(r.title)),r}c&&c.container&&(o.state=c),"state"in window.history&&(u=!1);var T={},P=[],A=[];function w(e,t){for(;e.length>t;)delete T[e.shift()]}function I(){return e("meta").filter((function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()})).attr("content")}function D(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=N,e.pjax.click=n,e.pjax.submit=r,e.pjax.reload=i,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:I},e(window).on("popstate.pjax",d)}function N(){e.fn.pjax=function(){return this},e.pjax=f,e.pjax.enable=D,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",d)}e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?D():N()}(a),e.exports=a.fn.pjax},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){0;return(0,r.createStore)(i.default,e,H)};var r=n(188),o=G(n(654)),i=G(n(25)),s=n(603),u=G(n(604)),l=n(605),c=n(606),d=n(222),f=n(607),p=n(608),h=n(609),m=n(611),g=n(612),y=n(613),v=n(615),_=n(616),E=n(619),S=n(620),b=n(626),O=n(628),T=n(629),P=n(632),A=n(635),w=n(637),I=n(639),D=n(640),N=n(642),C=n(643),R=n(644),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),L=n(645),j=n(646),k=n(223),U=n(648),x=n(651),F=n(233),B=n(652);function G(e){return e&&e.__esModule?e:{default:e}}var H=("object"===("undefined"==typeof window?"undefined":a(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionsBlacklist:[M.TIMER]}):r.compose)((0,r.applyMiddleware)(o.default,_.persistentState,s.outsideDOM,u.default,l.playlistUnwrapper,c.nowOnStreams,h.aggLoader,f.queue,m.newscast,p.history,R.paneNavigation,g.continuousListening,y.initialize,v.stateCorrection,C.playerPlatformInteractions,d.sponsorship,(0,E.metrics)(A.track),(0,E.metrics)(w.track),S.globalMetrics,b.userLoader,O.stations,P.storyPage,I.dropdowns,D.localStories,N.notifyMobileNative,L.globalAlerts,j.googletag,k.onPageCallouts,U.musicStreams,T.spikingStories,x.donations,F.dataManagementPlatform,B.piano))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getRewindPosition=m,t.getFastForwardPosition=g,t.getExpanded=y,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case r.STATE_LOADED:var n=t.payload,o=n.stateTime,s=n.currentTime;if((0,u.isWithinContinuityPeriod)(o,s)){var f=t.payload.state.sponsorship.preemptedUid,_=f||t.payload.state.player.currentUid,E=f||(0,c.isNewscastUid)(_)?0:t.payload.state.player.position,S=(0,d.getMetadataTypeForUid)(t.payload.state.metadata,_);return v(S)||(_="",E=0),a({},h(e),h(t.payload.state.player),{currentUid:_,position:E,isPlaying:!1,isAudioPlaying:!1,userEverInvokedPlay:!1,isEngaged:!1,featuredAudio:a({},e.featuredAudio,{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""}),abTestRemoveNewscast:!1})}return h(e);case r.INITIAL_WIDTH_DETECTED:var b=e.isExpanded;return t.payload.breakpoint===i.SMALL?b=!1:e.env.breakpoint!==t.payload.breakpoint&&(b=(0,l.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail)),Object.assign({},e,{isExpanded:b,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL});case r.WIDTH_DETECTED:return Object.assign({},e,{isExpanded:e.env.breakpoint!==t.payload.breakpoint?(0,l.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail):e.isExpanded,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL||e.isPaneExpanded});case r.RIGHTRAIL_DETECTED:var O=(0,l.getCollapsed)(e.env.breakpoint,t.payload),T=!!O||e.isExpanded;return Object.assign({},e,{env:Object.assign({},e.env,{hasRightRail:t.payload}),isExpanded:t.payload&&y(e.env.breakpoint,T,e.isEngaged)});case r.COUNTRY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{country:t.payload})});case r.TOUCH_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{hasTouchSupport:!0})});case r.PAGE_VISIBILITY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{isPageVisible:t.payload})});case r.TOGGLE_EXPANDED:return Object.assign({},e,{isExpanded:!e.isExpanded,isEngaged:!0});case r.TOGGLE_PLAY:return Object.assign({},e,{isPlaying:!e.isPlaying});case r.PLAY_PAUSE_REQUESTED:return Object.assign({},e,{isEngaged:!0,userEverInvokedPlay:!0});case r.SPONSORSHIP_LOADED:case r.NEW_PLAY_REQUESTED:return Object.assign({},e,{position:0,isPlaying:!1});case r.SOUNDSCAPES_LOADED:return Object.assign({},e,{userEverInvokedPlay:!0,isEngaged:!0,position:0});case r.AUDIO_REQUESTED:return Object.assign({},e,{currentUid:t.payload.metadata.uid,isLoading:!0,isPlaying:!1,isAudioPlaying:!1,position:t.payload.startPosition});case r.AUDIO_PLAYED:return Object.assign({},e,{isLoading:!1,isPlaying:!0});case r.LINK_CLICKED:return Object.assign({},e,{isExpanded:(0,l.getCollapsed)(e.env.breakpoint,e.env.hasRightRail)});case r.REWIND:return Object.assign({},e,{position:m(e.position)});case r.FAST_FORWARD:return Object.assign({},e,{position:g(e.position,t.payload.duration)});case r.TIMER:return e.isAudioPlaying?Object.assign({},e,{position:e.position+t.payload.sinceLastTick/1e3}):e;case r.AUDIO_BUFFERING_STARTED:return a({},e,{isAudioPlaying:!1,isLoading:!0});case r.AUDIO_BUFFERING_FINISHED:return a({},e,{isAudioPlaying:!0,isLoading:!1});case r.AUDIO_PLAYING_STATUS_DIRECT:return Object.assign({},e,{isPlaying:t.payload.isAudioPlaying,isAudioPlaying:t.payload.isAudioPlaying});case r.AUDIO_COMPLETE:return Object.assign({},e,{position:0,isPlaying:!1});case r.SPONSORSHIP_INTERRUPTED:return Object.assign({},e,{isLoading:!1,isPlaying:!1});case r.AUDIO_ERROR:return Object.assign({},e,{isLoading:!1});case r.SEEK:return Object.assign({},e,{position:t.payload.position});case r.SET_AUDIO_PLAYER_VOLUME:return a({},e,{volume:t.payload});case r.INITIALIZE_FEATURED_AUDIO_SUCCEEDED:var P=t.payload,A=P.featuredAudioProgramUid,w=P.featuredAudioUid,I=P.featuredAudioText,D=P.featuredAudioImage;return a({},e,{featuredAudio:a({},e.featuredAudio,{featuredAudioProgramUid:A,featuredAudioUid:w,featuredAudioText:I,featuredAudioImage:D})});case r.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING:return a({},e,{abTestRemoveNewscast:!0});case r.SCRUB_BEGIN:return Object.assign({},e,{isScrubbing:!0});case r.SCRUB_END:return Object.assign({},e,{isScrubbing:!1});case r.INITIAL_STATE_REVERTED:return Object.assign({},e,{isEngaged:!1,isExpanded:!1,isPlaying:!1,userEverInvokedPlay:!1,position:0,isScrubbing:!1,currentUid:""});case r.PREROLL_ENDED:return Object.assign({},e,{isPlaying:!1,position:0});case r.ADD_STREAM_TO_STAGE_REQUESTED:return a({},e,{isEngaged:!0,isExpanded:!0,currentUid:t.payload.uid});case r.MOBILE_NATIVE_DID_START_LOADING:return Object.assign({},e,{currentUid:t.payload,isLoading:!0,isPlaying:!1});case r.MOBILE_NATIVE_DID_START_PLAYING:return Object.assign({},e,{currentUid:t.payload,isLoading:!1,isPlaying:!0});case r.MOBILE_NATIVE_DID_STOP_PLAYING:return Object.assign({},e,{currentUid:null,isLoading:!1,isPlaying:!1});case r.PANE_CHANGE_DIRECT:return a({},e,{isEngaged:!0});case r.PANE_CHANGE_WITH_EXPAND:return a({},e,{isExpanded:!0,isEngaged:!0,isPaneExpanded:!0});case r.COLLAPSE_PANE:return a({},e,{isPaneExpanded:!1});default:return e}};var r=f(n(1)),o=f(n(15)),i=f(n(22)),s=f(n(229)),u=n(138),l=n(220),c=n(76),d=n(102);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={env:{breakpoint:i.SMALL,width:0,hasTouchSupport:!1,country:s.PENDING,hasRightRail:!0,isPageVisible:!0},isVisible:!0,isEngaged:!1,isExpanded:!1,isPaneExpanded:!1,isPlaying:!1,isAudioPlaying:!1,isLoading:!1,userEverInvokedPlay:!1,position:0,isScrubbing:!1,currentUid:"",volume:.8,featuredAudio:{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""},abTestRemoveNewscast:!1},h=function(e){return"volume"in e&&"isPaneExpanded"in e?e:a({},e,{volume:.8,isPaneExpanded:!1})};function m(e){return Math.max(e-15,0)}function g(e,t){return Math.min(e+15,t)}function y(e,t,n){return t||e===i.LARGE&&n}function v(e){return e!==o.SPONSORSHIP}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.AGG_LOADED:var n={};return n[t.payload.aggId]=t.payload.segments.map((function(e){return e.uid})),Object.assign({},e,n);case o.AUDIO_ERROR:case o.AUDIO_EXPIRED:case o.METADATA_INVALIDATED:return(0,r.default)(e,(function(e){return(0,a.default)(e,t.payload.uid)}));default:return e}};var a=i(n(139)),r=i(n(106)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var s={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=o(n(1));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i={currentPane:o(n(104)).ON_DEMAND};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.PANE_CHANGE_DIRECT:case r.PANE_CHANGE_WITH_EXPAND:return a({},e,{currentPane:t.payload});default:return e}},getCurrentPane:function(e){return e.currentPane}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=u(n(139)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(138),s=u(n(186));function u(e){return e&&e.__esModule?e:{default:e}}var l={shouldEnableContinuousListening:!0,continuousTriggerTimestamp:null,userQueue:[],continuousQueue:[]};function c(e,t){return-1!==t.indexOf(e)?t:t.concat(e)}function d(e,t){return-1!==t.indexOf(e)?t:[e].concat(t)}function f(e){return Array.isArray(e)}t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=void 0,u=void 0,p=void 0;switch(t.type){case o.STATE_LOADED:if(!t.payload.state.queue)return e;if(f(t.payload.state.queue))return a({},e,{userQueue:t.payload.state.queue});var h=t.payload,m=h.stateTime,g=h.currentTime,y=t.payload.state.queue,v=y.shouldEnableContinuousListening,_=y.userQueue,E=y.continuousQueue,S=y.continuousTriggerTimestamp;return a({},e,{shouldEnableContinuousListening:v},(0,i.isWithinContinuityPeriod)(m,g)&&{userQueue:_},(0,i.isWithinLimitedContinuityPeriod)(S,g)&&{continuousQueue:E,continuousTriggerTimestamp:S});case o.ENABLE_CONTINUOUS_LISTENING:return a({},e,{shouldEnableContinuousListening:!0,continuousTriggerTimestamp:null});case o.DISABLE_CONTINUOUS_LISTENING:return a({},e,{shouldEnableContinuousListening:!1,continuousTriggerTimestamp:null,continuousQueue:[]});case o.ADD_ONE_TO_QUEUE:case o.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST:return a({},e,{userQueue:c(t.payload,e.userQueue),continuousQueue:(0,r.default)(e.continuousQueue,t.payload)});case o.ADD_ONE_TO_TOP_OF_QUEUE:return a({},e,{userQueue:d(t.payload,e.userQueue),continuousQueue:(0,r.default)(e.continuousQueue,t.payload)});case o.ADD_MANY_TO_TOP_OF_QUEUE:n=e.userQueue.slice(),u=e.continuousQueue.slice(),p=t.payload.slice().reverse();var b=!0,O=!1,T=void 0;try{for(var P,A=p[Symbol.iterator]();!(b=(P=A.next()).done);b=!0){var w=P.value;n=d(w,n),u=(0,r.default)(u,w)}}catch(e){O=!0,T=e}finally{try{!b&&A.return&&A.return()}finally{if(O)throw T}}return a({},e,{userQueue:n,continuousQueue:u});case o.ADD_MANY_TO_QUEUE:n=e.userQueue.slice(),u=e.continuousQueue.slice();var I=!0,D=!1,N=void 0;try{for(var C,R=t.payload[Symbol.iterator]();!(I=(C=R.next()).done);I=!0){var M=C.value;n=c(M,n),u=(0,r.default)(u,M)}}catch(e){D=!0,N=e}finally{try{!I&&R.return&&R.return()}finally{if(D)throw N}}return a({},e,{userQueue:n,continuousQueue:u});case o.REMOVE_ONE_FROM_QUEUE:case o.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST:return a({},e,{userQueue:(0,r.default)(e.userQueue,t.payload),continuousQueue:(0,r.default)(e.continuousQueue,t.payload)});case o.PLAY_PAUSE_REQUESTED:case o.AUDIO_ERROR:case o.METADATA_INVALIDATED:case o.AUDIO_EXPIRED:return a({},e,{userQueue:(0,r.default)(e.userQueue,t.payload.uid),continuousQueue:(0,r.default)(e.continuousQueue,t.payload.uid)});case o.PREEMPTED_UID_QUEUED:return a({},e,{userQueue:c(t.payload,e.userQueue),continuousQueue:(0,r.default)(e.continuousQueue,t.payload)});case o.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE:u=e.continuousQueue.slice();var L=!0,j=!1,k=void 0;try{for(var U,x=t.payload[Symbol.iterator]();!(L=(U=x.next()).done);L=!0){var F=U.value;e.userQueue.includes(F)||(u=c(F,u))}}catch(e){j=!0,k=e}finally{try{!L&&x.return&&x.return()}finally{if(j)throw k}}return a({},e,{userQueue:e.userQueue,continuousQueue:u});case o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED:return a({},e,{continuousTriggerTimestamp:s.default.getTimestamp()});default:return e}},getUserQueue:function(e){return e.userQueue},getContinuousQueue:function(e){return e.continuousQueue},shouldEnableContinuousListening:function(e){return e.shouldEnableContinuousListening},getContinuousTriggerTimestamp:function(e){return e.continuousTriggerTimestamp}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.STATE_LOADED:var n=t.payload.state.org;return n?(0,r.default)(n,(function(e,t,n){t.lastUpdated&&"string"==typeof t.lastUpdated&&Date.now()-Date.parse(t.lastUpdated)<4*i.default.ONE_HOUR&&(e[n]=t)})):e;case o.STATION_DATA_LOADED:var s=t.payload.id;return a({},e,u({},s,a({},e[s],t.payload)));case o.PROGRAM_SCHEDULE_LOADED:var c=t.payload,d=c.orgId,f=c.programId,p=c.programTitle,h=c.programSchedule;return e[d]?Object.assign({},e,u({},d,Object.assign({},e[d],{programs:u({},f,{title:p,schedule:h})}))):e;default:return e}};var r=s(n(357)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(350));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=s(n(1)),o=s(n(180)),i=s(n(132));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={ecosystem:o.NEWS,currentPage:i.UNKNOWN,currentHref:"",renderingForMobileNative:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.ECOSYSTEM_DETECTED:return a({},e,{ecosystem:t.payload});case r.PAGE_DETECTED:return a({},e,{currentPage:t.payload.type,currentHref:t.payload.href});case r.MOBILE_NATIVE_DETECTED:return a({},e,{renderingForMobileNative:!0});default:return e}},getCurrentPage:function(e){return e.site.currentPage}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={isCurrentPageSpiking:!1,spikingPages:[],areSpikingStoriesDetermined:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SPIKING_STORIES_REQUESTED:return a({},e);case r.SPIKING_STORIES_SUCCEEDED:return a({},e,{spikingPages:t.payload});case r.SPIKING_STORIES_FAILED:return a({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});case r.SPIKING_STORY_DETECTED:return a({},e,{isCurrentPageSpiking:!0,areSpikingStoriesDetermined:!0});case r.SPIKING_STORY_NOT_DETECTED:return a({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});default:return e}},getIsCurrentPageSpiking:function(e){return e.spikingStories.isCurrentPageSpiking}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.STATE_LOADED:if(!t.payload.state.metadata)return e;var n=t.payload,a=n.stateTime,r=n.currentTime;return(0,l.isWithinContinuityPeriod)(a,r)?g(t.payload.state.metadata):e;case i.SPONSORSHIP_STARTED:return t.payload.uid in e?e:h(e,[(0,u.getNewMetadataOfType)(t.payload.uid,s.SPONSORSHIP)]);case i.METADATA_LOADED:case i.SPONSORSHIP_LOADED:return h(e,[t.payload]);case i.METADATAS_LOADED:return h(e,t.payload);case i.AGG_LOADED:return h(e,t.payload.segments);case i.NOW_PLAYING_LOADED:case i.CONTAINER_UNWRAPPED:case i.AUDIO_DURATION_CHANGE:return t.payload.uid in e?m(e,t.payload):h(e,[t.payload]);case i.METADATA_UNLOADED:return(0,o.default)(e,t.payload.uid);case i.METADATAS_UNLOADED:return(0,o.default)(e,t.payload);case i.AUDIO_ERROR:case i.AUDIO_EXPIRED:case i.METADATA_INVALIDATED:return t.payload.uid in e?m(e,{uid:t.payload.uid,available:!1,unavailableText:t.meta?t.meta.reason:""}):e;default:return e}};var a,r=n(358),o=(a=r)&&a.__esModule?a:{default:a},i=c(n(1)),s=c(n(15)),u=n(102),l=n(138);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={};function p(e){return Object.assign({},d({},e.uid,e))}function h(e,t){var n=t.map(p);return Object.assign.apply(Object,[{},e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))}function m(e,t){return Object.assign({},e,d({},t.uid,Object.assign({},e[t.uid],t)))}function g(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]),delete t[n].contentUrl);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=void 0;switch(t.type){case a.NOW_ON_STREAMS_REGISTRATION_REQUESTED:n=t.payload.uid;var i=e.hasOwnProperty(n)?e[n]+1:1;return Object.assign({},e,r({},n,i));case a.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED:if(n=t.payload.uid,!e.hasOwnProperty(n)||e[n]<=1){var s=Object.assign({},e);return delete s[n],s}return Object.assign({},e,r({},n,e[n]-1));default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case a.TIMER:return Object.assign({},e,{now:t.payload.now});default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var r={now:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(139),i=(a=o)&&a.__esModule?a:{default:a},s=c(n(1)),u=c(n(15)),l=c(n(136));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f={headPosition:1,content:[]},p=function(e){return Array.isArray(e)?{headPosition:1,content:e}:e};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=void 0;switch(t.type){case s.STATE_LOADED:return t.payload.state.history?p(t.payload.state.history):p(e);case s.PLAY_PAUSE_REQUESTED:var a=t.payload.uid,o=e.content[e.headPosition];return a!==o?r({},e,{headPosition:1}):e;case s.PREEMPTED_UID_REPLACED:case s.AUDIO_PLAYING_STATUS_DIRECT:return t.payload.metadata.type!==u.SEGMENT||l.PROMO_ONLY_AUDIO_LIST.includes(t.payload.metadata.uid)?e:((n=e.content.slice().filter((function(e){return e!==t.payload.metadata.uid})).slice(0,99)).unshift(t.payload.metadata.uid),r({},e,{content:n}));case s.CLEAR_HISTORY_REQUESTED:return f;case s.AUDIO_ERROR:case s.AUDIO_EXPIRED:case s.METADATA_INVALIDATED:case s.METADATA_UNLOADED:return r({},e,{headPosition:1,content:(0,i.default)(e.content,t.payload.uid)});case s.INCREMENT_AUDIO_HISTORY_HEAD:return r({},e,{headPosition:e.headPosition+1});case s.AUDIO_COMPLETE:case s.SKIP:case s.SPONSORSHIP_INTERRUPTED:return r({},e,{headPosition:1});case s.METADATAS_UNLOADED:case s.HISTORY_ITEMS_UNLOADED:return r({},e,{headPosition:1,content:i.default.apply(void 0,[e.content].concat(d(t.payload)))});default:return e}},getPlayerHistory:function(e){return p(e).content},getCurrentPlayerHistoryHeadPosition:function(e){return p(e).headPosition}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1],n=void 0,u=void 0;switch(t.type){case o.STATE_LOADED:if(!t.payload.state.sponsorship)return e;var f=t.payload,p=f.stateTime,m=f.currentTime;if((0,c.isWithinContinuityPeriod)(p,m)){var g=t.payload.state.sponsorship,y=g.lastPlayedTimestamp,v=g.videoLastPlayedTimestamp,_=g.preemptedUid,E=g.isPostrollSponsorship,S=t.payload.state.sponsorship,b=S.channel,O=S.playPostrollBeforeUid;return _&&!E&&(b="",O=""),Object.assign({},e,{playPostrollBeforeUid:O,channel:b,lastPlayedTimestamp:y,videoLastPlayedTimestamp:v})}return e;case o.PREEMPTED_UID_REPLACED:return Object.assign({},e,{preemptedUid:t.payload.metadata.uid,preemptedSegmentResumePosition:t.payload.preemptedSegmentResumePosition});case o.SPONSORSHIP_REQUESTED:return Object.assign({},e,{preemptedUid:t.payload.uid,isFetchingSponsorship:!0});case o.PREROLL_ENDED:return Object.assign({},e,{preemptedUid:"",sponsorshipDiv:"",primaryThemeColor:"",secondaryThemeColor:"",isPlayingSponsorship:!1,lastPlayedTimestamp:Date.now()/1e3,fetchLeaveBehindOnly:!1,targetSiteOverride:"",loadCustomAdBackground:!1,preemptedSegmentResumePosition:""});case o.POSTROLL_ENDED:return Object.assign({},e,{channel:"",playPostrollBeforeUid:"",isPostrollSponsorship:!1,preemptedUid:"",lastPlayedTimestamp:Date.now()/1e3});case o.VIDEO_PREROLL_ENDED:return a({},e,{videoLastPlayedTimestamp:Date.now()/1e3});case o.SPONSORSHIP_DIVS_RESET:return n=t.payload.resetSponsorshipDiv?"":e.sponsorshipDiv,u=t.payload.resetLeaveBehindDiv?"":e.leaveBehindDiv,Object.assign({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:u});case o.PLAY_POSTROLL_BEFORE_UID_RESET:return Object.assign({},e,{playPostrollBeforeUid:""});case o.PLAY_POSTROLL_BEFORE_UID_SET:return Object.assign({},e,{playPostrollBeforeUid:t.payload.uid});case o.SPONSORSHIP_SLOT_AVAILABLE:return e.loadCustomAdBackground?e:Object.assign({},e,{numSlotsAvailable:e.numSlotsAvailable+1});case o.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return Object.assign({},e,{isMobileSponsorshipSlotAvailable:!0});case o.SPONSORED_CHANNEL_SET:return Object.assign({},e,{channel:t.payload});case o.SPONSORSHIP_LOADED:return Object.assign({},e,{isFetchingSponsorship:!1});case o.AUDIO_PLAYED:return t.payload.type===i.SPONSORSHIP||(0,d.isSoundscapes)(t.payload.type)?Object.assign({},e,{isPlayingSponsorship:!0}):e;case o.RESET_LAST_PLAYED_TIMESTAMP:return Object.assign({},e,{lastPlayedTimestamp:Date.now()/1e3});case o.POSTROLL_SPONSORSHIP_STARTED:return Object.assign({},e,{isPostrollSponsorship:!0,sponsorshipDiv:(0,r.constructAdSlotName)(l.PLAYER_POSTROLL,t.payload.uid),leaveBehindDiv:(0,r.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)});case o.AUDIO_COMPLETE:return Object.assign({},e,{sponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_INTERRUPTED:return u=t.payload.retainLeaveBehind?e.leaveBehindDiv:"",Object.assign({},e,{sponsorshipDiv:"",mobileSponsorshipDiv:"",leaveBehindDiv:u,isFetchingSponsorship:!1,isPlayingSponsorship:!1,isPostrollSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_STARTED:var T="";return n="",u="",t.payload.breakpoint===s.SMALL?T=(0,r.constructAdSlotName)(l.PLAYER_MOBILE_PRIMARY,t.payload.uid):(n=(0,r.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.uid),u=(0,r.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)),Object.assign({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:u,mobileSponsorshipDiv:T,playPostrollBeforeUid:"",channel:""});case o.SOUNDSCAPES_LOADED:var P="";return t.payload.breakpoint!==s.SMALL&&(P=(0,r.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.metadata.uid)),Object.assign({},e,{primaryThemeColor:t.payload.metadata.primaryThemeColor,secondaryThemeColor:t.payload.metadata.secondaryThemeColor,sponsorshipDiv:P,loadCustomAdBackground:!0});case o.LEAVE_BEHIND_INITIALIZED:return Object.assign({},e,{leaveBehindDiv:(0,r.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)});case o.INITIAL_STATE_REVERTED:return h;default:return e}};var r=n(130),o=f(n(1)),i=f(n(15)),s=f(n(22)),u=f(n(227)),l=f(n(101)),c=n(138),d=n(103);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=Date.now()/1e3-u.SPONSORSHIP_INTERVAL,h={preemptedUid:"",preemptedSegmentResumePosition:"",numSlotsAvailable:0,isMobileSponsorshipSlotAvailable:!1,sponsorshipDiv:"",leaveBehindDiv:"",mobileSponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,isPostrollSponsorship:!1,playPostrollBeforeUid:"",channel:"",primaryThemeColor:"",secondaryThemeColor:"",loadCustomAdBackground:!1,lastPlayedTimestamp:p,videoLastPlayedTimestamp:p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.STATE_LOADED:return t.payload.state.user?(i.hasConsentedTo(i.FUNCTIONAL)||(t.payload.state.user.org=e.org),t.payload.state.user.org&&t.payload.state.user.org.autolocalized?Object.assign(t.payload.state.user,{org:u.org}):t.payload.state.user):e;case r.USER_VIEW_LOAD_COMPLETED:return Object.assign({},e,{view:Object.assign({},e.view,{data:t.payload,meta:Object.assign({},e.view.meta,{status:o.RESOLVED})})});case r.USER_VIEW_LOAD_FAILED:return Object.assign({},e,{view:Object.assign({},e.view,{meta:Object.assign({},e.view.meta,{status:o.FAILED})})});case r.STATION_CHANGE_COMPLETED:return Object.assign({},e,{org:Object.assign({},e.org,{id:t.payload.id,isAutoLocalized:!1,status:o.RESOLVED})});case r.STATION_AUTOLOCALIZED:return a({},e,{org:{id:t.payload.id,isAutoLocalized:!0,status:o.RESOLVED}});case r.DEFAULT_ORG_RESOLVED:return Object.assign({},e,{org:Object.assign({},e.org,{id:u.org.id,status:o.RESOLVED})});case r.ACCESS_TOKEN_RECEIVED:case r.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED:return Object.assign({},e,{oauth:Object.assign({},e.oauth,{token:t.payload.token,updateDate:t.payload.updateDate})});case r.USER_LOGOUT_COMPLETED:return Object.assign({},e,{view:u.view,oauth:u.oauth});case r.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED:case r.NEWSLETTER_ACQUISITION_REQUESTED:return a({},e,{newsletter:a({},e.newsletter,{status:o.PENDING})});case r.NEWSLETTER_ACQUISITION_COMPLETED:case r.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED:return a({},e,{newsletter:a({},e.newsletter,{status:o.RESOLVED})});case r.NEWSLETTER_ACQUISITION_FAILED:case r.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED:return a({},e,{newsletter:a({},e.newsletter,{status:o.FAILED})});case r.PAGE_DETECTED:return a({},e,{newsletter:a({},e.newsletter,{status:o.NOT_STARTED})});default:return e}};var r=s(n(1)),o=s(n(19)),i=s(n(38));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={view:{meta:{status:o.PENDING},data:{version:"",href:"",attributes:{id:0,email:"",firstName:"",lastName:"",cohort:{},organizations:[],affiliations:[],country:"",password:"",verificationEmail:"",subscriptions:[]},items:[],links:{},errors:[]}},org:{id:0,isAutoLocalized:!1,status:o.PENDING},newsletter:{status:o.NOT_STARTED},oauth:{token:"",updateDate:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a.STATION_DROPDOWN_TOGGLED:return Object.assign({},e,{isStationDropdownExpanded:!e.isStationDropdownExpanded});case a.USER_ACCOUNT_ACCESS_MENU_DROPDOWN_TOGGLED:case a.PAGE_DETECTED:case a.CLOSE_SUBNAVS:return Object.assign({},e,{isStationDropdownExpanded:!1});default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var r={isStationDropdownExpanded:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.STATION_SEARCH_REQUESTED:return a({},e,{term:t.payload.term,status:o.PENDING});case r.STATION_SEARCH_RESULTS_LOADED:var n=t.payload,i=n.term,l=n.results;return a({},e,{status:o.RESOLVED,results:a({},e.results,s({},i,l)),selectedStationId:null});case r.STATION_SEARCH_FAILED:return a({},e,{status:o.FAILED,selectedStationId:null});case r.USER_SELECTS_STATION:var c=t.payload.id;return a({},e,{selectedStationId:c});default:return e}};var r=i(n(1)),o=i(n(19));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={term:"",status:o.NOT_STARTED,results:{},selectedStationId:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.STATE_LOADED:return t.payload.state.storyRecommendations?t.payload.state.storyRecommendations:e;case r.END_OF_STORY_RECOMMENDATION_REQUESTED:return a({},e,{endOfStory:a({},e.endOfStory,{status:o.PENDING,recommendations:s.endOfStory.recommendations})});case r.END_OF_STORY_RECOMMENDATION_COMPLETED:return a({},e,{endOfStory:a({},e.endOfStory,{status:o.RESOLVED,recommendations:t.payload.recommendations})});case r.END_OF_STORY_RECOMMENDATION_FAILED:return a({},e,{endOfStory:a({},e.endOfStory,{status:o.FAILED,recommendations:s.endOfStory.recommendations})});default:return e}};var r=i(n(1)),o=i(n(19));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={endOfStory:{status:o.NOT_STARTED,recommendations:[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=i(n(1)),o=i(n(591));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={readStoryIds:[],currentStoryId:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case r.STATE_LOADED:return t.payload.state.storyHistory?t.payload.state.storyHistory:e;case r.STORY_PAGE_DETECTED:var n=t.payload.storyId,i=e.readStoryIds;return a({},e,{currentStoryId:n,readStoryIds:[t.payload.storyId].concat(i.filter((function(e){return e!==t.payload.storyId}))).slice(0,o.MAX_STORY_HISTORY_SIZE)});default:return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_STORY_HISTORY_SIZE=500},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SESSION_LOADED:return a({},e,{source:t.payload.source,medium:t.payload.medium,content:t.payload.content,campaign:t.payload.campaign,term:t.payload.term,renderPlatform:t.payload.renderPlatform,userId:t.payload.userId,orgId:t.payload.orgId,preventAutoLocalization:t.payload.preventAutoLocalization});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={source:"",medium:"",content:"",campaign:"",term:"",renderPlatform:"",userId:0,orgId:0,preventAutoLocalization:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.STATION_NETWORK_LOOKUP_REQUESTED:var n=t.payload,a=n.subtype,o=n.stationId;return r({},e,d({},a,r({},e[a],{stationId:o,status:s.PENDING})));case i.STATION_NETWORK_RESULTS_LOADED:var u=t.payload,l=u.subtype,c=u.stationId,p=u.results;return r({},e,d({},l,r({},e[l],{stationId:c,status:s.RESOLVED,results:p})));case i.STATION_NETWORK_LOOKUP_FAILED:var h=t.payload.subtype;return r({},e,d({},h,r({},e[h],{status:s.FAILED,results:[]})));default:return e}};var o,i=c(n(1)),s=c(n(19)),u=n(564),l=(o=u)&&o.__esModule?o:{default:o};function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(d(a={},l.default.SUBTYPE_YOUR_STATION,{stationId:0,status:s.NOT_STARTED,results:[]}),d(a,l.default.SUBTYPE_SEARCH,{stationId:0,status:s.NOT_STARTED,results:[]}),a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case o.GET_LOCAL_STATIONS_REQUESTED:return a({},c,{requestStatus:i.PENDING});case o.GET_LOCAL_STATIONS_SKIPPED:return a({},c,{requestStatus:i.SKIPPED});case o.GET_LOCAL_STATIONS_SUCCEEDED:var n=t.payload;return{stations:n.stationData.map((function(e){return e.id})),localizationInfo:n.locationData,requestStatus:i.RESOLVED,expires:(0,u.default)().add(1,"day").unix()};case o.GET_LOCAL_STATIONS_FAILED:return a({},c,{requestStatus:i.FAILED});case o.STATE_LOADED:return t.payload.state.localStations&&t.payload.state.localStations.requestStatus===i.RESOLVED?a({},e,t.payload.state.localStations):e;default:return e}};var r,o=l(n(1)),i=l(n(19)),s=n(236),u=(r=s)&&r.__esModule?r:{default:r};function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c={stations:[],requestStatus:i.NOT_STARTED}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.HP_LOCAL_STORIES_REQUESTED:var n=t.payload;return a({},e,s({},n,{stories:[],requestStatus:o.PENDING}));case r.HP_LOCAL_STORIES_SUCCEEDED:var i=t.payload,l=i.stories,c=i.orgId;return a({},e,s({},c,{stories:l,requestStatus:o.RESOLVED}));case r.HP_LOCAL_STORIES_FAILED:var d=t.payload;return a({},e,s({},d,{stories:[],requestStatus:o.FAILED}));default:return e}};var r=i(n(1)),o=i(n(19));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=s(n(1)),o=s(n(75)),i=n(107);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE,isDismissed:!0,globalAlertAlreadyVisibleThisPage:!1,globalAlertLastDisplayed:null,numTimesModalTriggered:{},numTimesStickybarTriggered:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.STATE_LOADED:var n=t.payload.state.globalAlerts.globalAlertLastDisplayed;return n="string"!=typeof GlobalAlertLastDisplayed?n:null,a({},e,{numTimesModalTriggered:t.payload.state.globalAlerts.numTimesModalTriggered||{},numTimesStickybarTriggered:t.payload.state.globalAlerts.numTimesStickybarTriggered||{},globalAlertLastDisplayed:n,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case r.PAGE_DETECTED:return a({},e,{isDismissed:!0,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case r.SHOW_GLOBAL_MODAL:var s=e.numTimesModalTriggered;return e.variantIDToShowOnThisPage in s?s[e.variantIDToShowOnThisPage]+=1:s[e.variantIDToShowOnThisPage]=1,a({},e,{variant:o.MODAL,isDismissed:!1,numTimesModalTriggered:s,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case r.SHOW_GLOBAL_STICKYBAR:var l=e.numTimesStickybarTriggered;return e.variantIDToShowOnThisPage in l?l[e.variantIDToShowOnThisPage]+=1:l[e.variantIDToShowOnThisPage]=1,a({},e,{variant:o.STICKYBAR,isDismissed:!1,numTimesStickybarTriggered:l,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case r.HIDE_GLOBAL_ALERTS:return a({},e,{isDismissed:!0,variant:o.NONE});case r.GLOBAL_ALERT_VARIATION_DETERMINED:var c=t.payload,d=c.globalAlertType,f=c.globalAlertId;return a({},e,{variantIDToShowOnThisPage:f,variantTypeToShowOnThisPage:d});default:return e}},getAlertVariant:function(e){return e.globalAlerts.variant},getAlertIsDismissed:function(e){return e.globalAlerts.isDismissed},getGlobalAlertAlreadyVisibleThisPage:function(e){return e.globalAlerts.globalAlertAlreadyVisibleThisPage},getGlobalAlertLastDisplayed:function(e){return e.globalAlerts.globalAlertLastDisplayed},getNumTimesModalTriggered:function(e,t){return e.globalAlerts.numTimesModalTriggered[t]||0},getNumTimesStickybarTriggered:function(e,t){return e.globalAlerts.numTimesStickybarTriggered[t]||0},getVariantTypeToShowOnThisPage:function(e){return e.globalAlerts.variantTypeToShowOnThisPage},getVariantIDToShowOnThisPage:function(e){return e.globalAlerts.variantIDToShowOnThisPage}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=s(n(1)),o=s(n(177)),i=s(n(230));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.PAGE_DETECTED:return{centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};case r.CENTER_STAGE_AD_STATUS_DETERMINED:var n=t.payload.calloutType;return a({},e,{isDFPComplete:!0,centerStageVariant:n});case r.GLOBAL_ALERT_VARIATION_DETERMINED:return a({},e,{isGlobalAlertsComplete:!0});case r.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED:return a({},e,{wasOnPageCalloutDeterminationRequested:!0});case r.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED:var s=t.payload,l=s.centerStageVariant,c=s.endOfStoryVariant;return a({},e,{centerStageVariant:l,endOfStoryVariant:c});default:return e}},getCenterStageVariant:function(e){return e.onPageCallouts.centerStageVariant},getEndOfStoryVariant:function(e){return e.onPageCallouts.endOfStoryVariant},getIsDFPComplete:function(e){return e.onPageCallouts.isDFPComplete},getIsGlobalAlertsComplete:function(e){return e.onPageCallouts.isGlobalAlertsComplete},getWasOnPageCalloutDeterminationRequested:function(e){return e.onPageCallouts.wasOnPageCalloutDeterminationRequested}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={isHidden:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.STATE_LOADED:return a({},e,{isHidden:t.payload.state.cardMessage.isHidden});case r.HP_HIDE_STATION_CARD_MESSAGE:return a({},e,{isHidden:!0});default:return e}},getCardMessageIsHidden:function(e){return e.cardMessage.isHidden}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=i(n(1)),o=i(n(19));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={musicStreamsStatus:o.NOT_STARTED,musicStreams:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case r.MUSIC_STREAMS_REQUESTED:return a({},e,{musicStreamsStatus:o.PENDING});case r.MUSIC_STREAMS_REQUEST_SUCCEEDED:return a({},e,{musicStreamsStatus:o.RESOLVED,musicStreams:t.payload});case r.MUSIC_STREAMS_STATUS_RESET:return a({},e,{musicStreamsStatus:o.NOT_STARTED});case r.MUSIC_STREAMS_REQUEST_FAILED:return a({},e,{musicStreamsStatus:o.FAILED});default:return e}},getLocalMusicStreams:function(e){return e.streams.musicStreams.localStreams},getRockMusicStreams:function(e){return e.streams.musicStreams.rockStreams},getFolkMusicStreams:function(e){return e.streams.musicStreams.folkStreams},getClassicalMusicStreams:function(e){return e.streams.musicStreams.classicalStreams},getRbMusicStreams:function(e){return e.streams.musicStreams.rbStreams},getHiphopMusicStreams:function(e){return e.streams.musicStreams.hiphopStreams},getRbHiphopMusicStreams:function(e){return e.streams.musicStreams.rbHiphopStreams},getJazzMusicStreams:function(e){return e.streams.musicStreams.jazzStreams},getMixedMusicStreams:function(e){return e.streams.musicStreams.mixedStreams},getMusicStreamsStatus:function(e){return e.streams.musicStreamsStatus}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(175),s=n(226),u=(a=s)&&a.__esModule?a:{default:a};var l={amountSelection:i.DEFAULT_ONETIME_AMOUNTS[2],billingAddress:"",billingAddressLineTwo:"",cardName:"",cardCode:"",cardExpiration:"",cardNumber:"",city:"",country:"US",donorComment:"",emailAddress:"",firstName:"",isRecurring:!1,lastName:"",state:"",stationSelection:null,zipcode:"",amountSelectionErrorFlag:"",billingAddressErrorFlag:"",cardCodeErrorFlag:"",cardExpirationErrorFlag:"",cardNameErrorFlag:"",cardNumberErrorFlag:"",cityErrorFlag:"",countryErrorFlag:"",donorCommentErrorFlag:"",emailAddressErrorFlag:"",firstNameErrorFlag:"",dedicationFullNameErrorFlag:"",lastNameErrorFlag:"",notificationRecipientFullNameErrorFlag:"",notificationRecipientEmailAddressErrorFlag:"",searchQueryErrorFlag:"",stateErrorFlag:"",stationSelectionErrorFlag:"",topErrorFlag:"",zipcodeErrorFlag:"",chargeId:"",customerId:"",isUserStationLoaded:!1,defaultPaymentSetToBrowserPay:!1,defaultDonationSetToNpr:!1,formVersion:"Version A",dedicationFullName:"",dedicationText:"",initiallyLocalizedTo:null,invoiceId:"",isAllowedToDonateToNpr:!1,isAllowedToDedicate:!1,isDonatingDirectToNpr:!1,isDonatingToNprNetwork:!1,isAllowedToDonateToNprNetwork:!0,isNPRDonationOptionSet:!1,isCheckoutStarted:!1,isEmailInputSelected:!1,isEmailSearchFinished:!1,isNewsletterOptin:!0,isDedication:!1,isNotUnitedStates:!1,isParticipatingStationSelected:!1,isProcessing:!1,isPristine:!0,isRadioButton:!0,isRecommendedStationsLoaded:!1,isSearchFinished:!1,isSearchInputSelected:!1,isSendNotificationGift:!1,isSingleStation:!1,isStationListEmpty:!0,isSubmitSuccessful:!1,isUsingEmail:!1,notificationRecipientFullName:"",notificationRecipientEmailAddress:"",otherAmountValue:"",participatingStations:u.default.stations,paymentIntentId:"",paymentCreatedTimestamp:"",paymentMethod:i.PAYMENT_METHOD.CREDIT_CARD,prevStations:[],prevStationSelection:null,progressBar:0,publishableKey:u.default.publishableKey,searchQuery:"",showStationPickerModal:!1,source:"",stations:[],stripeAccountID:"",whichStripePaymentButtonToShow:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.STATE_LOADED:var n=t.payload.state.donations.paymentCreatedTimestamp;return"number"==typeof n&&(n=n?new Date(1e3*n):null),r({},e,{paymentCreatedTimestamp:n,amountSelection:t.payload.state.donations.amountSelection,isRadioButton:t.payload.state.donations.isRadioButton,otherAmountValue:t.payload.state.donations.otherAmountValue,isRecurring:t.payload.state.donations.isRecurring,source:t.payload.state.donations.source||""});case o.SET_STATE:case o.SET_SOURCE:var a=t.payload.id;return r({},e,a);case o.SET_OTHER_AMOUNT:var s=t.payload,u=s.amountSelection,c=s.isRecurring;return r({},e,{amountSelection:u||"",isRadioButton:!!u,isRecurring:c||!1});case o.RESET_OTHER_AMOUNT:return r({},e,{amountSelection:i.DEFAULT_ONETIME_AMOUNTS[2],isRadioButton:!0});default:return e}},getLastPaymentDate:function(e){return e.donations.paymentCreatedTimestamp}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.USER_PLUS_DATA_LOADED:return a({},e,{email:t.payload.email,isPlusSubscriber:t.payload.isPlusSubscriber,plusOptInDate:t.payload.plusOptInDate,station:t.payload.station,userId:t.payload.userId,sfToken:t.payload.sfToken});case r.LOCALIZATION_RESPONSE_RECEIVED:return a({},e,{submitError:t.payload.submitError});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={email:null,isPlusSubscriber:!1,plusOptInDate:null,station:null,userId:null,submitError:!1,sfToken:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case i.END_OF_STORY_CALLOUT_SEEN:return a({},e,{endOfStoryCalloutSeen:!0});case i.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED:return a({},e,{endOfStoryDonationCalloutMetricsStatus:s.PENDING});case i.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED:return a({},e,{endOfStoryDonationCalloutMetricsStatus:s.RESOLVED});case i.PAGE_DETECTED:return a({},e,{endOfStoryCalloutSeen:!1,endOfStoryDonationCalloutMetricsStatus:s.NOT_STARTED});case i.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST:return a({},e,{uidsInUserQueueLoadingStatus:(0,o.default)([t.payload],e.uidsInUserQueueLoadingStatus)});case i.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST:case i.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST:return a({},e,{uidsInUserQueueLoadingStatus:(0,r.default)(e.uidsInUserQueueLoadingStatus,t.payload)});default:return e}};var r=l(n(139)),o=l(n(660)),i=u(n(1)),s=u(n(19));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var c={endOfStoryCalloutSeen:!1,endOfStoryDonationCalloutMetricsStatus:s.NOT_STARTED,uidsInUserQueueLoadingStatus:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outsideDOM=void 0;var a=s(n(6)),r=(s(n(93)),i(n(1))),o=i(n(22));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var u=!1;t.outsideDOM=function(e){var t=e.getState;return function(e){return function(n){var i=t(),s=e(n),l=t();u||n.type!==r.AUDIO_MODULE_MOUNTED||((0,a.default)("html").addClass("audio-modules-mounted"),u=!0);var c=(0,a.default)("html"),d=(0,a.default)(".player-wrap-inner");return c.toggleClass("has-page-engaged-player",l.player.isEngaged),!1===i.player.isExpanded&&!0===l.player.isExpanded&&l.player.env.breakpoint===o.SMALL?c.addClass("has-page-expanded-player"):!1===i.player.isExpanded&&!1===l.player.isExpanded&&c.removeClass("has-page-expanded-player"),(1===i.sponsorship.numSlotsAvailable&&2===l.sponsorship.numSlotsAvailable||n.type===r.SOUNDSCAPES_LOADED)&&d.toggleClass("is-sponsorship-mode",!0),i.sponsorship.isPlayingSponsorship&&!l.sponsorship.isPlayingSponsorship&&d.toggleClass("is-sponsorship-mode",!1),s}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(24)),r=c(n(1)),o=c(n(229)),i=l(n(7)),s=l(n(47)),u=c(n(45));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){if(l.type===r.COUNTRY_REQUESTED&&(0,i.default)(n(),"player.env.country")===o.PENDING){var c=(new Date).getTime();(0,s.default)(2e4,u.LEGACY_WEB_HOST+"/location/country?"+c).then((function(e){return e.json()})).then((function(e){return t(a.countryDetected(e.country))})).catch((function(){return t(a.countryDetected(o.UNKNOWN))}))}return e(l)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playlistUnwrapper=void 0;var a=c(n(9)),r=l(n(33)),o=l(n(1)),i=n(176),s=c(n(47)),u=c(n(30));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d={},f=function(e){return function(t){var n=t.audioUrl,o=t.uid;o&&n&&(0,i.isPlaylistUrl)(n)&&u.default.isHttps(n)&&(d[o]?e(r.containerUnwrapped(o,d[o])):(0,s.default)(2e4,"/player/playlist-decoder?filename="+encodeURIComponent(n)).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("Playlist decoder endpoint returned an HTTP error response"))})).then((function(t){if(!t)throw new Error("Playlist decoder endpoint returned empty response, which should not happen");u.default.isHttps(t)?(d[o]=t,e(r.containerUnwrapped(o,d[o]))):a.default.warning("Unwrapped insecure stream",t)})).catch((function(o){a.default.error(o,{audioUrl:n}),e(r.metadataInvalidated(t,{reason:"Audio temporarily unavailable"}))})))}},p=t.playlistUnwrapper=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var r=e(a);if(a.type===o.METADATA_LOADED&&f(t)(a.payload),a.type===o.STATE_LOADED){var i=n().metadata;for(var s in i){var u=i[s];u&&f(t)(u)}}return r}}};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nowOnStreams=void 0;var a=c(n(7)),r=c(n(9)),o=l(n(1)),i=l(n(33)),s=l(n(15)),u=c(n(47));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d={},f=void 0,p=t.nowOnStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){f=t;var r=e(a);if(a.type===o.NOW_ON_STREAMS_REGISTRATION_REQUESTED){var i=a.payload.uid;if(!i||d[i])return r;var s=a.payload,u=h.bind(s);d[i]={stream:s,interval:setInterval(u,m(s))},u()}if(a.type===o.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED){var l=n().nowOnStreams,c=a.payload.uid;!l.hasOwnProperty(c)&&d.hasOwnProperty(c)&&(clearInterval(d[c].interval),delete d[c])}return r}}};function h(){var e,t;switch(this.subtype){case s.STREAM_STATION:e=this.uid,t="/proxy/stationasset/v3/streams/{{streamGuid}}/programs/now".replace("{{streamGuid}}",e),(0,u.default)(2e4,t).then((function(e){return e.json()})).then((function(t){var n=(0,a.default)(t,"items[0].attributes.name");if(!n)throw new Error("Now playing information from proxy to the Stations API was empty or malformed");!function(e,t){f(i.nowPlayingLoaded(e,t))}(e,n)})).catch((function(t){return r.default.info(t.message,{uid:e})}))}}function m(e){return 6e4}t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=void 0;var a=E(n(90)),r=E(n(93)),o=E(n(134)),i=_(n(1)),s=_(n(15)),u=_(n(104)),l=_(n(24)),c=_(n(150)),d=_(n(152)),f=_(n(178)),p=n(89),h=n(92),m=E(n(46)),g=n(25),y=n(138),v=E(n(186));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var S=[i.AUDIO_COMPLETE,i.SKIP,i.SPONSORSHIP_INTERRUPTED],b=[i.AUDIO_ERROR,i.METADATA_INVALIDATED,i.AUDIO_EXPIRED];var O=t.queue=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){var _,E,O,T,P=n(),A=e(i),w=n(),I=(0,g.getCurrentPane)(w);if(E=i.type,O=i.payload,T=w.player.currentUid,(0,r.default)(S,E)||(O&&T===O.uid||!T)&&(0,r.default)(b,E)){var D=w.sponsorship.preemptedUid,N=P.sponsorship.isPostrollSponsorship,C=P.sponsorship.isPlayingSponsorship;if(D){var R=w.metadata[D],M=P.sponsorship.preemptedSegmentResumePosition||0,L=void 0;return L=N?d.postrollEnded:d.prerollEnded,t(L(R)),t(l.audioRequested(R,{},M)),A}if(I===u.NEWSCAST&&!C){if(!(0,g.shouldEnableContinuousListening)(w))return A;t(c.paneChangeRequested(u.ON_DEMAND))}if((0,a.default)((0,g.getUserQueue)(w)))if((0,r.default)(b,i.type))t(l.initialStateReverted());else if((0,a.default)((0,g.getContinuousQueue)(w)))(0,y.isWithinLimitedContinuityPeriod)((0,g.getContinuousTriggerTimestamp)(w),v.default.getTimestamp())||!(0,g.shouldEnableContinuousListening)(w)||(_=w,m.default.isMobileNativeApp((0,h.getRenderPlatform)(_))||(0,p.isSmallBreakpoint)(_))||!function(e){return!(!e||(0,a.default)(e)||!e.uid)&&(!(!e.subtype||!e.subtype.includes("newscast"))||(!e.audioUrl||!e.audioUrl.includes("podcast")&&!e.audioUrl.includes("podtrac"))&&(!e.song&&!e.artist&&e.type!==s.SPONSORSHIP))}(i.payload)?(0,r.default)(b,i.type)&&t(l.initialStateReverted()):t(f.listeningServiceAudioRecommendationsRequested(!0));else{var j=(0,o.default)((0,g.getContinuousQueue)(w));t(l.playPauseRequested(w.metadata[j],{playedFrom:"from autoplay queue"}))}else{var k=(0,o.default)((0,g.getUserQueue)(w));t(l.playPauseRequested(w.metadata[k],{playedFrom:"from queue"}))}}return A}}};t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0;var a=s(n(24)),r=s(n(1)),o=s(n(231)),i=n(25);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=t.history=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(s){n();var u=e(s),l=n();if(s.type===r.PREVIOUS_AUDIO_PLAY_REQUESTED){var c=l.metadata,d=(0,i.getPlayerHistory)(l)[(0,i.getCurrentPlayerHistoryHeadPosition)(l)];d&&(t(a.playPauseRequested(c[d],{playedFrom:"from history"})),t(o.incrementAudioHistoryHead()))}return u}}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggLoader=void 0;var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a},i=l(n(610)),s=l(n(1)),u=n(185);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c={};t.aggLoader=function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===s.AGG_REQUESTED){var a=n.payload;c[a]?t(i.aggLoaded(a,c[a])):(0,u.getMetadataForAgg)(a).then((function(e){c[a]=e,t(i.aggLoaded(a,c[a]))})).catch((function(e){return o.default.info(e,{aggId:a})}))}return e(n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggRequested=function(e){return{type:a.AGG_REQUESTED,payload:e}},t.aggLoaded=function(e,t){return{type:a.AGG_LOADED,payload:{aggId:e,segments:t}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscast=void 0;var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a},i=c(n(33)),s=c(n(1)),u=n(76),l=n(25);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=t.newscast=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){if(a.type===s.NEWSCAST_REQUESTED){var r=a.payload.orgId;(0,u.getNewscastForOrg)(r).then((function(e){t(i.metadataLoaded(e))})).catch((function(e){return o.default.info(e,{orgId:r})}))}var c=e(a),d=n();a.type===s.STATE_LOADED&&[d.player.currentUid].concat((0,l.getConstructedQueue)(d)).map((function(e){if(e&&(0,u.isNewscastUid)(e)){var n=(0,u.getOrgIdFromNewscastUid)(e);(0,u.getNewscastForOrg)(n).then((function(e){t(i.metadataLoaded(e))})).catch((function(e){return o.default.info(e,{orgId:n})}))}}));return c}}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.continuousListening=void 0;var a=y(n(134)),r=y(n(661)),o=g(n(1)),i=g(n(37)),s=g(n(24)),u=g(n(33)),l=g(n(178)),c=g(n(136)),d=n(185),f=(n(89),n(92),n(25)),p=g(n(128)),h=n(76),m=(y(n(186)),n(138),y(n(46)),y(n(9)));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))}}var _,E,S,b=(_=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.getMetadata)(c.INTRO_AUDIO_UID);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),m.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(){return _.apply(this,arguments)}),O=(E=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.getNewscastForOrg)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),t===i.NPR&&m.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return E.apply(this,arguments)}),T=(S=v(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.getChannelRecommendationsUrl)("cleplayer"),e.prev=1,e.next=4,(0,d.getMetadataFromRemote)(t);case 4:if(!(n=e.sent)||!n.items){e.next=7;break}return e.abrupt("return",n.items.map(d.mapItemToMetadata));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m.default.error(e.t0);case 12:return m.default.info("No audio recommendations returned for "+t),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,void 0,[[1,9]])}))),function(){return S.apply(this,arguments)});var P=t.continuousListening=function(e){var t=e.dispatch,n=e.getState;return function(e){return c=v(regeneratorRuntime.mark((function c(d){var h,m,g,y,v,_,E,S,P,A,w,I,D,N,C,R,M,L,j,k;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n(),h=e(d),m=n(),d.type!==o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED){c.next=28;break}if(g=m.user,y=m.player,v=d.payload.shouldPlayIntroAudio,_=(0,f.getPlayerHistory)(m),E=[],y.abTestRemoveNewscast){c.next=19;break}return c.next=11,O(i.NPR);case 11:if((S=c.sent)&&((0,r.default)(_,2).includes(S.uid)||(t(u.metadataLoaded(S)),E.push(S.uid))),!(P=g.org.id)||i.NPR===P){c.next=19;break}return c.next=17,O(P);case 17:(A=c.sent)&&((0,r.default)(_,2).includes(A.uid)||(t(u.metadataLoaded(A)),E.push(A.uid)));case 19:return c.next=21,T();case 21:w=c.sent,t(u.metadatasLoaded(w)),I=w.map((function(e){return e.uid})),D=(0,f.getUserQueue)(m),N=I.filter((function(e){return!_.includes(e)&&!D.includes(e)})).slice(0,10),E=E.concat(N),t(l.listeningServiceAudioRecommendationsSucceeded(E,v));case 28:if(d.type!==o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED){c.next=36;break}return C=m.metadata,R=d.payload,M=R.audioMetadataList,L=R.shouldPlayIntroAudio,t(l.addRecommendedAudioToContinuousQueue(M,p.PLAYER)),c.next=34,b();case 34:(j=c.sent)&&L?(t(u.metadataLoaded(j)),t(s.playPauseRequested(j,{playedFrom:"from autoplay queue"}))):(k=(0,a.default)(M),t(s.playPauseRequested(C[k],{playedFrom:"from autoplay queue"})));case 36:return c.abrupt("return",h);case 37:case"end":return c.stop()}}),c,void 0)}))),function(e){return c.apply(this,arguments)};var c}};t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=m(n(134)),o=h(n(1)),i=m(n(46)),s=h(n(33)),u=h(n(337)),l=n(89),c=n(92),d=n(614),f=n(185),p=m(n(9));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))}}var y,v,_=(y=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.getMetadata)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),p.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return y.apply(this,arguments)}),E=(v=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.getMetadataForAgg)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),p.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return v.apply(this,arguments)}),S=t.initialize=function(e){var t=e.dispatch,n=e.getState;return function(e){return f=g(regeneratorRuntime.mark((function f(p){var h,m,g,y,v,S,b,O,T,P,A,w,I,D,N,C,R;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(p.type!==o.INITIALIZE_FEATURED_AUDIO_REQUESTED){f.next=15;break}return h=p.payload,m=h.featuredAudioProgramUid,g=h.featuredAudioText,y=h.featuredAudioImage,f.next=4,E(m);case 4:return v=f.sent,S=(0,r.default)(v),b=S.uid,O=new Date(S.date).toLocaleString("en-US",{timeZone:"America/New_York"}),(T=new Date).setHours(T.getHours()-12),T=T.toLocaleString("en-US",{timeZone:"America/New_York"}),f.next=13,_(b);case 13:(P=f.sent)&&O>T&&(A=[P],t(s.metadatasLoaded(A)),t(u.initializeFeaturedAudioSucceded(m,b,g,y)));case 15:return p.type===o.SESSION_LOADED&&(w=n(),(0,d.isWithinUpFirstPeriod)()&&(0,l.isMobileDevice)(w)&&!i.default.isMobileNativeApp((0,c.getRenderPlatform)(w))&&(I=(0,d.getHardcodedProgramInfoUpFirst)(),D=a(I,3),N=D[0],C=D[1],R=D[2],t(u.initializeFeaturedAudioRequested(N,C,R)))),f.abrupt("return",e(p));case 18:case"end":return f.stop()}}),f,void 0)}))),function(e){return f.apply(this,arguments)};var f}};t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(new Date).setHours(6,15,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),r=(new Date).setHours(11,0,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),o=["510318","Today's Top Headlines In","https://media.npr.org/assets/img/2019/11/06/up-first-tile-npr-new_sq-42960829020267d0cf351b10ca4b3bb824b96ab6.jpg?s=100"];t.isWithinUpFirstPeriod=function(){var e=(new Date).getTime().toLocaleString("en-US",{timeZone:"America/New_York"}),t=0!==new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})).getDay();return e>=a&&e<=r&&t},t.getHardcodedProgramInfoUpFirst=function(){return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateCorrection=void 0;var a=d(n(7)),r=d(n(139)),o=c(n(1)),i=c(n(231)),s=c(n(33)),u=c(n(136)),l=n(25);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=t.stateCorrection=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(c){n();var d=e(c),f=n();if(c.type===o.INITIAL_STATE_CORRECTION){var p=f.metadata,h=function(e){var t=e.user,n=e.player,r=e.sponsorship,o=e.aggs,i=e.metadata,s=[],c=function(e){return e&&s.push(e)},d=(0,a.default)(t,"org.id");if(d)for(var f in i){var p=i[f];p.orgId===d&&c(p.uid)}for(var h in c(n.currentUid),c(r.preemptedUid),o)o.hasOwnProperty(h)&&o[h].map(c);return(0,l.getConstructedQueue)(e).map(c),(0,l.getPlayerHistory)(e).map(c),s.push(u.STREAM_24_HOUR_PROGRAM_UID),s}(f),m=r.default.apply(void 0,[Object.keys(p)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(h)));t(s.metadatasUnloaded(m));var g=function(e){var t=e.metadata;return(0,l.getPlayerHistory)(e).filter((function(e){return!Object.keys(t).includes(e)}))}(f);t(i.historyItemsUnloaded(g))}return d}}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.persistentState=t.STORAGE_KEY=void 0;var a=c(n(9)),r=l(n(1)),o=l(n(617)),i=(l(n(66)),c(n(46))),s=l(n(38)),u=c(n(186));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;d=n(351).default;var f=t.STORAGE_KEY="PLAYER_STATE",p=!1,h=void 0;var m=t.persistentState=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){p||(p=!0,(h=d.isSupported())&&function(e){try{var t=d.get(f),n=JSON.parse(t);n&&e(o.stateLoaded(n,n.time.now,u.default.getTimestamp()))}catch(e){a.default.info(e.message)}try{var r=i.default.getSessionInfo(),s=r.source,l=r.medium,c=r.content,p=r.campaign,h=r.term,m=r.renderPlatform,g=r.userId,y=r.orgId,v=r.preventAutoLocalization;e(o.sessionLoaded(s,l,c,p,h,m,g,y,v))}catch(e){a.default.info(e.message)}}(t),t(o.stateDetectionCompleted()));var c=e(l);if(h){var m=void 0;switch(l.type){case r.TIMER:break;default:var g=JSON.parse(JSON.stringify(n()));s.hasConsentedTo(s.FUNCTIONAL)||(delete g.user.org,delete g.site.ecosystem,delete g.sponsorship.preemptedUid,delete g.sponsorship.preemptedSegmentResumePosition,delete g.sponsorship.numSlotsAvailable,delete g.sponsorship.isMobileSponsorshipSlotAvailable,delete g.sponsorship.sponsorshipDiv,delete g.sponsorship.leaveBehindDiv,delete g.sponsorship.mobileSponsorshipDiv,delete g.sponsorship.isFetchingSponsorship,delete g.sponsorship.isPlayingSponsorship,delete g.sponsorship.isPostrollSponsorship,delete g.sponsorship.playPostrollBeforeUid,delete g.sponsorship.primaryThemeColor,delete g.sponsorship.secondaryThemeColor,delete g.sponsorship.loadCustomAdBackground,g.sponsorship.lastPlayedTimestamp=0,g.sponsorship.videoLastPlayedTimestamp=0),s.hasConsentedTo(s.PERFORMANCE_AND_ANALYTICS)||(delete g.session.source,delete g.session.medium,delete g.session.content,delete g.session.campaign,delete g.session.term),s.hasConsentedTo(s.TARGETING_AND_SPONSOR)||(delete g.session.userId,delete g.session.orgId,delete g.sponsorship.channel),m=JSON.stringify(g),d.set(f,m)}}return c}}};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateLoaded=function(e,t,n){return{type:a.STATE_LOADED,payload:{state:e,stateTime:t,currentTime:n}}},t.stateDetectionCompleted=function(){return{type:a.STATE_DETECTION_COMPLETED}},t.sessionLoaded=function(e,t,n,r,o,i,s,u,l){return{type:a.SESSION_LOADED,payload:{source:e,medium:t,content:n,campaign:r,term:o,renderPlatform:i,userId:s,orgId:u,preventAutoLocalization:l}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";function a(e){this.name="NotSupportedError",this.message=e||"Operation not supported",this.stack=(new Error).stack}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.metrics=function(e){return function(t){var n=t.getState;return function(t){return function(a){var r=n(),o=t(a),i=n();return e(a.type,a.payload,a.meta,r,i),o}}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMetrics=void 0;var a=c(n(54)),r=l(n(1)),o=l(n(19)),i=c(n(7)),s=c(n(36)),u=n(232);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=t.globalMetrics=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){var l=t(),c=e(n),d=t(),f=(0,s.default)();if(n.type===r.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED){var p,h="",m="NPR",g=[];if(0!=(p=(0,i.default)(l,"user.org.id")))m=(0,i.default)(l,"org."+p+".callLetters");else for(var y=Object.keys((0,i.default)(l,"org")),v=0;v<y.length;v++)g.push((0,i.default)(l,"org."+y[v]+".callLetters"));h=0===p?"not localized - "+g.toString():m,document.querySelector("#callout-end-of-story-mount .donation-portal-endofstory")?(a.default.trackEvent({category:"end of story unit",action:"view embeded unit",label:h,noninteraction:!0}),f.dispatch((0,u.endOfStoryDonationCalloutMetricsResolved)())):document.querySelector("#callout-end-of-story-mount .callout--donation")&&(a.default.trackEvent({category:"end of story unit",action:"view unit",label:h,noninteraction:!0}),f.dispatch((0,u.endOfStoryDonationCalloutMetricsResolved)()))}else(0,i.default)(d,"localStations.requestStatus")===o.RESOLVED&&(0,i.default)(d,"user.org.status")===o.RESOLVED&&(0,i.default)(d,"userInteractions.endOfStoryCalloutSeen")&&(0,i.default)(d,"userInteractions.endOfStoryDonationCalloutMetricsStatus")===o.NOT_STARTED&&f.dispatch((0,u.endOfStoryDonationCalloutMetricsRequested)());return c}}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(7)),r=s(n(154)),o=s(n(36)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){try{return void 0!==e?e.join(","):e}catch(e){return}}var l=function(){this.storyId=null,this.storyTitle=null,this.topicIds=null,this.primaryTopic=null,this.theme=null,this.programId=null,this.aggIds=null,this.tagIds=null,this.byline=null,this.contentPartnerOrg=null,this.publisherOrgId=null,this.pubDate=null,this.pageTypeId=null,this.distributedContentPartner=null,this.homePageMetrics=null,this.isLocalStationStory=null,this.localizedStation=null,this.favoriteStation=null,this.localizedStationId=null,this.userData=null,this.isRegistered=null,this.isLoggedIn=null};l.prototype.loadNprServerVarData=function(){if(void 0!==window.NPR.serverVars){var e=window.NPR.serverVars;this.storyId=e.storyId,this.storyTitle=e.title,this.topicIds=u(e.topicIds),this.primaryTopic=e.primaryTopic,this.theme=e.theme,this.programId=e.programId,this.aggIds=u(e.aggIds),this.tagIds=u(e.tagIds),this.byline=u(function(e){if(void 0!==e)return e.map((function(e){var t=e.indexOf(",");return e.substring(0,-1!==t?t:e.length)}))}(e.byline)),this.contentPartnerOrg=e.contentPartnerOrg,this.publisherOrgId=e.publisherOrgId,this.pubDate=e.pubDate,this.pageTypeId=e.pageTypeId,this.homePageMetrics=e.homePageMetrics,this.isLocalStationStory=e.isLocalStationStory}},l.prototype.loadUserData=function(){this.isLoggedIn=!0===(new r.default).getIsLoggedIn()?"true":null,this.isRegistered=this.isLoggedIn},l.prototype.createLocalStationInformationSetter=function(e,t){return function(){var n=(0,o.default)().getState(),r=(0,a.default)(n,"user.org.status"),s=(0,a.default)(n,"localStations.requestStatus"),u=t,l=(0,a.default)(n,"user.org.id"),c=(0,a.default)(n,"org"),d=(0,a.default)(c,""+l),f=(0,a.default)(n,"user.org.isAutoLocalized");if(r===i.FAILED)u.localizedStation="notlocalized",u.favoriteStation="no favorite set",u.localizedStationId="notlocalized",e(u);else if(r===i.RESOLVED&&d){var p=(0,a.default)(d,"callLetters");u.localizedStation=p,u.favoriteStation=f?"no favorite set - "+p:p,u.localizedStationId=l,e(u)}else if(r===i.RESOLVED&&!d){if((0,a.default)(n,"localStations.localizationInfo")){var h=(0,a.default)(n,"localStations.localizationInfo.pulseCityConf"),m=(0,a.default)(n,"localStations.localizationInfo.pulsePostalConf");u.localizationConfidenceInterval=h+","+m}if(s===i.RESOLVED){var g=(0,a.default)(n,"localStations.stations");if(g&&Array.isArray(g)&&g.length){var y=g.join(","),v=g.map((function(e){return(0,a.default)(c,""+e)})).map((function(e){return(0,a.default)(e,"callLetters")})).join(",");u.localizedStation="notlocalized",u.favoriteStation="no favorite set - "+v,u.localizedStationId="no favorite set - "+y,e(u)}else u.localizedStation="notlocalized",u.favoriteStation="no favorite set",u.localizedStationId="notlocalized",e(u)}else s===i.FAILED&&(u.localizedStation="notlocalized",u.favoriteStation="no favorite set",u.localizedStationId="no favorite set",e(u))}}},l.prototype.loadPageviewData=function(){var e=this;return this.loadNprServerVarData(),this.loadUserData(),new Promise((function(t){var n=void 0;new Promise((function(t){n=(0,o.default)().subscribe(e.createLocalStationInformationSetter(t,e))})).then((function(){n(),t(e)}))}))},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9)),r=o(n(228));function o(e){return e&&e.__esModule?e:{default:e}}var i=void 0;function s(e){var t;t='{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}';var n=JSON.parse(t);for(var a in n)n.hasOwnProperty(a)&&"e"!==a&&(n[a]=n[a].replace(/\+/g," "));return n}t.default={getAuthCookieData:function(){return function(){var e=void 0;try{null!=(e=r.default.get("at"))?i=s(e):(e=r.default.get("npr-session"),i=null!=e?s(e):void 0)}catch(e){a.default.error(e)}}(),i},getStationCookieData:function(){var e=r.default.get("st");return e&&e.length?e.split(","):null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(154),o=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));var s={init:function(){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&(!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://www.google-analytics.com/analytics.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",NPR.ServerConstants.googleAnalyticsAccount,"auto",{allowLinker:!0}),ga("require","linkid"))},setCustomDimensions:function(e){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("set",e)},eventDefault:function(e,t,n,a,r){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&(ga("set","page",window.location.pathname),ga("send","event",e,t,n,a,{nonInteraction:!!r}))},eventSocial:function(e,t,n,a){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("send","social",e,t,n,{page:a})},trackPageview:function(e){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&(ga("set","location",window.location.href),ga("set","&uid",(new o.default).getUserId()),ga("send","pageview",e))},eventWithCustomMetric:function(e,t,n,a,r,o){if(i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)){var s=o;void 0!==r&&(s.nonInteraction=!!r),ga("set","page",window.location.pathname),ga("send","event",e,t,n,a,s)}},requireEcommerce:function(){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("require","ecommerce")},ecommerceAddTransaction:function(e){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("ecommerce:addTransaction",e)},ecommerceAddItem:function(e){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("ecommerce:addItem",e)},ecommerceSend:function(){i.hasConsentedTo(i.PERFORMANCE_AND_ANALYTICS)&&ga("ecommerce:send")}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(352),o=(a=r)&&a.__esModule?a:{default:a};var i={dimensions:{},formatDimensions:function(e){var t={};return Object.keys(e).filter((function(t){return e[t]})).forEach((function(n){var a=""+parseInt(n.replace("dimension",""),10);t[a]=e[n]})),t},init:function(){},setCustomDimensions:function(e){i.dimensions=i.formatDimensions(e)},eventDefault:function(e,t,n,a){o.default.sendBridgeObject(o.default.Names.gaEvent,{category:e,action:t,label:n,value:a,dimensions:i.dimensions})},eventSocial:function(e,t,n,a){},trackPageview:function(){var e="N/A";if(void 0!==window.NPR.serverVars){var t=window.NPR.serverVars;t.storyId&&t.title&&(e=t.storyId+" / "+t.title)}o.default.sendBridgeObject(o.default.Names.gaScreen,{screenName:e,dimensions:i.dimensions})},eventWithCustomMetric:function(e,t,n,a,r,s){var u=i.formatDimensions(s);o.default.sendBridgeObject(o.default.Names.gaEvent,{category:e,action:t,label:n,value:a,dimensions:u})},requireEcommerce:function(){},ecommerceAddTransaction:function(e){},ecommerceAddItem:function(e){},ecommerceSend:function(){}};t.default=i},function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.replace(",",""):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getAuthors:function(){return void 0!==NPR.serverVars.byline&&null!==NPR.serverVars.byline&&NPR.serverVars.byline.constructor===Array?NPR.serverVars.byline.map(a).join(","):""},getSections:function(){var e=[];return void 0!==NPR.serverVars.topics&&null!==NPR.serverVars.topics&&(e=e.concat(NPR.serverVars.topics)),void 0!==NPR.serverVars.programId&&null!==NPR.serverVars.programId&&e.push(NPR.serverVars.programId),void 0!==NPR.serverVars.blog&&null!==NPR.serverVars.blog&&(e=e.concat(NPR.serverVars.blog)),void 0!==NPR.serverVars.exposedCollections&&null!==NPR.serverVars.exposedCollections&&(e=e.concat(NPR.serverVars.exposedCollections)),e?e.map(a).join(","):""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userLoader=void 0;var a=h(n(7)),r=p(n(1)),o=p(n(37)),i=p(n(66)),s=p(n(338)),u=h(n(91)),l=h(n(218)),c=h(n(9)),d=h(n(6)),f=p(n(38));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var m=l.default.isUserLoggedIn,g=l.default.doesUserHavePreHTTPSLogin,y=l.default.refreshThenGetUserFromIdentity,v=l.default.getUserFromIdentity,_=l.default.performAdditionalLogoutProcesses,E=l.default.dispatchOauthRefreshSuccess,S=l.default.dispatchOauthRefreshFailure,b=l.default.isValidUserStation,O=l.default.setStationsForUser,T=function(e){u.default.getForcedLocalizationStationId().then((function(t){return e(i.stationChangeRequested(t))})).catch((function(){e(i.defaultOrgResolved())}))};function P(e,t,n){var r=l.default.getAccessTokenFromCookieCredentials();r?e(i.accessTokenReceived(r,n)):m(t)||g()?e(i.userViewLoadRequested()):(e(i.userLogoutRequested()),function(e){var t=(0,a.default)(e,"org.id");return Boolean(b(t))}(t)||T(e)),function(e){(0,d.default)(document).on("npr:userViewLoadRequested",(function(){e(i.userViewLoadRequested())}))}(e)}t.userLoader=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(u){var d=e(u);if(u.type===r.STATE_DETECTION_COMPLETED){var p=n(),h=(0,a.default)(p,"user"),A=(0,a.default)(p,"time.now");P(t,h,A)}if(u.type===r.USER_VIEW_LOAD_FAILED&&t(i.userLogoutRequested()),u.type===r.USER_VIEW_LOAD_REQUESTED){var w=n(),I=(0,a.default)(w,"user"),D=(0,a.default)(I,"oauth.token"),N=(0,a.default)(I,"org.id"),C=(0,a.default)(w,"time.now");if(m(I)||g()){(m(I)?v(D,E(i)(t)(C),S(i)(t)):y(E(i)(t)(C),S(i)(t))).then((function(e){var n=(0,a.default)(e,"attributes.organizations[0].id");n&&(n=parseInt(n,10)),t(i.userViewLoadCompleted(e)),b(n)?t(i.stationChangeCompleted(n)):b(N)?t(i.stationChangeRequested(N)):T(t)})).catch((function(){t(i.userViewLoadFailed()),T(t)}))}}if(u.type===r.ACCESS_TOKEN_RECEIVED&&t(i.userViewLoadRequested()),u.type===r.USER_LOGOUT_REQUESTED&&_().then((function(){t(i.userLogoutCompleted())})).catch((function(){t(i.userLogoutCompleted())})),u.type===r.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED){var R=u.payload,M=R.email,L=R.url,j=R.newsletterId,k=R.formData,U=R.orgId,x="";if(k&&(U==o.WBEZ||U==o.WBEZ_STATION)){var F=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(k));x=F[3][1]}fetch(L,{method:"POST",body:k}).then((function(){return t(i.newsletterExternalAcquisitionCompleted(M,j,x))})).catch((function(){return t(i.newsletterExternalAcquisitionFailed(M,j,x))}))}if(u.type===r.NEWSLETTER_ACQUISITION_REQUESTED){var B=u.payload,G=B.email,H=B.newsletterId,V=n(),W=(0,a.default)(V,"user"),q=(0,a.default)(W,"oauth.token"),Y=(0,a.default)(W,"org.id"),z=(0,a.default)(V,"time.now"),Q=(0,a.default)(W,"view.data.attributes.email");m(W)?l.default.setSubscriptionForUser(q,H,E(i)(t)(z),S(i)(t)).then((function(){return t(i.newsletterAcquisitionCompleted(Q,H))})).catch((function(){return t(i.newsletterAcquisitionFailed(Q,H))})):l.default.webSubscribeUser(G,null,H,Y).then((function(){return t(i.newsletterAcquisitionCompleted(G,H))})).catch((function(){return t(i.newsletterAcquisitionFailed(G,H))}))}if(u.type===r.NEWSLETTER_ACQUISITION_COMPLETED||u.type===r.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED){var K=n(),X=(0,a.default)(K,"user");m(X)&&t(i.userViewLoadRequested())}if(u.type===r.STATION_CHANGE_REQUESTED){var J=(0,a.default)(n(),"user.oauth.token"),Z=u.payload.id;m(n().user)?O(J,[Z],E(i)(t)(n().time.now),S(i)(t)).then((function(){t(i.userViewLoadRequested())})).catch((function(e){c.default.info(e,{token:J,orgId:Z}),t(i.stationChangeCompleted(Z))})):t(i.stationChangeCompleted(Z))}if(u.type===r.SESSION_LOADED){var $=u.payload.userId,ee=u.payload.orgId,te=(0,a.default)(n(),"user.org.id");if($&&!ee&&te&&f.hasConsentedTo(f.TARGETING_AND_SPONSOR)&&l.default.webSubscribeUser(null,$,null,te).catch((function(e){return c.default.error(e)})),NPR.serverVars.sfUserEmail){var ne=NPR.serverVars,ae=ne.sfUserEmail,re=ne.isPlusSubscriber,oe=ne.plusOptInDate,ie=ne.stations,se=ne.userId,ue=ne.sfToken,le={email:ae,isPlusSubscriber:re,plusOptInDate:oe,station:ie[0],userId:parseInt(se,10),sfToken:ue};t(s.plusDataLoaded(le))}}return d}}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stations=t.getCurrentProgramId=t.loadStationData=t.transformStationData=void 0,t.loadLocalStations=V,t.reloadStationStreamMetadataByOrg=W,t.loadNonLocalStation=q,t.init=Y,t.isRequestingStationStream=z;var a=D(n(6)),r=D(n(7)),o=D(n(139)),i=D(n(90)),s=D(n(236)),u=D(n(565)),l=I(n(33)),c=I(n(24)),d=I(n(567)),f=I(n(66)),p=D(n(332)),h=D(n(356)),m=I(n(1)),g=I(n(19)),y=I(n(37)),v=D(n(350)),_=I(n(15)),E=I(n(136)),S=I(n(132)),b=I(n(180)),O=D(n(91)),T=n(92),P=D(n(9)),A=D(n(46)),w=I(n(38));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}var N=O.default.getNonLocalStationData,C=O.default.getLocalStationData,R=O.default.getProgramScheduleHTML,M=O.default.getStationSearchResults,L=O.default.getStation,j=O.default.mapStationDataList,k=!1,U=!1,x=!1,F=[m.ECOSYSTEM_DETECTED,m.GET_LOCAL_STATIONS_SUCCEEDED,m.PRE_EXISTING_LOCAL_STATIONS_DETECTED],B=!1,G=t.transformStationData=function(e){return Object.assign({},e,{streams:e.streams.map((function(e){return e.uid}))})},H=t.loadStationData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.streams.map((function(n){n&&!t.includes(n.uid)&&e(l.metadataLoaded(n))}));var a=G(n);e(u.default.stationDataLoaded(a))}};function V(e){C().then((function(t){return t.stationData=t.stationData.filter((function(e){return"Exclude everywhere"!==e.localizationEligibility})),t.stationData.map((function(t){H(e)(t)})),e(u.default.getLocalStationsSucceeded(t)),t})).catch((function(t){e(u.default.getLocalStationsFailed()),P.default.info(t)}))}function W(e,t){(0,r.default)(t,"localStations.stations",[]).map((function(n){q(e,n,t)}))}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!a){var o=(0,r.default)(n,"org."+t);if(o&&o.lastUpdated&&"string"==typeof o.lastUpdated&&Date.now()-Date.parse(o.lastUpdated)<4*v.default.ONE_HOUR)return Promise.resolve(o)}var i=(0,r.default)(n,"player.currentUid");return N(t).then((function(t){return H(e,[i])(t),t})).catch((function(e){P.default.info(e,{orgId:t})}))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(l.metadataLoaded(E.STREAM_24_HOUR_PROGRAM_METADATA));var n=(0,r.default)(t,"localStations.stations",[]),a=(0,s.default)().unix(),o=(0,r.default)(t,"localStations.expires",a)<=a,d=A.default.getSessionInfo(),f=A.default.isMobileNativeApp(d.renderPlatform);!(0,i.default)(n)&&!o||f?f&&e(u.default.getLocalStationsSkipped()):e(u.default.getLocalStationsRequested());var p=(0,r.default)(t,"user.org.id");p&&L(p).then((function(t){H(e,j(t))})).catch((function(e){return P.default.info(e,{orgId:p})}));var h=O.default.getStreamStationId();h&&(h===y.NPR?e(c.addStreamToStageRequested(E.STREAM_24_HOUR_PROGRAM_METADATA)):q(e,h).then((function(t){var n=t.streams.find((function(e){return e.primary}));n&&e(c.addStreamToStageRequested(n))})).catch((function(e){P.default.info(e,h)})))}function z(e,t){return e===m.AUDIO_REQUESTED&&t&&t.type===_.STREAM&&t.subtype===_.STREAM_STATION}var Q=t.getCurrentProgramId=function(){var e=(0,a.default)("body").hasClass("program"),t="undefined"!=typeof NPR?(0,r.default)(NPR,"serverVars.program"):null;return e?t:null},K=t.stations=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){if(!k&&l.type===m.STATE_DETECTION_COMPLETED){var c=(0,r.default)(n(),"localStations.stations"),v=(0,s.default)().unix(),_=(0,r.default)(n(),"localStations.expires",v)<=v;!(0,i.default)(c)&&!_&&(W(t,n()),t(u.default.preExistingLocalStationsDetected())),Y(t,n()),k=!0}z(l.type,l.payload)&&l.payload.orgId!==y.NPR&&q(t,l.payload.orgId,n()),l.type===m.GET_LOCAL_STATIONS_REQUESTED&&V(t);var E=e(l);if(l.type===m.ECOSYSTEM_DETECTED&&(F=(0,o.default)(F,m.ECOSYSTEM_DETECTED)),l.type===m.GET_LOCAL_STATIONS_SUCCEEDED||l.type===m.PRE_EXISTING_LOCAL_STATIONS_DETECTED){var O=(0,r.default)(n(),"localStations.stations");F=(0,o.default)(F,m.GET_LOCAL_STATIONS_SUCCEEDED,m.PRE_EXISTING_LOCAL_STATIONS_DETECTED),U&&(0,r.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&(O.map((function(e){return t(h.default.hpLocalStoriesRequested(e))})),U=!1)}if(l.type===m.STATION_CHANGE_COMPLETED){var A=(0,r.default)(l.payload,"id");A&&A!==y.NPR&&(q(t,A,n()),(0,r.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&x&&(t(h.default.hpLocalStoriesRequested(A)),x=!1)),(0,a.default)(document).trigger("npr:refreshMetrics")}if(l.type===m.STATE_LOADED){var I=(0,r.default)(n(),"user.org.id");I&&q(t,I,n(),!0)}if(l.type===m.PROGRAM_SCHEDULE_REQUESTED||l.type===m.STATION_DATA_LOADED){var D=(0,r.default)(n(),"user.org.id");if(D){var N=Q();N&&R(D,N).then((function(e){var n=JSON.parse(JSON.stringify(e));t(d.programScheduleLoaded({orgId:D,programId:N,programSchedule:n.schedules,programTitle:n.title}))})).catch((function(e){}))}}if(l.type===m.STATION_SEARCH_REQUESTED){var C=l.payload.term,L=(0,r.default)(n(),"player.currentUid");M(C).then((function(e){e.map(H(t,[L]));var n=e.map((function(e){return e.id}));t(p.default.stationSearchResultsLoaded(C,n))})).catch((function(e){t(p.default.stationSearchFailed()),P.default.info(e,{term:C})}))}if(l.type===m.STATION_NETWORK_LOOKUP_REQUESTED){var j=n(),G=l.payload,K=G.stationId,X=G.subtype,J=(0,r.default)(j,"org."+K);if(J){var Z=(0,r.default)(J,"otherStationsInNetwork")||[];if(Z.length){var $=[];Z.forEach((function(e){$.push(q(t,e,j))})),Promise.all($).then((function(e){t(u.default.stationNetworkResultsLoaded(K,[J].concat(e),X))})).catch((function(e){t(u.default.stationNetworkLookupFailed(X)),P.default.info(e,{stationId:K})}))}else t(u.default.stationNetworkResultsLoaded(K,[],X))}else t(u.default.stationNetworkLookupFailed(X))}if(l.type===m.PAGE_DETECTED&&(0,r.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&l.payload.type===S.HOME_PAGE_NEWS){var ee=(0,r.default)(n(),"user.org.id");if(ee&&ee!==y.NPR)t(h.default.hpLocalStoriesRequested(ee));else if(x=!0,(0,r.default)(n(),"localStations.requestStatus")===g.RESOLVED)(0,r.default)(n(),"localStations.stations",[]).map((function(e){return t(h.default.hpLocalStoriesRequested(e))})),U=!1;else U=!0}if((0,i.default)(F)&&!B&&w.hasConsentedTo(w.FUNCTIONAL)){B=!0;var te=n(),ne=(0,r.default)(te,"user.org.id"),ae=(0,r.default)(te,"localStations.stations"),re=parseInt((0,r.default)(te,"localStations.localizationInfo.pulseCityConf"),10),oe=(0,r.default)(te,"site.ecosystem"),ie=ae.filter((function(e){return"Show everywhere"===(0,r.default)(te,"org."+e+".localizationEligibility")}));if(oe===b.NEWS){var se=0;!ne&&1===ie.length&&re>=80&&(se=ie[0]),!ne&&2===ie.length&&ie.includes(y.WAMU)&&ie.includes(y.WETA)&&(se=y.WAMU),!ne&&1===ie.length&&ie.includes(y.WAMU)&&(se=y.WAMU),!ne&&1===ie.length&&ie.includes(y.WAMU_OC)&&(se=y.WAMU_OC),!ne&&1===ie.length&&ie.includes(y.WBEZ)&&(se=y.WBEZ),se&&!(0,T.getShouldPreventAutoLocalization)(te)&&t(f.stationAutolocalized(se))}F=[m.ECOSYSTEM_DETECTED],B=!1}return E}}};t.default=K},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStories=void 0;var a,r=u(n(630)),o=n(631),i=(a=o)&&a.__esModule?a:{default:a},s=u(n(1));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=t.spikingStories=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){var a=e(n);return n.type===s.PAGE_DETECTED&&t(r.spikingStoriesRequested()),n.type===s.SPIKING_STORIES_REQUESTED&&i.default.getSpikingStories().then((function(e){t(r.spikingStoriesSucceeded(e))})).catch((function(){t(r.spikingStoriesFailed())})),n.type===s.SPIKING_STORIES_SUCCEEDED&&(NPR.serverVars&&NPR.serverVars.storyId&&n.payload.includes(NPR.serverVars.storyId)?t(r.spikingStoryDetected()):t(r.spikingStoryNotDetected())),a}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStoriesRequested=function(){return{type:a.SPIKING_STORIES_REQUESTED}},t.spikingStoriesSucceeded=function(e){return{type:a.SPIKING_STORIES_SUCCEEDED,payload:e}},t.spikingStoriesFailed=function(){return{type:a.SPIKING_STORIES_FAILED}},t.spikingStoryDetected=function(){return{type:a.SPIKING_STORY_DETECTED}},t.spikingStoryNotDetected=function(){return{type:a.SPIKING_STORY_NOT_DETECTED}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),o=n(47),i=(a=o)&&a.__esModule?a:{default:a};var s=r.WEB_HOST+"/proxy/spiking-stories";t.default={getSpikingStories:function(){return(0,i.default)(1e4,s,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storyPage=t.filterReadStories=void 0;var a=s(n(7)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=s(n(335)),i=s(n(633));s(n(634)),s(n(339));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.filterReadStories=function(e,t){var n=[],a=function(e){return t.indexOf(e.storyId)<0};return e.forEach((function(e){var t=e;t.recommendations=e.recommendations.filter(a),t.recommendations.length>0&&n.push(t)})),n},l=t.storyPage=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(s){var l=e(s);if(s.type===r.END_OF_STORY_RECOMMENDATION_REQUESTED){var c=s.payload.storyId,d=n(),f=(0,a.default)(d,"storyHistory"),p=(0,a.default)(f,"readStoryIds")||[];i.default.getEndOfStoryRecommendations(c,[c]).then((function(e){var n=u(e,p);t(o.default.endOfStoryRecommendationCompleted(n))})).catch((function(){t(o.default.endOfStoryRecommendationFailed())}))}return l}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),o=n(47),i=(a=o)&&a.__esModule?a:{default:a};var s=r.LEGACY_WEB_HOST+"/proxy/recommendations/endofstory";t.default={getEndOfStoryRecommendations:function(e,t){var n=s+"?storyId="+e+"&previouslyReadStoryIds="+JSON.stringify(t);return(0,i.default)(1e4,n,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(54),o=(a=r)&&a.__esModule?a:{default:a};t.default={addMetricToCenterStageCallout:function(){var e=document.getElementsByClassName("callout--newsletter");if(e.length>0)var t=document.getElementsByName("newsletterId")[0].value,n=new Waypoint({element:e[0],handler:function(e){"down"===e&&(n.disable(),o.default.trackEvent({category:"newsletter",action:"view subscribe box",label:t,noninteraction:!0}))},offset:"bottom-in-view"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.onAudioStart=B,t.onAudioTogglePlay=G,t.onScrubEnd=W,t.onAddOneToQueue=q,t.onAutoplayToggleOn=Y,t.onAutoplayToggleOff=z,t.onRecommendationsLoaded=Q,t.onLinkClicked=K,t.onClearHistoryRequested=X,t.onAllActions=J,t.track=function(e,t,n,r,p){switch(J(e,r,p),e){case u.PLAY_PAUSE_REQUESTED:case u.SOUNDSCAPES_LOADED:b=Object.assign({},b,{type:e,payload:t,meta:n,ecosystem:p.site.ecosystem,org:p.org});break;case u.TOGGLE_PLAY:G(p,t,n);break;case u.AUDIO_PLAYED:B(p,t,n);break;case u.AUDIO_COMPLETE:!function(e,t){O="";var n=null,a={},r={},u={},c="";switch(t.type){case l.SPONSORSHIP:(0,m.isSoundscapes)(t.subtype)?((n=i.getSponsorMetrics("complete audio",i.getLabel(t))).value=Math.round(t.duration),r=i.getSponsorshipAudioCustomDimensions(t),a=j(),u=s.getAudioCustomDimensions(l.SPONSORSHIP_SOUNDSCAPE,e,t,{lastPingInterval:w,currentPingTime:I,timeChange:Math.round(t.duration)}),w=I,c=d.SPONSORSHIP_AUDIO_COMPLETE):(u=s.getAudioCustomDimensions(l.SPONSORSHIP_PLAYER,e,t,{lastPingInterval:w,currentPingTime:I,timeChange:Math.round(t.duration)}),w=I,n=i.getSponsorMetrics("complete audio"),c=d.SPONSORSHIP_AUDIO_COMPLETE);break;case l.SEGMENT:r=i.getCustomDimensions(t.type,t,e.site.ecosystem,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0})),u=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0,lastPingInterval:w,currentPingTime:I,timeChange:Math.round(t.duration)})),w=I,a=Object.assign({},k(),{metric3:1}),(n=i.getCommonMetrics("audio actions","complete audio",i.getLabel(t))).value=Math.round(t.duration),c=d.AUDIO_COMPLETE;break;default:o.default.warning('Should not receive audio complete actions for audio type "'+t.type+'"')}U(n,a,r),x(c,u)}(p,t);break;case u.AUDIO_ERROR:!function(e,t,n){var a=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,{errorMessage:n.reason});x(d.AUDIO_ERROR,a)}(p,t,n);break;case u.REWIND:V(r,p,"rewind");break;case u.FAST_FORWARD:V(r,p,"fast forward");break;case u.SKIP:!function(e){var t=i.getAudioMetadata(e);if((0,y.getConstructedQueue)(e)&&(0,y.getConstructedQueue)(e).length>0||(0,m.isSoundscapes)(t.subtype)){var n={},a={},r={};(0,m.isSoundscapes)(t.subtype)?((n=i.getSponsorMetrics("skip audio",i.getLabel(t))).value=i.getPercentage(e.player.position,t.duration),a=i.getSponsorshipAudioCustomDimensions(t)):((n=i.getCommonMetrics("audio actions","skip audio",i.getLabel(t))).value=Math.round(e.player.position),a=i.getCustomDimensions(t.type,t,e.site.ecosystem,{}),r=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I),f.default.eventWithCustomMetric(n,a),x(d.AUDIO_SKIP,r)}}(p);break;case u.SET_AUDIO_PLAYER_VOLUME:!function(e,t){clearTimeout(M),M=setTimeout((function(e,t,n){e(t,n)}),2e3,H,e,t)}(r,p);break;case u.PREVIOUS_AUDIO_PLAY_REQUESTED:!function(e,t){var n=i.getAudioMetadata(e),a={},r={},o={};(0,m.isSoundscapes)(n.subtype)?((a=i.getSponsorMetrics("previous audio",i.getLabel(n))).value=i.getPercentage(t.player.position,n.duration),r=i.getSponsorshipAudioCustomDimensions(n)):((a=i.getCommonMetrics("audio actions","previous audio",i.getLabel(n))).value=Math.round(t.player.position),r=i.getCustomDimensions(n.type,n,t.site.ecosystem,{}),o=s.getAudioCustomDimensions(l.ON_DEMAND,t,n,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I);f.default.eventWithCustomMetric(a,r),x(d.AUDIO_PREVIOUS,o)}(r,p);break;case u.SCRUB_END:W(r,p,t);break;case u.ADD_ONE_TO_QUEUE:q(p,t,n);break;case u.REMOVE_ONE_FROM_QUEUE:!function(e,t){var n=i.getAudioMetadata(e,t),a=(0,y.getContinuousQueue)(e).includes(t)?"remove from autoplay queue":"remove from queue",r=i.getCommonMetrics("audio actions",a,i.getLabel(n)),o=s.getAudioCustomDimensions(l.ON_DEMAND,e,n,{audioQueueStatus:"remove - item"});f.default.eventDefault(r),x(d.AUDIO_QUEUE,o)}(r,t);break;case u.ADD_MANY_TO_TOP_OF_QUEUE:!function(e,t){var n,a=null,r="";t.playedFrom&&t.playedFrom===l.ADD_SUPPORTED_SELECTION_TO_QUEUE?(r=d.SPONSORSHIP_AUDIO_ADD_TO_QUEUE,l.SPONSORSHIP_SOUNDSCAPE,a=i.getSponsorMetrics(t.playedFrom,t.channel)):(r=d.AUDIO_QUEUE,l.ON_DEMAND,a=i.getCommonMetrics("audio actions","add to queue","add all items to queue"));n=s.getAudioCustomDimensions(l.ON_DEMAND,e,{},Object.assign({},t,{audioQueueStatus:"add - all items to queue"})),f.default.eventDefault(a),x(r,n)}(p,n);break;case u.ADD_MANY_TO_QUEUE:!function(e,t){var n;n=i.getCommonMetrics("audio actions","add to queue","add all items to queue");var a=s.getAudioCustomDimensions(l.ON_DEMAND,e,{},Object.assign({},t,{audioQueueStatus:"add - all items to queue"}));f.default.eventDefault(n),x(d.AUDIO_QUEUE,a)}(p,n);break;case u.NEWSCAST_PANE_SELECTED_WITH_PLAY:g=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(c.NEWSCAST)),f.default.eventDefault(g);break;case u.ON_DEMAND_PANE_SELECTED_WITH_PLAY:!function(){var e=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(c.ON_DEMAND));f.default.eventDefault(e)}();break;case u.STREAMING_PANE_SELECTED_WITH_PLAY:!function(){var e=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(c.STREAMING));f.default.eventDefault(e)}();break;case u.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP:!function(e){var t=(0,v.getNewscastUidForOrg)(e),n=t&&t===(0,v.getNewscastUidForOrg)(h.NPR)?"national newscast pane":"local newscast pane",a=i.getCommonMetrics("player interactions","click pane",n);f.default.eventDefault(a)}(t);break;case u.LINK_CLICKED:K(n);break;case u.CLEAR_HISTORY_REQUESTED:X();break;case u.TIMER:!function(e,t){if(!e.player.isAudioPlaying)return;var n=t/1e3,r=i.getAudioMetadata(e);if(e.sponsorship.isPlayingSponsorship)(0,m.isSoundscapes)(r.subtype)&&(N+=n),i.shouldSendSoundscapesHeartbeat(e,R)&&(!function(e,t){o.default.info("Metrics: Soundscapes heartbeat '"+e+" Secs' at playhead '"+t.player.position+"'");var n=i.getLabel(i.getAudioMetadata(t)),r=i.getSponsorMetrics(e+" Secs",n),s=i.getSponsorshipAudioCustomDimensions(i.getAudioMetadata(t)),u=j();f.default.eventWithCustomMetric(r,a({},u,s))}(R,e),R=i.getNextSoundscapesHeartbeat(R)),T+=n,I=P+=n,P>D&&F(e,D);else{if(T+=n,I=P+=n,P>D&&F(e,D),r&&r.type===l.SEGMENT)i.getPercentage(e.player.position,r.duration)>=C&&function(e,t){i.getLabel(i.getAudioMetadata(t)),i.getSegmentAudioCustomDimensions(b.payload,b.ecosystem,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0}));var n=s.getAudioCustomDimensions(l.ON_DEMAND,t,b.payload,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0,percentComplete:e,currentPingTime:I,lastPingInterval:w}));w=I;k();C=i.getNextPercentComplete(C),x(d.AUDIO_PROGRESS,n)}(C,e)}}(p,t.sinceLastTick);break;case u.TOGGLE_EXPANDED:!function(e){var t=e.player.isExpanded?"expand player":"collapse player",n="";switch((0,y.getCurrentPane)(e)){case c.NEWSCAST:n="newscast pane";break;case c.ON_DEMAND:n="playlist pane";break;case c.STREAMING:n="listen live pane";break;default:n="#"}var a=i.getCommonMetrics("player interactions",t,n);f.default.eventDefault(a)}(p);break;case u.ENABLE_CONTINUOUS_LISTENING:Y(p);break;case u.DISABLE_CONTINUOUS_LISTENING:z(p);break;case u.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED:Q(p)}var g};var r=S(n(7)),o=S(n(9)),i=E(n(355)),s=E(n(153)),u=E(n(1)),l=E(n(15)),c=E(n(104)),d=E(n(129)),f=S(n(636)),p=E(n(353)),h=E(n(37)),m=n(103),g=E(n(135)),y=n(25),v=n(76),_=E(n(38));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var b={},O="",T=0,P=0,A=void 0,w=0,I=0,D=i.getNextAudioPingTime(0),N=0,C=i.getNextPercentComplete(0),R=i.getNextSoundscapesHeartbeat(0),M=0;function L(){T=0,P=0,w=0,I=0,D=i.getNextAudioPingTime(0),C=i.getNextPercentComplete(0)}function j(){var e=Math.round(N);return N=0,{metric7:e=e>300?300:e}}function k(){var e=Math.round(T);e>301&&(o.default.error(new Error("activeTimeMetric exceeds 301 seconds: "+JSON.stringify({val:e,activeTimeSinceLastReport:T,activeTimeTotal:P,nextPingInterval:D})),{val:e,activeTimeSinceLastReport:T,activeTimeTotal:P,nextPingInterval:D}),e=300);var t=(0,r.default)(b,"payload.type")===l.STREAM?{metric4:e}:{metric5:e};return T=0,t}function U(e,t,n){!Object.is(e,null)&&_.hasConsentedTo(_.PERFORMANCE_AND_ANALYTICS)&&(Object.keys(t).length>0||Object.keys(n).length>0?f.default.eventWithCustomMetric(e,Object.assign({},t,n)):f.default.eventDefault(e))}function x(e,t){g.sendGTMEvent(e,g.createAudioVars(t))}function F(e,t){var n=(0,r.default)(b,"payload.type"),a="",o={},u="";switch(n){case l.SPONSORSHIP:u=(0,m.isSoundscapes)((0,r.default)(b,"payload.subtype"))?l.SPONSORSHIP_SOUNDSCAPE:l.SPONSORSHIP_PLAYER,o=s.getAudioCustomDimensions(u,e,b.payload,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0,currentPingTime:t,lastPingInterval:w})),a=d.SPONSORSHIP_AUDIO_PINGS;break;case l.SEGMENT:case l.STREAM:var c=n===l.STREAM?"streams":n,p={category:"audio pings",action:i.getPingNameFromTime(t),label:c};u=n===l.STREAM?l.STREAM:l.ON_DEMAND,o=s.getAudioCustomDimensions(u,e,b.payload,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0,currentPingTime:t,lastPingInterval:w})),a=d.AUDIO_PINGS;var h=i.getCustomDimensions((0,r.default)(b,"payload.type"),b.payload,b.ecosystem,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0})),g=k();f.default.eventWithCustomMetric(p,Object.assign({},g,h))}x(a,o),w=D,D=i.getNextAudioPingTime(D)}function B(e,t,n){if(t.uid!==O&&void 0!==t.type){O=t.uid;var a=null,r={},u={},c={},h="",g=n;switch(A=t.type,b.payload=t,N=0,R=i.getNextSoundscapesHeartbeat(0),A){case l.SPONSORSHIP:L();var y=null;h="sponsorship_audio_start",(0,m.isSoundscapes)(t.subtype)?(r={metric6:1},u=i.getSponsorshipAudioCustomDimensions(t),y=i.getLabel(t),R=i.getNextSoundscapesHeartbeat(0),c=s.getAudioCustomDimensions(l.SPONSORSHIP_SOUNDSCAPE,e,t)):c=s.getAudioCustomDimensions(l.SPONSORSHIP_PLAYER,e,t),a=i.getSponsorMetrics("initiate audio",y);break;case l.SEGMENT:L(),b.payload&&t.uid===b.payload.uid&&(g=b.meta,b.originalMeta=b.meta),r={metric1:1},u=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,Object.assign({},g,{trackSponsorshipPlayedFrom:!0})),h=d.AUDIO_START,c=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,Object.assign({},g,{trackSponsorshipPlayedFrom:!0}));break;case l.STREAM:L(),b.payload&&t.uid===b.payload.uid&&(g=b.meta,b.originalMeta=b.meta),r={metric2:1},u=i.getStreamAudioCustomDimensions(t,g),h=d.AUDIO_START,c=s.getAudioCustomDimensions(l.STREAM,e,t,g);break;default:o.default.warning('Unknown audio type "'+t.type+'"')}if(A===l.STREAM||A===l.SEGMENT){var v=p.processFirstAudioListen();Object.keys(v).length>0&&f.default.setCustomDimensions(v)}U(a=a||i.getCommonMetrics("audio actions","initiate audio",i.getLabel(t)),r,u),x(h,c)}}function G(e,t,n){var a=null,r={},o=t.type===l.SPONSORSHIP,u=t.type===l.SEGMENT,f=t.type===l.STREAM,p={},h={},g="";if(e.player.isPlaying)if(O=t.uid,o?(0,m.isSoundscapes)(t.subtype)?((a=i.getSponsorMetrics("resume audio",i.getLabel(t))).value=i.getPercentage(e.player.position,t.duration),p=i.getSponsorshipAudioCustomDimensions(t)):a=i.getSponsorMetrics("resume audio"):(a=i.getCommonMetrics("audio actions","resume audio",i.getLabel(t)),h=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,b.originalMeta),g=d.AUDIO_RESUME),u){if(0===e.player.position)return void B(e,t,n);b.originalMeta=b.originalMeta?b.originalMeta:n,a.value=i.getPercentage(e.player.position,t.duration),p=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,{}),h=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,b.originalMeta),g=d.AUDIO_RESUME}else f&&(b.originalMeta=b.originalMeta?b.originalMeta:n,p=i.getStreamAudioCustomDimensions(t,{}),h=s.getAudioCustomDimensions(l.STREAM,e,t,b.originalMeta),g=d.AUDIO_RESUME);else if(o)(0,m.isSoundscapes)(t.subtype)?((a=i.getSponsorMetrics("pause audio",i.getLabel(t))).value=i.getPercentage(e.player.position,b.payload.duration),r=j(),p=i.getSponsorshipAudioCustomDimensions(t)):a=i.getSponsorMetrics("pause audio");else{if(a=i.getCommonMetrics("audio actions","pause audio",i.getLabel(t)),u){if(i.getPlayedFrom(i.getAudioMetadata(e),n)===c.IGNORE_METRIC)return;a.value=i.getPercentage(e.player.position,t.duration),p=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,{}),h=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I,g=d.AUDIO_PAUSE}else f?(p=i.getStreamAudioCustomDimensions(t,{}),h=s.getAudioCustomDimensions(l.STREAM,e,t,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I,g=d.AUDIO_PAUSE):f&&(b.originalMeta=b.originalMeta?b.originalMeta:n);r=k()}U(a,r,p),x(g,h)}function H(e,t){var n=i.getLabel(i.getAudioMetadata(e)),a=i.getCommonMetrics("audio actions","adjust volume",n);a.value=Math.round(100*t.player.volume);var r=i.getAudioMetadata(t),o=i.getCustomDimensions(r.type,r,t.site.ecosystem,{}),u=s.getAudioCustomDimensions(r.type,t,r,Object.assign({},b.originalMeta,{trackSponsorshipPlayedFrom:!0,volumePosition:Math.round(100*t.player.volume)}));f.default.eventWithCustomMetric(a,o),x(d.AUDIO_ADJUST_VOLUME,u)}function V(e,t,n){var a=i.getLabel(i.getAudioMetadata(e)),r=i.getCommonMetrics("audio actions",n+" audio",a);r.value=Math.round(e.player.position);var o=i.getAudioMetadata(t),u=i.getCustomDimensions(o.type,o,t.site.ecosystem,{}),c=s.getAudioCustomDimensions(l.ON_DEMAND,t,o,Object.assign({},b.originalMeta,{currentPingTime:I,timeChange:r.value,lastPingInterval:w}));w=I,f.default.eventWithCustomMetric(r,u),x("rewind"===n?d.AUDIO_REWIND:d.AUDIO_FAST_FORWARD,c)}function W(e,t,n){if(n&&n.duration&&n.duration>0){var a=i.getPercentage(t.player.position,n.duration);C=i.getNextPercentComplete(a)}t.sponsorship.isPlayingSponsorship&&(R=i.getNextSoundscapesHeartbeatFromPosition(t.player.position));var r={},o={};if(e.player.isScrubbing&&!t.player.isScrubbing){var u=i.getAudioMetadata(t),c=u.duration,p=t.player.position,h=i.getLabel(u,t.org),g=i.getCommonMetrics("audio actions","scrub audio",h);u.type===l.SEGMENT?(r=i.getSegmentAudioCustomDimensions(u,t.site.ecosystem,{}),o=s.getAudioCustomDimensions(l.ON_DEMAND,t,u,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I,g.value=i.getPercentage(p,c)):u.type===l.SPONSORSHIP?r=(0,m.isSoundscapes)(u.subtype)?i.getSponsorshipAudioCustomDimensions(u):r:u.type===l.STREAM&&(r=i.getStreamAudioCustomDimensions(u,{}),o=s.getAudioCustomDimensions(l.STREAM,t,u,Object.assign({},b.originalMeta,{currentPingTime:I,lastPingInterval:w})),w=I),f.default.eventWithCustomMetric(g,r),x(d.AUDIO_SCRUB,o)}}function q(e,t,n){var a,r=i.getAudioMetadata(e,t),o=i.getCommonMetrics("audio actions","add to queue",i.getLabel(r)),u="",c="";c=n.playedFrom&&n.playedFrom===l.ADD_SUPPORTED_SELECTION_TO_QUEUE?d.SPONSORSHIP_AUDIO_ADD_TO_QUEUE:d.AUDIO_QUEUE,u=t.type===l.SPONSORSHIP?(0,m.isSoundscapes)(t.subtype)?l.SPONSORSHIP_SOUNDSCAPE:l.SPONSORSHIP_PLAYER:l.ON_DEMAND,a=s.getAudioCustomDimensions(u,e,r,{audioQueueStatus:"add - item to queue"}),f.default.eventDefault(o),x(c,a)}function Y(e){var t=i.getAudioMetadata(e),n=t?i.getLabel(t):"player on",a=i.getCommonMetrics("audio actions","autoplay toggle on",n),r=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,{audioAutoplayStatus:"on"});f.default.eventDefault(a),x(d.AUDIO_AUTOPLAY_TOGGLE,r)}function z(e){var t=i.getAudioMetadata(e),n=t?i.getLabel(t):"player off",a=i.getCommonMetrics("audio actions","autoplay toggle off",n),r=s.getAudioCustomDimensions(l.ON_DEMAND,e,t,{audioAutoplayStatus:"off"});f.default.eventDefault(a),x(d.AUDIO_AUTOPLAY_TOGGLE,r)}function Q(e){var t=i.getAudioMetadata(e),n=i.getCommonMetrics("audio actions","autoplay experience triggered",i.getLabel(t)),a=s.getAudioCustomDimensions(l.ON_DEMAND,e,t);f.default.eventDefault(n),x(d.AUDIO_AUTOPLAY_TRIGGERED,a)}function K(e){var t=i.getCommonMetrics("player interactions",e.action,e.label);f.default.eventDefault(t)}function X(){var e=i.getCommonMetrics("player interactions","clear history","history pane");f.default.eventDefault(e)}function J(e,t,n){if(e===u.STATE_LOADED||t.player.isPlaying!==n.player.isPlaying||t.player.isExpanded!==n.player.isExpanded||(0,y.getCurrentPane)(t)!==(0,y.getCurrentPane)(n)){var a=n.player.isPlaying?"active":"not active",r=i.getMetricsPlayerState(n),o=(0,y.shouldEnableContinuousListening)(n)?"autoplay on":"autoplay off";f.default.setCustomDimensions({dimension26:a+" - "+r+" - "+o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(347)),r=i(n(106)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15));function i(e){return e&&e.__esModule?e:{default:e}}var s={};function u(e){return void 0===e?"NULL":e}function l(e){return"string"==typeof e?e.toLowerCase():e}s.setCustomDimensions=function(e){e=(0,r.default)(e,(function(e){return l(e)}));var t=(0,r.default)(e,(function(e){return u(e)}));a.default.setCustomDimensions(t)},s.eventDefault=function(e){e.label=e.label===o.SEGMENT?"ondemand":e.label,a.default.eventDefault(e.category,e.action,e.label,e.value)},s.eventWithCustomMetric=function(e,t){t=(0,r.default)(t,(function(e){return l(e)}));var n=(0,r.default)(t,(function(e){return u(e)}));e.label=e.label===o.SEGMENT?"ondemand":e.label,a.default.eventWithCustomMetric(e.category,e.action,e.label,e.value,void 0,n)},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t,n,s,g){switch(e){case i.NEWSLETTER_ACQUISITION_COMPLETED:!function(e,t){var n=t.globalAlerts.variant===u.STICKYBAR?u.STICKYBAR:"",r=t.globalAlerts.variant===u.STICKYBAR?u.STICKYBAR:"standard subscribe box",i=(0,a.default)(e,"newsletterId"),s=h.getNewsletterCustomDimensions({clickType:r,clickName:i}),l=p.createNewsletterVars(s);p.sendGTMEvent(c.NEWSLETTER_SUBSCRIBE,l),o.default.trackEvent(o.default.defaultEventWithLabel("newsletter",("subscribe "+n).trim(),i))}(t,s);break;case i.NEWSLETTER_ACQUISITION_FAILED:!function(e,t){var n=t.globalAlerts.variant===u.STICKYBAR?u.STICKYBAR:"",r=(0,a.default)(e,"newsletterId"),i=t.globalAlerts.variant===u.STICKYBAR?u.STICKYBAR:"newsletter standard subscribe box",s=h.getNewsletterCustomDimensions({clickName:r,errorType:i}),l=p.createNewsletterVars(s);p.sendGTMEvent(c.NEWSLETTER_ERROR,l),o.default.trackEvent(o.default.defaultEventWithLabel("newsletter",("subscribe error "+n).trim(),r))}(t,s);break;case i.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED:!function(e){var t=(0,a.default)(e,"newsletterId"),n=(0,a.default)(e,"campaign");"wbez"===t.toLowerCase()&&n.toLowerCase().includes("right rail")?o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe","wbez right rail")):o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe","wbez"))}(t);break;case i.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED:!function(e){var t=(0,a.default)(e,"newsletterId"),n=(0,a.default)(e,"campaign");"wbez"===t.toLowerCase()&&n.toLowerCase().includes("right rail")?o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe error","wbez right rail")):o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe error","wbez"))}(t);break;case i.SOUNDSCAPES_BANNER_CLICKED:!function(e){var t=(0,a.default)(e,"uid"),n={uid:t,type:l.SPONSORSHIP,subtype:l.SOUNDSCAPES},r=h.getAudioCustomDimensions(l.SPONSORSHIP_SOUNDSCAPE,{},n),i=p.createAudioVars(r);p.sendGTMEvent(c.SPONSORSHIP_SOUNDSCAPE_AUDIO_BANNER,i),o.default.trackEvent(o.default.defaultEventWithLabel("player sponsorship","click banner",t))}(t);break;case i.STATION_SEARCH_RESULTS_LOADED:!function(e,t){if(t.site&&!t.site.currentHref.includes("/stations")){var n=(0,a.default)(e,"term"),r=(0,a.default)(e,"results"),i=r.map((function(e){return t.org[e]?t.org[e].callLetters:void 0})).filter((function(e){return e})),s=r.map((function(e){return t.org[e]?t.org[e].id+" | "+t.org[e].callLetters:void 0})).filter((function(e){return e}));n&&5===n.length&&o.default.trackEvent(o.default.defaultEventWithLabel("donation portal","zip selection",JSON.stringify(i)));var u=m.default.getStationDonationType(t.user.org),l=h.getDonationCustomDimensions({searchTerm:n,searchType:"",searchResults:s.join(", "),donationStationType:u}),d=p.createDonationVars(l);p.sendGTMEvent(c.VIEW_SEARCH_RESULTS,d)}}(t,g);break;case i.HIDE_GLOBAL_ALERTS:!function(e,t,n){var a=m.default.getStationDonationType(t.user.org);if(n.globalAlerts.variant===u.MODAL){var i=v(t);if(i.includes("donation")){o.default.trackEvent({category:i.includes("donation")?i+" "+u.MODAL:u.MODAL,action:e||"close box",label:i.includes("donation")?_(t):i});var s=(0,f.getModalInfo)(),l=(0,r.getVariantIDToShowOnThisPage)(t)in s?"modal":"embed modal",g=h.getDonationCustomDimensions({creativeSlot:l,donationStationType:a,clickName:"maybe later"===e?"maybe later":"close"}),y=p.createDonationVars(g);p.sendGTMEvent(c.CLOSE_PROMOTION,y)}}else if("stickybar"===n.globalAlerts.variant){var E=(0,d.getStickybarDonationInfo)(),S=(0,r.getVariantIDToShowOnThisPage)(t)in E?"stickybar":"embed stickybar",b=h.getDonationCustomDimensions({creativeSlot:S,donationStationType:a,clickName:"maybe later"===e?"maybe later":"close"}),O=p.createDonationVars(b);p.sendGTMEvent(c.CLOSE_PROMOTION,O)}}(t,g,s);break;case i.SHOW_GLOBAL_MODAL:!function(e,t){var n=v(t);if(n.includes("donation")){o.default.trackEvent({category:n.includes("donation")?n+" "+u.MODAL:u.MODAL,action:"view box",label:n.includes("donation")?_(t):n,noninteraction:!0});var a=m.default.getStationDonationType(t.user.org),i=(0,f.getModalInfo)(),s=(0,r.getVariantIDToShowOnThisPage)(t)in i?"modal":"embed modal",l=h.getDonationCustomDimensions({creativeSlot:s,donationStationType:a}),d=p.createDonationVars(l);p.sendGTMEvent(c.VIEW_PROMOTION,d)}}(0,g);break;case i.SHOW_GLOBAL_STICKYBAR:!function(e,t){var n=function(e){var t=(0,d.getStickybarNewsletterInfo)(),n=(0,d.getStickybarDonationInfo)(),a=(0,d.getStickybarEmbeddedDonationInfo)(),o=(0,r.getVariantIDToShowOnThisPage)(e);if(o in t)return t[o].newsletterInfo.newsletterId;if(o in n||o in a)return o.toLowerCase().replace(/\d+|\//g,"").trim();return"none"}(t),a=m.default.getStationDonationType(t.user.org);if(n.includes("donation")){var o=(0,d.getStickybarDonationInfo)(),i=(0,r.getVariantIDToShowOnThisPage)(t)in o?"stickybar":"embed stickybar",s=h.getDonationCustomDimensions({creativeSlot:i,donationStationType:a}),u=p.createDonationVars(s);p.sendGTMEvent(c.VIEW_PROMOTION,u)}}(0,g);break;case i.HP_HIDE_STATION_CARD_MESSAGE:!function(e,t){var n=_(t);t.cardMessage.isHidden&&o.default.trackEvent(o.default.defaultEventWithLabel("card message","hide message",n))}(0,g)}};var a=y(n(7)),r=n(25),o=y(n(54)),i=g(n(1)),s=g(n(19)),u=g(n(75)),l=g(n(15)),c=g(n(129)),d=n(133),f=n(179),p=g(n(135)),h=g(n(153)),m=y(n(566));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function v(e){var t=(0,f.getModalInfo)(),n=(0,f.getModalEmbedInfo)(),a=(0,r.getVariantIDToShowOnThisPage)(e);return a in t||a in n?a.toLowerCase().replace(/\d+|\//g,"").trim():"none"}function _(e){var t=null;if((0,a.default)(e.user,"org.status")!==s.PENDING){var n=(0,a.default)(e.user,"org.id");if((t=e.org[n])&&t.callLetters)return t.callLetters;var r=(0,a.default)(e,"localStations.stations");if(r&&r.length>0){var o=[];return r.forEach((function(t){e.org[t]&&e.org[t].callLetters&&o.push(e.org[t].callLetters)})),"Not localized - "+o.join(", ")}return"Not localized - no nearby stations"}return"Not localized"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropdowns=void 0;var a,r=n(6),o=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(219));var s=!1;t.dropdowns=function(e){e.getState;var t=e.dispatch;return function(e){return function(n){var a=e(n);return!1===s&&(s=!0,function(e){(0,o.default)(document).on("npr:dropdownOpened",(function(){e(i.closeStationSubnavs())}))}(t)),a}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStories=void 0;var a=l(n(356)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=l(n(91)),i=l(n(641)),s=l(n(340)),u=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.default.getHPLocalStoriesForStation,d=t.localStories=function(e){var t=e.dispatch;return function(e){return function(n){var o=e(n);if(n.type===r.HP_LOCAL_STORIES_REQUESTED){var l=n.payload;l&&s.default.find((function(e){return e===l}))?c(l).then((function(e){t(a.default.hpLocalStoriesSucceeded(l,e)),i.default.setCustomDimensions({dimension42:e.length.toString()})})).catch((function(e){u.default.error(e),t(a.default.hpLocalStoriesFailed(l))})):l?(u.default.info("This org Id "+l+" is not eligible for local stories"),t(a.default.hpLocalStoriesFailed(l))):(u.default.error("Invalid org Id "+l+" passed to hpLocalStoriesRequested."),t(a.default.hpLocalStoriesFailed(l)))}return o}}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(106),o=(a=r)&&a.__esModule?a:{default:a};t.default={setCustomDimensions:function(e){var t=(0,o.default)(e,(function(e){return"string"==typeof(t=e)?t.toLowerCase():t;var t}));t=(0,o.default)(t,(function(e){return void 0===(t=e)?"NULL":t;var t})),"undefined"!=typeof ga&&ga("set",t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyMobileNative=void 0;var a=i(n(7)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=i(n(352));function i(e){return e&&e.__esModule?e:{default:e}}t.notifyMobileNative=function(){return function(e){return function(t){switch(t.type){case r.METADATAS_LOADED:if(!t.payload||!Array.isArray(t.payload))break;o.default.sendBridgeObject(o.default.Names.pageLoaded,t.payload.map((function(e){return e.uid})));break;case r.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.audioButtonPressed,(0,a.default)(t,"payload"));break;case r.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.playlistButtonPressed,(0,a.default)(t,"payload"))}return e(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerPlatformInteractions=void 0;l(n(7));var a=u(n(24)),r=u(n(1)),o=u(n(100)),i=n(92),s=l(n(46));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}t.playerPlatformInteractions=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(u){var l=n(),c=s.default.isMobileNativeApp((0,i.getRenderPlatform)(l)),d=u.payload,f=u.meta;switch(u.type){case r.PLAY_PAUSE_BUTTON_PRESSED:t(c?a.mobileNativePlayPausePressed(d.uid):a.playPauseRequested(d,f));break;case r.QUEUE_BUTTON_PRESSED:t(c?o.mobileNativeQueueButtonPressed(d):o.addOneToQueue(d,f))}return e(u)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneNavigation=void 0;var a=_(n(134)),r=_(n(90)),o=_(n(9)),i=v(n(1)),s=v(n(24)),u=v(n(33)),l=v(n(104)),c=v(n(15)),d=v(n(102)),f=n(76),p=v(n(136)),h=v(n(37)),m=v(n(22)),g=n(25),y=v(n(150));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e,t,n,a,r){t===l.NEWSCAST?e.type===c.STREAM?n(y.paneChangeWithExpand(l.STREAMING)):n(y.paneChangeWithExpand(l.ON_DEMAND)):e.subtype!==c.SEGMENT_NEWSCAST&&(r!==m.SMALL||a?function(e,t,n){t.type===c.STREAM&&n!==l.STREAMING&&e(y.paneChangeWithExpand(l.STREAMING)),t.type!==c.STREAM&&n!==l.ON_DEMAND&&e(y.paneChangeWithExpand(l.ON_DEMAND))}(n,e,t):function(e,t,n){t.type===c.STREAM&&n!==l.STREAMING&&e(y.paneChangeDirect(l.STREAMING)),t.type!==c.STREAM&&n!==l.ON_DEMAND&&e(y.paneChangeDirect(l.ON_DEMAND))}(n,e,t))},S=function(e,t,n,a,r,o){if(e&&d.getMetadataTypeForUid(r,e)===c.STREAM)return t;var i=n.org.id;if(i&&i!==h.NPR){var s=a[i];if(s&&s.streams)return s.streams.map((function(e){return r[e]})).find((function(e){return e.primary}))}return 0===o.stations.length?p.STREAM_24_HOUR_PROGRAM_METADATA:void 0},b=function(e,t,n,a){return e&&d.getMetadataTypeForUid(a,e)===c.SEGMENT?t:n?a[n]:void 0},O=function(e,t,n,a){return!0===e.isPlaying&&t&&!(0,r.default)(n)&&d.getMetadataTypeForUid(a,t)===c.STREAM},T=function(e,t,n){return!0===e.isPlaying&&t&&d.getMetadataTypeForUid(n,t)===c.SEGMENT},P=t.paneNavigation=function(e){var t=e.dispatch,n=e.getState;return function(e){return c=regeneratorRuntime.mark((function c(d){var p,v,_,P,A,w,I,D,N,C,R,M,L,j,k,U,x,F,B,G,H,V;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return p=n(),v=e(d),_=n(),P=_.player,A=_.metadata,w=_.user,I=_.org,D=_.localStations,N=(0,g.getConstructedQueue)(_),C=(0,a.default)(N),R=P.currentUid,M=A[R],L=(0,g.getCurrentPane)(_),d.type===i.ON_DEMAND_PANE_SELECTED_WITH_PLAY&&(j=void 0,O(P,R,C,A)?(t(s.togglePlay(M,{playedFrom:"from pane playlist"})),j=b(R,M,C,A)):!1===P.isPlaying&&(j=b(R,M,C,A)),(0,r.default)(j)?t(y.paneChangeWithExpand(l.ON_DEMAND)):t(s.playPauseRequested(j,{playedFrom:"from pane playlist"}))),d.type===i.STREAMING_PANE_SELECTED_WITH_PLAY&&(k=void 0,T(P,R,A)?(k=S(R,M,w,I,A,D),(0,r.default)(k)||t(s.togglePlay(M,{playedFrom:l.IGNORE_METRIC}))):!1===P.isPlaying&&(k=S(R,M,w,I,A,D)),(0,r.default)(k)?t(y.paneChangeWithExpand(l.STREAMING)):t(s.playPauseRequested(k,{playedFrom:"from pane listen live"}))),d.type===i.NEWSCAST_PANE_SELECTED_WITH_PLAY&&(U=(0,f.getNewscastUidForOrg)(h.NPR),(x=A[U])?(!1===P.isPlaying&&t(s.playPauseRequested(x,{playedFrom:"from pane newscast"})),t(y.paneChangeWithExpand(l.NEWSCAST))):(0,f.getNewscastForOrg)(h.NPR).then((function(e){t(u.metadataLoaded(e)),!1===P.isPlaying&&t(s.playPauseRequested(e,{playedFrom:"from pane newscast"})),t(y.paneChangeWithExpand(l.NEWSCAST))})).catch((function(e){o.default.info(e,{orgId:h.NPR}),t(y.paneChangeWithExpand(l.NEWSCAST))}))),d.type===i.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP&&(F=d.payload,(0,f.isValidStationOrg)(w.org.id)||L===l.STREAMING?(B=A[(0,f.getNewscastUidForOrg)(F)],G=parseInt(F,10)===h.NPR?"from pane national newscast":"from pane local newscast",B?t(s.playPauseRequested(B,{playedFrom:G})):(0,f.getNewscastForOrg)(F).then((function(e){t(u.metadataLoaded(e)),t(s.playPauseRequested(e,{playedFrom:G}))})).catch((function(e){return o.default.info(e,{orgId:F})}))):t(y.paneChangeWithExpand(l.STREAMING))),d.type===i.TOGGLE_PLAY&&(H=d.payload,p.player.isPlaying||E(H,L,t,P.env.isExpanded,P.env.breakpoint)),d.type===i.NEW_PLAY_REQUESTED&&(V=d.payload,E(V,L,t,P.env.isExpanded,P.env.breakpoint),P.env.breakpoint===m.SMALL&&t(y.collapsePane())),c.abrupt("return",v);case 16:case"end":return c.stop()}}),c,void 0)})),d=function(){var e=c.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))},function(e){return d.apply(this,arguments)};var c,d}};t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlerts=void 0;S(n(6)),S(n(7));var a=S(n(30)),r=E(n(1)),o=E(n(75)),i=E(n(19)),s=n(173),u=n(25),l=n(92),c=n(341),d=S(n(46)),f=n(89),p=n(179),h=n(133),m=S(n(91)),g=n(235),y=S(n(236)),v=n(107),_=n(22);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var b=!1,O=function(e){var t=(0,u.getLastPaymentDate)(e);return!!t&&v.currentDay<(0,y.default)(t).add(30,"days").toISOString()},T=t.globalAlerts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(y){var E=n(),S=e(y),T=n();if(y.type===r.PAGE_DETECTED&&(b=!1),y.type!==r.GET_LOCAL_STATIONS_SUCCEEDED&&y.type!==r.GET_LOCAL_STATIONS_FAILED&&y.type!==r.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&y.type!==r.GET_LOCAL_STATIONS_SKIPPED&&y.type!==r.SPIKING_STORIES_FAILED&&y.type!==r.SPIKING_STORY_NOT_DETECTED&&y.type!==r.SPIKING_STORY_DETECTED||b||!0!==T.spikingStories.areSpikingStoriesDetermined||T.localStations.requestStatus===i.NOT_STARTED||T.localStations.requestStatus===i.PENDING||(!function(e,t,n){var r=(0,c.getIsGlobalAlertLastSeenToday)(n),i=(0,v.isBlockListed)(n.site.currentHref),f=new URLSearchParams(window.location.search),y=1===parseInt(f.get("hideAlerts"),10),E=d.default.isMobileNativeApp((0,l.getRenderPlatform)(n)),S=!1,b="render"===a.default.getUrlParameter("localizationModal")&&null!==n.plusLocalization.email;if((!r||b)&&!i&&!y&&!E){var T=(0,h.getStickybarMaxSees)(),P=(0,h.getStickyBarPlusInfo)(),A=(0,p.getModalLocalizationInfo)();if(b)for(var w in A){if((0,v.isWithinThisGlobalAlertPeriod)(A[w])){e((0,s.globalAlertVariationDetermined)(o.MODAL,w)),e((0,s.showGlobalModal)()),S=!0;break}}if(!S)for(var I in P){var D=(0,u.getNumTimesStickybarTriggered)(n,I),N=(0,h.isOnStickybarPage)(n,P[I]);if((0,v.isWithinThisGlobalAlertPeriod)(P[I])&&D<T&&N){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,I)),S=!0;break}}if(!S){var C=(0,h.getStickybarNewsletterInfo)(),R=t.user.view.data.attributes.subscriptions;for(var M in C){var L=(0,u.getNumTimesStickybarTriggered)(n,M),j=(0,h.isOnStickybarPage)(n,C[M]),k=(0,v.isWithinThisGlobalAlertPeriod)(C[M]),U=C[M].newsletterInfo===(0,h.getStickybarUsePageNewsletter)(),x=!1;!document.getElementById("newsletter-acquisition-callout-data")&&U&&(x=!0);var F=-1!==R.indexOf(C[M].newsletterInfo.newsletterID);if(k&&!F&&L<T&&j&&!x){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,M)),S=!0;break}}}if(!S&&(0,g.isEligibleForEmbeddedDonation)(n)&&!(0,g.isBlockListedForDonation)()){var B=(0,h.getStickybarEmbeddedDonationInfo)();for(var G in B){var H=(0,u.getNumTimesStickybarTriggered)(n,G),V=(0,h.isOnStickybarPage)(n,B[G]);if((0,v.isWithinThisGlobalAlertPeriod)(B[G])&&H<T&&!O(n)&&V){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,G)),e((0,s.showGlobalStickybar)()),S=!0;break}}}if(!S&&!(0,g.isBlockListedForDonation)()){var W=(0,h.getStickybarDonationInfo)();for(var q in W){var Y=(0,u.getNumTimesStickybarTriggered)(n,q),z=(0,h.isOnStickybarPage)(n,W[q]);if((0,v.isWithinThisGlobalAlertPeriod)(W[q])&&Y<T&&!O(n)&&(!m.default.getStreamStationId()||n.player.env.breakpoint!==_.SMALL)&&z){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,q)),S=!0;break}}}if(!S){var Q=(0,h.getStickybarGenericInfo)();for(var K in Q){var X=(0,u.getNumTimesStickybarTriggered)(n,K),J=(0,h.isOnStickybarPage)(n,Q[K]);if((0,v.isWithinThisGlobalAlertPeriod)(Q[K])&&X<T&&J){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,K)),S=!0;break}}}if(!S&&(0,g.isEligibleForEmbeddedDonation)(n)&&!(0,g.isBlockListedForDonation)()){var Z=(0,p.getModalEmbedInfo)(n),$=(0,p.getModalMaxSees)();for(var ee in Z){var te=(0,u.getNumTimesModalTriggered)(n,ee),ne=(0,v.isWithinThisGlobalAlertPeriod)(Z[ee]);if(te<$&&!O(n)&&(!m.default.getStreamStationId()||n.player.env.breakpoint!==_.SMALL)&&ne){e((0,s.globalAlertVariationDetermined)(o.MODAL,ee)),e((0,s.showGlobalModal)()),S=!0;break}}}if(!S&&!(0,g.isBlockListedForDonation)()){var ae=(0,p.getModalInfo)(n),re=(0,p.getModalMaxSees)();for(var oe in ae){var ie=(0,u.getNumTimesModalTriggered)(n,oe),se=(0,v.isWithinThisGlobalAlertPeriod)(ae[oe]);if(ie<re&&!O(n)&&se){e((0,s.globalAlertVariationDetermined)(o.MODAL,oe)),S=!0;break}}}}S||e((0,s.globalAlertVariationDetermined)(o.NONE,o.NONE))}(t,E,T),b=!0),y.type===r.CHECK_GLOBAL_ALERTS){var P=!1,A=1500,w=y.payload;(0,f.isMobileDevice)(T)&&(A=1e3);var I=document.body.offsetHeight-window.innerHeight,D=(0,h.getStickyBarPlusInfo)();for(var N in D)if((0,h.isOnStickybarPage)(T,D[N])&&I<1500){A=(0,f.isMobileDevice)(T)?.4*I:.6*I;break}w>=A&&(P=!0);var C=(0,u.getAlertVariant)(T),R=(0,u.getGlobalAlertAlreadyVisibleThisPage)(T);if(P&&C===o.NONE&&!R){var M=(0,u.getVariantIDToShowOnThisPage)(T),L=(0,u.getVariantTypeToShowOnThisPage)(T);if(L===o.MODAL)t((0,s.showGlobalModal)());else if(L===o.STICKYBAR){var j=(0,h.getStickybarNewsletterInfo)(),k=(0,h.getStickybarDonationInfo)(),U=(0,h.getStickybarGenericInfo)();(M in D||M in j||M in k||M in U)&&t((0,s.showGlobalStickybar)())}}}return S}}};t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googletag=void 0;var a=o(n(1)),r=o(n(155));o(n(19));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i=!0,s=t.googletag=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){t();var o=e(n);t();return n.type===a.PAGE_DETECTED&&(i?i=!1:r.sendPageView()),n.type!==a.GET_LOCAL_STATIONS_SUCCEEDED&&n.type!==a.GET_LOCAL_STATIONS_FAILED&&n.type!==a.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&n.type!==a.GET_LOCAL_STATIONS_SKIPPED||r.sendPageView(),o}}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(7)),r=s(n(154)),o=s(n(36)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){try{return void 0!==e?e.join(","):e}catch(e){return}}var l=function(){this.storyId=null,this.storyTitle=null,this.topicIds=null,this.primaryTopic=null,this.theme=null,this.programId=null,this.aggIds=null,this.tagIds=null,this.byline=null,this.contentPartnerOrg=null,this.publisherOrgId=null,this.pubDate=null,this.pageTypeId=null,this.distributedContentPartner=null,this.homePageMetrics=null,this.isLocalStationStory=null,this.localizedStation=null,this.favoriteStation=null,this.localizedStationId=null,this.isLoggedIn=null,this.userId=null};l.prototype.gtmLoadNprServerVarData=function(){if(void 0!==window.NPR.serverVars){var e=window.NPR.serverVars;this.storyId=e.storyId,this.storyTitle=e.title,this.topicIds=u(e.topicIds),this.primaryTopic=e.primaryTopic,this.theme=e.theme,this.programId=e.programId,this.aggIds=u(e.aggIds),this.tagIds=u(e.tagIds),this.byline=u(function(e){if(void 0!==e)return e.map((function(e){var t=e.indexOf(",");return e.substring(0,-1!==t?t:e.length)}))}(e.byline)),this.contentPartnerOrg=e.contentPartnerOrgFullName,this.publisherOrgId=e.publisherOrgId,this.pubDate=e.pubDate,this.pageTypeId=e.pageTypeId,this.homePageMetrics=e.homePageMetrics}},l.prototype.loadUserData=function(){var e=new r.default;this.isLoggedIn=e.getIsLoggedIn(),this.userId=e.getUserId()},l.prototype.createLocalStationInformationSetter=function(e,t){return function(){var n=(0,o.default)().getState(),r=(0,a.default)(n,"user.org.status"),s=t,u=(0,a.default)(n,"user.org.id"),l=(0,a.default)(n,"org"),c=(0,a.default)(l,""+u);if(r===i.FAILED)s.localizedStationId="notlocalized",e(s);else if(r===i.RESOLVED)if(c){var d=(0,a.default)(c,"callLetters");s.localizedStationId=u.toString()+" | "+d,e(s)}else s.localizedStationId="notlocalized",e(s)}},l.prototype.loadPageviewData=function(){var e=this;return this.gtmLoadNprServerVarData(),this.loadUserData(),new Promise((function(t){var n=void 0;new Promise((function(t){n=(0,o.default)().subscribe(e.createLocalStationInformationSetter(t,e))})).then((function(){n(),t(e)}))}))},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreams=void 0;c(n(132));var a,r=c(n(1)),o=n(91),i=(a=o)&&a.__esModule?a:{default:a},s=c(n(649)),u=c(n(650)),l=c(n(568));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=t.musicStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){n();var o=e(a);n();if(a.type===r.MUSIC_STREAMS_REQUESTED){var c=function(e){var t=Object.values(s.FEATURED_STREAMS);return e.filter((function(e){for(var n=!1,a=0;a<t.length;a++)t[a].guid===e.guid&&(n=!0);return n}))},f=!0,p=[],h=[],m=[],g=[],y=[],v=[],_=[],E=[],S=[],b=u.genreRock,O=u.genreJazz,T=u.genreClassical,P=u.genreMixed,A=u.genreRb,w=u.genreHiphop,I=u.genreFolk,D=u.genreLocal;i.default.getMusicHomepageStreams().then((function(e){(function(e){for(var t in e){switch(t){case b:h=f?c(e[t]):e[t];break;case O:E=f?c(e[t]):e[t];break;case T:g=f?c(e[t]):e[t];break;case P:S=f?c(e[t]):e[t];break;case A:y=f?c(e[t]):e[t];break;case w:v=f?c(e[t]):e[t];break;case I:m=f?c(e[t]):e[t];break;case D:p=e[t]}_=[].concat(d(y),d(v))}})(e=function(e){var t=Object.values(s.FEATURED_STREAMS);for(var n in e)if(e.hasOwnProperty(n))for(var a=0;a<e[n].length;a++){var r=e[n][a];if(1==r.stations.length)r.orgId=r.stations[0].orgId,r.primaryStream=r.stations[0].primaryStream;else if(0==r.stations.length)e[n].splice(a,1);else{for(var o=!1,i=0;i<t.length;i++)if(t[i].guid===r.guid){o=!0,r.orgId=t[i].orgId;var u=!0,l=!1,c=void 0;try{for(var d,f=r.stations[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.orgId===t[i].orgId&&(r.primaryStream=p.primaryStream)}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}0==o&&e[n].splice(a,1)}delete r.stations}return e}(e)),t(l.musicStreamsRequestReceived({localStreams:p,rockStreams:h,folkStreams:m,classicalStreams:g,rbStreams:y,hiphopStreams:v,rbHiphopStreams:_,jazzStreams:E,mixedStreams:S}))})).catch((function(){t(l.musicStreamsRequestFailed())}))}return o}}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FEATURED_STREAMS={"WBGO Jazz 88.3FM":{guid:"4fcf714b0fed46aabb40d8dccfd2b653",orgId:"314"},"KMHD Jazz Radio":{guid:"4fcf715c0943492283acb61db1ffcdda",orgId:"1117"},"KUVO Jazz":{guid:"c416bd92f2cf458e827142694653b24d",orgId:"254"},"WRTI Jazz":{guid:"4fcf71670e8640288e97d8a2e62b66b1",orgId:"597"},"Eric in the Evening Jazz (WGBH)":{guid:"1272855b373b4c5481bb610c7e8a2b20",orgId:"395"},"Jazz24 (KNKX)":{guid:"4fcf713c182b4b6095b9b13837299888",orgId:"148"},"Folk Alley":{guid:"4fcf71461d0a4443ac288b01dc637734",orgId:"471"},"Folk Alley Fresh Cuts":{guid:"13f58d45350018840a8b762a3d26f26d",orgId:"471"},"Radio Heartland":{guid:"4fcf71411eb5469cbddfec74ea1afed9",orgId:"936"},"WMOT-FM 89.5":{guid:"4fcf716520a84fa994d5a8bf21dfb6d7",orgId:"508"},WNCW:{guid:"4845e6714d3f4410ae366954eb90d31a",orgId:"525"},"The Current":{guid:"4fcf714225f048d5999ee032db4ccba4",orgId:"936"},KEXP:{guid:"4fcf713d22c7435c85380a8d1fe87750",orgId:"79"},WXPN:{guid:"4fcf715317fe44b794b610e14c4fb34e",orgId:"715"},KUTX:{guid:"4fcf713f157a400ea510541bfd337134",orgId:"1280"},WFUV:{guid:"13efb13be6f0117418e906a2db1d5eb9",orgId:"393"},"Indie 102.3":{guid:"4fcf715620ac4d409ce441250528367c",orgId:"1515"},WQXR:{guid:"4fcf7151007341b7b570e4b15b3078c9",orgId:"1130"},WETA:{guid:"808eb32aba46479dad9f0a953c4a7084",orgId:"372"},"Houston Public Media Classical":{guid:"4fcf713110c243cb85bdd689887d3a2b",orgId:"220"},"CPR Classical":{guid:"4fcf7156166a453991682ff335006aed",orgId:"41"},"WDAV 89.9 Classical Public Radio":{guid:"4fcf714b18ab453dace011707e537fd3",orgId:"357"},KCRW:{guid:"ae77f58ad68b47e8aac25d9466f7f158",orgId:"55"},"New Sounds":{guid:"4fcf7150247746b988de842a0dfe0c72",orgId:"554"},KXLL:{guid:"4fcf715c22cc4aad93993390da7eb305",orgId:"1000"},KUNM:{guid:"4fcf716007484eaf83f64a4342d2d9c3",orgId:"227"},KZYX:{guid:"1c614cd30b6a4fd083b72e18247ba189",orgId:"291"},"88Nine Milwaukee":{guid:"c7d1024c2bd4445a9c031a7e1d904f5a",orgId:"921"},"The Drop":{guid:"d7900b89790d4e02aafda8745e2bca01",orgId:"254"},Vocalo:{guid:"2c295a62b7b54b5b9be902d6e8824ed1",orgId:"308"},"WMNF Soul School":{guid:"522918008c434a0eb87e50d48bd6fb39",orgId:"507"},"Classical MPR":{guid:"4fcf714123f54bc69e2913e58703bd8b",orgId:"818"},"NewGrass Valley":{guid:"4fcf714c0ce04224a0caced12ecfe7c7",orgId:"402"},"KCRW Eclectic24 All Music":{guid:"99cffd6263b24ab7aa9e9404c07171d6",orgId:"55"},"Purple Current":{guid:"8e86978fdb9d4c74a79472bf2e21f7b3",orgId:"111"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.genreRock="10001",t.genreJazz="10002",t.genreClassical="10003",t.genreHiphop="10005",t.genreMixed="853031894",t.genreRb="139998808",t.genreFolk="139999257",t.genreLocal="local"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.donations=t.getLocalStationDataByParam=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=u(n(91)),o=n(32),i=u(n(221)),s=u(n(30));function u(e){return e&&e.__esModule?e:{default:e}}t.getLocalStationDataByParam=(l=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.getForcedLocalizationStationId();case 3:return t=e.sent,e.next=6,r.default.getNonLocalStationData(t);case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,void 0,[[0,10]])})),c=function(){var e=l.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))},function(){return c.apply(this,arguments)});var l,c,d=t.donations=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){var u=n(),l=e(r),c=n();if(!u.donations.showStationPickerModal&&c.donations.showStationPickerModal)document.body.style.top="-"+window.scrollY+"px",document.body.classList.add("has-find-station-modal");else if(u.donations.showStationPickerModal&&!c.donations.showStationPickerModal){var d=document.body.style.top;document.body.classList.remove("has-find-station-modal"),document.body.style.top="",window.scrollTo(0,-1*parseInt(d||"0"))}if(r.type===a.SESSION_LOADED){var f=s.default.getQueryParams();"amount"in f&&(t(i.default.handleSetSource({source:f.source||o.DONATION_EMBED})),t(i.default.handleSetOtherAmount(+f.amount,"true"===f.subscription)))}return r.type===a.SET_SOURCE&&u.donations.source.includes(o.DONATION_EMBED)&&c.donations.source.includes(o.DONATION_EMBED)&&t(i.default.handleResetOtherAmount()),l}}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.piano=void 0;var a=i(n(1)),r=i(n(38)),o=n(233);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=!1,l=t.piano=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){var r=e(n);t();return n.type===a.PIANO_INIT_SUCCEEDED&&(d(),"prod"!==NPR.ServerConstants.environment&&tp.push(["setDebug",!0]),"undefined"!=typeof NPR_OptanonWrapper&&!0===NPR_OptanonWrapper?c():document.addEventListener("npr:DataConsentAvailable",(function(){c()})),document.addEventListener("npr:DataConsentChanged",(function(){c()})),document.addEventListener("npr:LocalizationCompleted",(function(){var e;(e=(0,o.getLocalizedStationId)())?tp.push(["setCustomVariable","localStation",e]):tp.push(["setCustomVariable","localStation",""])})),tp.push(["setPageURL",window.location.href]),f(),tp.experience.init(),u=!0),n.type===a.PAGE_DETECTED&&!0===u&&(tp.push(["setPageURL",window.location.href]),f(),tp.experience.execute()),r}}};function c(){r.hasConsentedTo(r.TARGETING_AND_SPONSOR)?tp&&(tp.consent.set("COMPOSER",{mode:"opt-in"}),tp.consent.set("DL",{mode:"opt-in"}),tp.consent.set("DMP",{mode:"opt-in"}),tp.consent.set("ESP",{mode:"opt-in"}),tp.consent.set("ID",{mode:"opt-in"}),tp.consent.set("PA",{mode:"opt-in"}),tp.consent.set("Social Flow",{mode:"opt-in"}),tp.consent.set("VX",{mode:"opt-in"})):d()}function d(){tp&&(tp.consent.set("COMPOSER",{mode:"opt-out"}),tp.consent.set("DL",{mode:"opt-out"}),tp.consent.set("DMP",{mode:"opt-out"}),tp.consent.set("ESP",{mode:"opt-out"}),tp.consent.set("ID",{mode:"opt-out"}),tp.consent.set("PA",{mode:"opt-out"}),tp.consent.set("Social Flow",{mode:"opt-out"}),tp.consent.set("VX",{mode:"opt-out"}))}function f(){if(!tp)return!1;if(NPR.serverVars.tagIds){var e=NPR.serverVars.tagIds.map((function(e){return e=e.replaceAll(",","-")}));tp.push(["setTags",[].concat(s(e))])}else tp.push(["setTags",""]);if(NPR.serverVars.fullPubDate?tp.push(["setContentCreated",NPR.serverVars.fullPubDate]):tp.push(["setContentCreated",""]),NPR.serverVars.byline){var t=NPR.serverVars.byline;Array.isArray(t)&&(t=t.join(", ")),tp.push(["setContentAuthor",t]),tp.push(["setCustomVariable","byline",NPR.serverVars.byline])}else tp.push(["setContentAuthor",""]),tp.push(["setCustomVariable","byline",""]);NPR.serverVars.primaryTopic?tp.push(["setContentSection",NPR.serverVars.primaryTopic]):tp.push(["setContentSection",""])}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pianoInitSucceeded=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.pianoInitSucceeded=function(){return{type:a.PIANO_INIT_SUCCEEDED}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=l(n(2)),r=l(n(73)),o=n(14),i=l(n(18)),s=l(n(36)),u=l(n(1333));function l(e){return e&&e.__esModule?e:{default:e}}var c="end-of-story-recommendations-mount",d=i.default.create();d.name="recommendations/end-of-story-recommendations-callout",d.onReady=function(){var e=document.getElementById(c);e&&r.default.render(a.default.createElement(o.Provider,{store:(0,s.default)()},a.default.createElement(u.default,null)),e)},d.onUnload=function(){var e=document.getElementById(c);e&&r.default.unmountComponentAtNode(e)},d.register()},function(e,t,n){"use strict";(function(e){var a,r;a=[n(18),n(6)],void 0===(r=function(e,t){var n=e.create();function a(){t(this).find(".tooltip").toggleClass("is-active")}n.name="story/date-tooltip",n.onReady=function(){t("body").hasClass(".agg")||t(".dateblock > time").on("click",a)},n.onUnload=function(){t(".dateblock > time").off("click",a)},n.register()}.apply(t,a))||(e.exports=r)}).call(this,n(87)(e))},function(e,t,n){"use strict";var a=o(n(18)),r=o(n(1268));function o(e){return e&&e.__esModule?e:{default:e}}var i=a.default.create();i.name="podcast-cards";i.onReady=function(){document.querySelectorAll(".container .internallink--podcast-card:last-of-type").forEach((function(e){var t=Array.prototype.indexOf.call(e.parentNode.children,e);t>4&&(t="x"),e.parentNode.classList.add("container--podcast-cards","count-"+t)}));var e=document.querySelectorAll(".internallink__teaser p");Array.prototype.forEach.call(e,(function(e){return(0,r.default)(e,{clamp:4})}))},i.register()},function(e,t,n){"use strict";var a=d(n(2)),r=d(n(73)),o=n(14),i=d(n(18)),s=d(n(36)),u=d(n(1339)),l=n(103),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(101));function d(e){return e&&e.__esModule?e:{default:e}}var f=i.default.create();f.name="local/newsletter/callout";var p=null;f.onReady=function(){var e=document.getElementById("local-newsletter-acquisition-callout-data"),t=e?e.getAttribute("data-newsletter"):null,n=JSON.parse(t)||null;n?(p=!0,r.default.render(a.default.createElement(o.Provider,{store:(0,s.default)()},a.default.createElement(u.default,{newsletter:n})),e)):$("body").hasClass("local")&&(0,l.makeAdScrollable)(c.STANDARD)},f.onUnload=function(){p&&r.default.unmountComponentAtNode(p)},f.register()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a,r;a=[n(6)],void 0===(r=function(e){return e.fn.clicktoggle=function(t,n){return this.each((function(){var a=!1;e(this).bind("click",(function(){return a?(a=!1,n.apply(this,arguments)):(a=!0,t.apply(this,arguments))}))}))},e}.apply(t,a))||(e.exports=r)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";window.Swipe=function(e,t){if(!e)return null;this.options=t||{},this.index=this.options.startSlide||0,this.speed=this.options.speed||300,this.callback=this.options.callback||function(){},this.delay=this.options.auto||0,this.container=e,this.element=this.container.children[0],this.container.style.overflow="hidden",this.element.style.listStyle="none",this.setup(),this.begin(),this.element.addEventListener&&(this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("transitionend",this,!1),window.addEventListener("resize",this,!1))},Swipe.prototype={setup:function(){if(this.slides=this.element.children,this.length=this.slides.length,this.length<2)return null;if(this.width=this.container.getBoundingClientRect().width,!this.width)return null;this.container.style.visibility="hidden",this.element.style.width=this.slides.length*this.width+"px";for(var e=this.slides.length;e--;){var t=this.slides[e];t.style.width=this.width+"px",t.style.display="table-cell",t.style.verticalAlign="top",t.style.overflow="visible"}this.slide(this.index,0),this.container.style.visibility="visible"},slide:function(e,t){var n=this.element.style;n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms",n.webkitTransform="translate3d("+-e*this.width+"px,0,0)",n.msTransform=n.MozTransform=n.OTransform="translateX("+-e*this.width+"px)",this.index=e,void 0!==this.options.slideCallback&&this.options.slideCallback()},getPos:function(){return this.index},prev:function(e){this.delay=e||0,clearTimeout(this.interval),this.index&&this.slide(this.index-1,this.speed)},next:function(e){this.delay=e||0,clearTimeout(this.interval),this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},begin:function(){var e=this;this.interval=this.delay?setTimeout((function(){e.next(e.delay)}),this.delay):0},handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(e);break;case"resize":this.setup()}},transitionEnd:function(e){this.delay&&this.begin(),this.callback(e,this.index,this.slides[this.index])},onTouchStart:function(e){this.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)},this.isScrolling=void 0,this.deltaX=0,this.element.style.webkitTransitionDuration=0},onTouchMove:function(e){e.touches.length>1||e.scale&&1!==e.scale||(this.deltaX=e.touches[0].pageX-this.start.pageX,void 0===this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(e.touches[0].pageY-this.start.pageY))),this.isScrolling||(e.preventDefault(),clearTimeout(this.interval),this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1),this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)"))},onTouchEnd:function(e){var t=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,n=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;if(!this.isScrolling){this.deltaX<0&&"Next Slide",this.slide(this.index+(t&&!n?this.deltaX<0?1:-1:0),this.speed)}}},window.SwipeIE=function(e,t){if(!e)return null;this.options=t||{},this.index=this.options.startSlide||0,this.element=e,this.ul=$(e).first(),this.setup()},SwipeIE.prototype={setup:function(){this.slides=this.ul.find("li"),this.length=this.slides.length},slide:function(e){$(this.element).find("li").hide().removeClass("block").addClass("none"),$(this.slides[e]).show().addClass("block").removeClass("none").find("img").show(),this.index=e,void 0!==this.options.slideCallback&&this.options.slideCallback()},getPos:function(){return this.index},prev:function(){this.index&&this.slide(this.index-1)},next:function(){this.index<this.length-1?this.slide(this.index+1):this.slide(0)}}},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getMimeType:function(e){var t=e.substring(e.lastIndexOf(".")+1);if(t)return"jpg"===t.toLowerCase()||"jpeg"===t.toLowerCase()?"image/jpeg":"image/"+t}}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(477));var r={};r[a.ETHICS_SERIES]={facetName:"series",refinementValue:"NPR Ethics Handbook"},r[a.MEMMOS_BLOG]={facetName:"blogs",refinementValue:"Memmos"},t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=c(r),i=(c(n(4)),n(14)),s=(c(n(7)),c(n(335))),u=c(n(1334)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.storyHistory.currentStoryId;e&&this.props.dispatch(s.default.endOfStoryRecommendationRequested(e))}},{key:"componentDidUpdate",value:function(e){var t=e.storyHistory.currentStoryId,n=this.props.storyHistory.currentStoryId;t!==n&&this.props.dispatch(s.default.endOfStoryRecommendationRequested(n))}},{key:"render",value:function(){var e=[],t=this.props.storyRecommendations;return t.endOfStory.status==l.RESOLVED&&t.endOfStory.recommendations.forEach((function(t){t.recommendations.length>0&&e.push(o.default.createElement(u.default,{recommendationSet:t,key:t.title}))})),o.default.createElement("div",null,e)}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{storyRecommendations:e.storyRecommendations,storyHistory:e.storyHistory,player:e.player}}))(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),r=(i(n(4)),i(n(1335))),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1338));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.recommendationSet,n=t.title,i=t.metricsHeader,s=t.recommendations,u=[];return s.forEach((function(e,t){if(u.length<o.RECOMMENDATION_SET_SIZE){var n="story-recommendations__result story-recommendations__result--"+i;u.push(a.default.createElement("div",{className:n,key:e.storyId},a.default.createElement(r.default,{recommendationItem:e,metricsHeader:i,positionIndex:t})))}})),a.default.createElement("section",{className:"story-recommendations"},a.default.createElement("h3",{className:"story-recommendations__header"},n),u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=d(r),i=(d(n(4)),d(n(73))),s=d(n(1336)),u=d(n(72)),l=d(n(1248)),c=n(129);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storyImageRef=o.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatImage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&(e=e.substring(0,e.lastIndexOf("."))+"."+n),e&&t){var a=100*Math.ceil(t/100);return e+"?s="+a}return""}},{key:"componentDidMount",value:function(){i.default.findDOMNode(this.storyImageRef.current).setAttribute("loading","lazy")}},{key:"render",value:function(){var e=this.props.containerWidth,t=this.props.recommendationItem,n=t.storyId,a=t.title,r=t.href,i=t.imageUrl,s=t.slugTitle,d=t.slugUrl,f=this.props.metricsHeader,p=this.props.positionIndex+1,h="recommended-story recommended-story--"+n;return o.default.createElement("article",{className:h},i&&o.default.createElement(u.default,{href:r,className:"recommended-story__image-link",metrics:{category:"egg carton",action:"click "+f+" story "+p,label:n+" - image"},metricsGA4:{category:"recirculation",action:c.STORY_RECIRCULATION_CLICK,clickType:f+" story",clickPosition:p,clickUrl:r}},o.default.createElement("picture",null,o.default.createElement("source",{srcSet:this.formatImage(i,e,"webp"),type:"image/webp"}),o.default.createElement("source",{srcSet:this.formatImage(i,e),type:l.default.getMimeType(i)}),o.default.createElement("img",{className:"recommended-story__image",src:this.formatImage(i,e),ref:this.storyImageRef}))),o.default.createElement("div",{className:"recommended-story__info"},o.default.createElement("h5",{className:"recommended-story__slug"},o.default.createElement(u.default,{href:d,metrics:{category:"egg carton",action:"click "+f+" slug "+p,label:d},metricsGA4:{category:"recirculation",action:c.STORY_RECIRCULATION_CLICK,clickType:f+" slug",clickPosition:p,clickUrl:r}},s)),o.default.createElement("h4",{className:"recommended-story__title"},o.default.createElement(u.default,{href:r,metrics:{category:"egg carton",action:"click "+f+" story "+p,label:n+" - headline"},metricsGA4:{category:"recirculation",action:c.STORY_RECIRCULATION_CLICK,clickType:f+" story",clickPosition:p,clickUrl:r}},a))))}}]),t}(r.Component);t.default=(0,s.default)()(f)},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RECOMMENDATION_SET_SIZE=6},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=p(r),i=(p(n(4)),n(14)),s=p(n(1340)),u=f(n(66)),l=n(127),c=f(n(37)),d=p(n(1341));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,l.getBoundHandlers)(n,["onExternalSubscriptionRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onExternalSubscriptionRequested",value:function(e,t,n,a,r){this.props.dispatch(u.newsletterExternalAcquisitionRequested(e,t,n,a,r))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.newsletter;return n.organizationId===c.WAMU?o.default.createElement(d.default,{user:t,newsletter:n,handlers:this.handlers}):n.organizationId===c.WBEZ?o.default.createElement(s.default,{user:t,newsletter:n,handlers:this.handlers}):null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{user:e.user}}))(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=g(r),i=(g(n(4)),g(n(7))),s=g(n(344)),u=g(n(218)),l=m(n(19)),c=g(n(333)),d=m(n(37)),f=g(n(54)),p=m(n(101)),h=n(103);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubscribe=function(){n.doExternalSubscribe()},n.triggerRecaptcha=function(e){e.preventDefault(),n.setState({tempFormData:e.target},(function(){n.onSubscribe()}))},n.doExternalSubscribe=function(){var e=new FormData(n.state.tempFormData),t=n.state.emailInput.value;n.isValidEmail(t)?(n.setState({errorMessage:""}),n.handlers.onExternalSubscriptionRequested(t,n.state.newsletterId,n.state.organizationId,n.state.externalAction,e)):n.setState({errorMessage:"Please enter a valid email address."})},n.isValidEmail=function(e){var t=e.trim();return!(t.length>=0)||u.default.isEmail(t)},n.handlers=e.handlers,n.state={isExternalNewsletter:!1,additionalHiddenFields:[],externalAction:null,emailInput:{},emailFieldName:null,newsletterId:null,organizationId:null,errorMessage:"",termsText:"",tempFormData:null};var a=c.default[d.WBEZ];return n.state.isExternalNewsletter=a.enabled,n.state.externalAction=a.url,n.state.termsText=a.termsText,n.state.emailFieldName=a.emailFieldName,n.state.marketingHeader=a.marketingHeader,n.state.marketingShortDescription=a.shortDescription,n.state.newsletterId=a.id,n.state.organizationId=a.organizationId,n.state.additionalHiddenFields=a.hiddenFieldsRightRail,n.state.additionalHiddenFields.push({name:"newsletterId",value:n.state.newsletterId}),n.state.brandingLogo=a.logo,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){f.default.trackEvent(f.default.defaultEventWithLabel("newsletter","view subscribe box","WBEZ right rail")),(0,h.makeAdScrollable)(p.STANDARD)}},{key:"render",value:function(){var e=this,t=(0,u.default.isUserLoggedIn)(this.props.user),n='See full <a href="http://pages.wbez.org/WWDTM-Contest-2019">Sweepstakes Details and Rules</a>. '+this.state.termsText+' This sign-up box is protected by reCAPTCHA, use of which is governed by the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a>.',a="",r=!1,c="",d=!1;if(t&&(c=(0,i.default)(this.props.user,"view.data.attributes.email"),!this.state.isExternalNewsletter)){var f=(0,i.default)(this.props.user,"view.data.attributes.subscriptions");f&&(0,s.default)(f,this.state.newsletterId)>=0&&(d=!0)}var p=(0,i.default)(this.props.user,"newsletter.status");p===l.FAILED&&(a="An error has occurred. Please try subscribing again."),(d||p===l.RESOLVED)&&(r=!0);var h=function(){var t=e.state.additionalHiddenFields;return Object.keys(t).map((function(e){return o.default.createElement("input",{type:"hidden",id:t[e].id,name:t[e].name,value:t[e].value,key:e})}))},m=function(){return o.default.createElement("img",{src:"https://media.npr.org/assets/WBEZ-rail-callout/wbez-rail-WWDTM-unsubscribed.png",className:"ad-local__image",alt:"WBEZ 91.5 Chicago. Win tickets to Wait Wait Don't Tell Me! From NPR and WBEZ Chicago. Get The Rundown from WBEZ, a daily newsletter of today's top stories, and you'll be entered to win 2 VIP tickets to a live taping."})},g=void 0,y=void 0,v=o.default.createElement("div",{className:"ad-local__footer"},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),_=(this.state.errorMessage||a)&&o.default.createElement("b",{className:"ad-local__error"},this.state.errorMessage||a);return r?y=o.default.createElement("img",{src:"https://media.npr.org/assets/WBEZ-rail-callout/wbez-rail-WWDTM-subscribed.png",className:"ad-local__image",alt:"Thank you for entering and subscribing! You'll receive The Rundown newsletter confirmation email shortly. Winners of the Wait Wait Don't Tell Me! contest will be notified soon!"}):c?(g=o.default.createElement("div",{className:"ad-local__main"},o.default.createElement("form",{id:"ad-local__form--newsletter",className:"ad-local__form",onSubmit:e.triggerRecaptcha},c&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"ad-local__input",type:"text",name:e.state.emailFieldName,readOnly:!0,value:c}),h(),c&&o.default.createElement("input",{className:"ad-local__submit",type:"submit",value:"subscribe"}))),y=m()):(g=o.default.createElement("div",{className:"ad-local__main"},o.default.createElement("form",{id:"ad-local__form--newsletter",className:"ad-local__form",onSubmit:e.triggerRecaptcha},!c&&o.default.createElement("label",{htmlFor:"ad-local__input"},"E-mail address"),h(),!c&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"ad-local__input",id:"ad-local__input",type:"email",name:e.state.emailFieldName,placeholder:"What's your email?"}),!c&&o.default.createElement("input",{className:"ad-local__submit",type:"submit",value:"subscribe"}))),y=m()),o.default.createElement("section",{className:"ad-local ad-local--wbez ad-local--wbez-sweepstakes"},o.default.createElement("div",{className:"ad-local__inner"},_,y,g,v))}}]),t}(r.Component);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),o=g(r),i=(g(n(4)),g(n(7))),s=g(n(344)),u=g(n(218)),l=m(n(19)),c=g(n(333)),d=m(n(37)),f=g(n(54)),p=m(n(101)),h=n(103);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubscribe=function(){n.doExternalSubscribe()},n.triggerRecaptcha=function(e){e.preventDefault(),n.setState({tempFormData:e.target},(function(){n.onSubscribe()}))},n.doExternalSubscribe=function(){var e=new FormData(n.state.tempFormData),t=n.state.emailInput.value;n.isValidEmail(t)?(n.setState({errorMessage:""}),n.handlers.onExternalSubscriptionRequested(t,n.state.newsletterId,n.state.organizationId,n.state.externalAction,e)):n.setState({errorMessage:"Please enter a valid email address."})},n.isValidEmail=function(e){var t=e.trim();return!(t.length>=0)||u.default.isEmail(t)},n.handlers=e.handlers,n.state={isExternalNewsletter:!1,additionalHiddenFields:[],externalAction:null,emailInput:{},emailFieldName:null,newsletterId:null,organizationId:null,errorMessage:"",termsText:"",tempFormData:null};var a=c.default[d.WAMU];return n.state.isExternalNewsletter=a.enabled,n.state.externalAction=a.url,n.state.termsText=a.termsText,n.state.emailFieldName=a.emailFieldName,n.state.marketingHeader=a.marketingHeader,n.state.marketingShortDescription=a.shortDescription,n.state.newsletterId=a.id,n.state.organizationId=a.organizationId,n.state.brandingLogo=a.logo,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){f.default.trackEvent(f.default.defaultEventWithLabel("newsletter","view subscribe box","WAMU right rail")),(0,h.makeAdScrollable)(p.STANDARD)}},{key:"render",value:function(){var e=this,t=(0,u.default.isUserLoggedIn)(this.props.user),n=this.state.termsText+' This sign-up box is protected by reCAPTCHA, use of which is governed by the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a>.',a="",r=!1,c="",d=!1;if(t&&(c=(0,i.default)(this.props.user,"view.data.attributes.email"),!this.state.isExternalNewsletter)){var f=(0,i.default)(this.props.user,"view.data.attributes.subscriptions");f&&(0,s.default)(f,this.state.newsletterId)>=0&&(d=!0)}var p=(0,i.default)(this.props.user,"newsletter.status");p===l.FAILED&&(a="An error has occurred. Please try subscribing again."),(d||p===l.RESOLVED)&&(r=!0);var h=function(){return o.default.createElement("img",{src:"https://media.npr.org/assets/WAMU-today-callout/wamu-today-callout.jpg",className:"ad-local__image",alt:"NPR WAMU 88.5 Washington, DC. Get regional news in your inbox. WAMU Today. Every weekday morning, you'll get the latest news and updates from WAMU and the most important stories from around the D.C. region - curated by our editors."})},m=void 0,g=void 0,y=o.default.createElement("div",{className:"ad-local__footer"},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),v=(this.state.errorMessage||a)&&o.default.createElement("b",{className:"ad-local__error"},this.state.errorMessage||a);return r?g=o.default.createElement("img",{src:"https://media.npr.org/assets/WAMU-today-callout/wamu-today-callout-thanks.jpg",className:"ad-local__image",alt:"Thanks for subscribing and welcome to WAMU Today! Look for the first edition in your inbox soon."}):c?(m=o.default.createElement("div",{className:"ad-local__main"},o.default.createElement("form",{id:"ad-local__form--newsletter",className:"ad-local__form",onSubmit:e.triggerRecaptcha},c&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"ad-local__input",type:"text",name:e.state.emailFieldName,readOnly:!0,value:c}),c&&o.default.createElement("input",{className:"ad-local__submit",type:"submit",value:"subscribe"}))),g=h()):(m=o.default.createElement("div",{className:"ad-local__main"},o.default.createElement("form",{id:"ad-local__form--newsletter",className:"ad-local__form",onSubmit:e.triggerRecaptcha},!c&&o.default.createElement("label",{htmlFor:"ad-local__input"},"E-mail address"),!c&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"ad-local__input",id:"ad-local__input",type:"email",name:e.state.emailFieldName,placeholder:"What's your email?"}),!c&&o.default.createElement("input",{className:"ad-local__submit",type:"submit",value:"subscribe"}))),g=h()),o.default.createElement("section",{className:"ad-local ad-local--wamu"},o.default.createElement("div",{className:"ad-local__inner"},v,g,m,y))}}]),t}(r.Component);t.default=y}]]);